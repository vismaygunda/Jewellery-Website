function Form(){this.fields=[],this.$content=null,this.class_name="Form",this.is_loaded=!1,this.view_class=null,this.inited=!1,this.ga_tracked=!1,this.readFieldsFromCookie=!1,this.fields_pairs=null,this.fields_pairs_json=null}function FormField(e){void 0!==e&&(this.id=null,this.field_id=null,this.required=null,this.label=null,this.supportsCookies=!1,this._providesValue=!0,this.class_name="FormField",this.containerId=null,this.$container=null,"string"==typeof e?this.parse(e):this.parseJSON(e))}function FormFieldText(e){void 0!==e&&(FormField.prototype.constructor.call(this,e),this.supportsCookies=!0,this.class_name="FormFieldText",this.field_type="text")}function FormFieldTextarea(e){FormField.prototype.constructor.call(this,e),this.class_name="FormFieldTextarea",this.field_type="textarea"}function FormFieldName(e){FormFieldText.prototype.constructor.call(this,e),this.class_name="FormFieldName",this.field_type="name"}function FormFieldEmail(e){FormFieldText.prototype.constructor.call(this,e),this.supportsCookies=!0,this.class_name="FormFieldEmail",this.field_type="email"}function FormFieldSubject(e){FormFieldText.prototype.constructor.call(this,e),this.class_name="FormFieldSubject",this.field_type="subject"}function FormFieldQuestion(e){FormFieldText.prototype.constructor.call(this,e),this.supportsCookies=!0,this.class_name="FormFieldQuestion",this.field_type="question"}function FormFieldCheckbox(e){this.checkboxes=[],FormField.prototype.constructor.call(this,e),this.class_name="FormFieldCheckbox",this.field_type="checkbox"}function FormFieldCheckboxForEmail(e){this.checkboxes=[],FormFieldCheckbox.prototype.constructor.call(this,e),this.class_name="FormFieldCheckboxForEmail",this.field_type="checkboxForEmail"}function FormFieldFacebookConnect(e){FormField.prototype.constructor.call(this,e),this._providesValue=!1,this.class_name="FormFieldFacebookConnect",this.field_type="facebookConnect"}function FormFieldHeader(e){FormField.prototype.constructor.call(this,e),this._providesValue=!1,e=e.replace(/^<p>/,"").replace(/<\/p>$/,""),this.content=e,this.class_name="FormFieldHeader",this.field_type="header"}function FormFieldRadio(e){this.radios=[],FormField.prototype.constructor.call(this,e),this.class_name="FormFieldRadio",this.field_type="radio"}function FormFieldRating(e){FormField.prototype.constructor.call(this,e),this.class_name="FormFieldRating",this.field_type="rating",this._providesValue=!1,this.rateMe=App.rateMe}function FormFieldSelect(e){this.selects=[],FormFieldRadio.prototype.constructor.call(this,e),this.class_name="FormFieldSelect",this.field_type="select"}function FormFieldSkill(e){this.skills=[],FormField.prototype.constructor.call(this,e),this.required=!0,this.class_name="FormFieldSkill",this.field_type="group"}function FormFieldSubmit(e){FormField.prototype.constructor.call(this,""),this.form=e.form,this._providesValue=!1,this.class_name="FormFieldSubmit",this.field_type="submit"}function Events(){this._supportsCORS=null}function Chat(){var e=this;this.id=null,this.GUID=null,this.started=!1,this.initializing=!1,this.started_by_operator=!1,this.finished=!1,this.parameters="",this.transferred=!1,this.mode=App.CHAT_MODE_SINGLE,this.previous_sneak_peek="",this.sneak_peek="",this.rating=null,this.welcome_message=null,this.custom_variables=null,this.store=Store,this.unseenMessages=[],this.unseenMessagesMap={},this._running=function(){if(!1!==App.supports3rdPartyCookies())return $.cookie("chat_running");try{return window.localStorage.getItem(App.getStorageKey("lc."+App.LICENSE+".chat_running"))}catch(e){}}(),this._waitingInQueue=function(){if(!1===App.supports3rdPartyCookies()){var e;try{e=window.localStorage}catch(e){}return e?window.localStorage.getItem(App.getStorageKey("lc."+App.LICENSE+".waiting_in_queue")):null}return $.cookie("waiting_in_queue")}(),this.setID=function(e){this.id=e},this.getID=function(){return null===this.id?"$":App.escape(this.id)},this.setConferenceID=function(e){this.conference_id=e,App.notifyParent.send("chat_id;"+encodeURIComponent(e)),100*Math.random()<1&&(App.isNewMobile()?App.events.track("chat_window_new_mobile","chat "+e+" started; UA: "+navigator.userAgent):App.isMobile()&&App.events.track("chat_window_mobile","chat "+e+" started; UA: "+navigator.userAgent))},this.getConferenceID=function(){return App.escape(this.conference_id)},this.getGUID=function(){return"$"},this.setStarted=function(e){this.started=e,!1!==e&&(this.running("1"),App.setTitle(__tran("Welcome_title")),App.showTextarea(),App.showOperatorsBar(),App.displaySocialNetworks(),App.enableRatingAndTranscript(),setTimeout(function(){App.bindTextareaResize(),App.bindDragAndDrop()},500))},this.getStarted=function(){return this.started},this.getRunning=function(){return!0===this.started&&!1===this.finished},this.setInitializing=function(e){this.initializing=e},this.getInitializing=function(){return this.initializing},this.setStartedByOperator=function(e){this.started_by_operator=e},this.getStartedByOperator=function(){return this.started_by_operator},this.setFinished=function(e){if(this.finished=e,!1===this.finished)return!0;App.notifyParent.send("chat_ended"),App.windowsCommunicator.clearBroadcast("status_ping"),this.running(null),App.removeBodyClass("chat-started")},this.getFinished=function(){return this.finished},this.setParameters=function(e){this.parameters=e},this.getParameters=function(){return this.parameters},this.setTransferred=function(e){this.transferred=e},this.getTransferred=function(){return this.transferred},this.setMode=function(e){var t;this.mode=e,this.mode===App.CHAT_MODE_SINGLE&&(t=App.getOperator(),App.notifyParent.send("operator;"+encodeURIComponent(App.unescapeForIWCS(t.getDisplayName()))+";"+encodeURIComponent(App.unescapeForIWCS(t.getAvatarUrl())))),this.mode===App.CHAT_MODE_QUEUE?this.waitingInQueue("1"):this.waitingInQueue(null)},this.running=function(e){var t;if(t=App.getStorageKey("lc."+App.LICENSE+".chat_running"),void 0!==e)if(this._running=e,!1===App.supports3rdPartyCookies()){var i;try{i=window.localStorage}catch(e){}if(i)if(null==e)try{window.localStorage.removeItem(t)}catch(e){}else try{window.localStorage.setItem(t,e)}catch(e){}}else $.cookie("chat_running",e,{expires:1});return this._running},this.waitingInQueue=function(e){var t;if(t=App.getStorageKey("lc."+App.LICENSE+".waiting_in_queue"),void 0!==e)if(this._waitingInQueue=e,!1===App.supports3rdPartyCookies()){var i;try{i=window.localStorage}catch(e){}if(i)if(null==e)try{window.localStorage.removeItem(t)}catch(e){}else try{window.localStorage.setItem(t,e)}catch(e){}}else $.cookie("waiting_in_queue",e,{expires:1});return this._waitingInQueue},this.getMode=function(){return this.mode},this.updateMode=function(){0==App.getOperatorsNumber()?this.setMode(App.CHAT_MODE_FINISHED):1==App.getOperatorsNumber()?this.setMode(App.CHAT_MODE_SINGLE):this.setMode(App.CHAT_MODE_CONFERENCE)},this.setSneakPeek=function(e){this.sneak_peek=$.trim(e),this.sneak_peek=App.stripCreditCards(this.sneak_peek)},this.getSneakPeek=function(){return this.sneak_peek===this.previous_sneak_peek?null:this.previous_sneak_peek=this.sneak_peek},this.setWelcomeMessage=function(e){this.welcome_message=e||"",App.notifyParent.send("welcome_message;"+encodeURIComponent(this.welcome_message))},this.getWelcomeMessage=function(e){var e;return e=$.extend({escape:!0},e),this.welcome_message||this.setWelcomeMessage(__tran("Welcome_to_chat",{name:App.client.getName()},e.escape)),this.welcome_message},this.getParsedWelcomeMessage=function(e){var t,i=App.getOperator();i&&(t=e&&e.escape?i.getDisplayName():App.escapeString(i.getDisplayName()));var o=this.getWelcomeMessage(e);return t?o.replace(/%agent%/g,t):o},this.displayedGreeting=function(e){return null!=e&&(this._displayedGreeting=e),this._displayedGreeting},this.setCustomVariables=function(t){var i=$.deparam(t);this.custom_variables={},$.each(i,function(t,i){try{e.custom_variables[decodeURIComponent(t)]=decodeURIComponent(i)}catch(o){e.custom_variables[t]=i}})},this.getCustomVariables=function(){return this.custom_variables},this.getFirstMessage=function(e){return this._firstMessage},this.setFirstMessage=function(e){this._firstMessage=e},this.unsetFirstMessage=function(){delete this._firstMessage},this.displayOperatorClosedMessage=function(){var e,t=__tran("Operator_closed_session",{operator:(e=App.getOperator())&&e.getDisplayName()||App.getOperatorWhoClosed()},!0);App.displayNewMessage({message:t})},this.addUnseenMessage=function(e){return this.unseenMessages.push({id:e,operator:App.getOperator().id}),this},this.getUnseenMessages=function(){return this.unseenMessages},this.findLastSeenMessage=function(){if("chat"===App.viewShown&&App.getWindowMode()!==App.WINDOW_MINIMIZED&&App.tabIsActive&&!this.$queueMessage){var t,i,o,n=this.getUnseenMessages();for(o=n.length-1;o>=0;--o)if(i=$('.operator-not-seen[data-message-id="'+n[o].id+'"]'),i.length&&this.messageIsSeen(i)){t=n[o];break}if(t){var r=this.markMessagesAsSeen(t.id),a=n[r].operator,s={};for(o=0;o<r;++o)if(n[o].operator!==a&&!s[n[o].operator]){var p=unseenMessagesMap[n[o].operator];!function(t,i){setTimeout(function(){e.sendAgentMessageSeen(t,i)},10)}(n[o].operator,p),delete unseenMessagesMap[n[o].operator],s[n[o].operator]=!0}this.unseenMessages=this.unseenMessages.slice(r+1),this.sendAgentMessageSeen(t.operator,t.id)}}},this.messageIsSeen=function(e){return App.elementIsSeen(e)},this.markMessagesAsSeen=function(e){var t;return $(".operator-not-seen").each(function(i){var o=$(this),n=o.data("message-id");if(o.removeClass("operator-not-seen"),e==n)return t=i,!1}),t},this.markLastSeenMessage=function(t){this.$lastSeen&&this.$lastSeen.removeClass("last-seen"),this.$lastSeen=$('.client[data-message-id="'+t+'"]'),App.doWithScrollCheck(function(){e.$lastSeen.addClass("last-seen")}),setTimeout(function(e){return function(){e.find(".last-seen-indicator").addClass("no-animation")}}(this.$lastSeen),500)},this.setOperatorsLastMessage=function(e){return this.unseenMessagesMap[App.getOperator().id]=e,this},this.sendAgentMessageSeen=function(e,t){this.getFinished()||App.request.sendJSON("agent_message_seen",{message:{id:t,agent_id:e}})},this.markDeliveredMessage=function(){App.doWithScrollCheck(function(){App.$lastSentMessage&&!App.$lastSentMessage.hasClass("last-seen")&&App.$lastSentMessage.addClass("delivered")})},this.displayQueueMessage=function(){return this.$queueMessage?this:(this.$queueMessage=App.displayNewMessage({message:__tran("Embedded_waiting_for_operator")+"..."}),this)},this.removeQueueMessage=function(){this.$queueMessage&&(this.$queueMessage.remove(),delete this.$queueMessage,App.playSound())},this.wasRunning=function(e){return void 0===e?this._wasRunning:(this._wasRunning=e,this)}}function Client(){this.id=null,this.name=null,this.email=null,this.setName=function(e){this.name=e},this.getName=function(e){var e=e||{};if(e.omitDefault=e.omitDefault||!1,null===this.name){var t=$.getUrlParam("name");return null!==t?this.setName(t):!0!==e.omitDefault&&this.setName(__tran("Client")),this.name}return e.omitDefault&&this.name===__tran("Client")?null:this.name},this.setEmail=function(e){""==e&&(e=null),this.email=e},this.getEmail=function(){var e=this.email;return null==e&&null!=$.getUrlParam("email")&&(e=$.getUrlParam("email")),App.escape(e)}}function Draggable(){Draggable.prototype.set=function(e){var t=this;e.bind("touchstart",function(i){t.handleTouchStart(i,e)})},Draggable.prototype.handleTouchStart=function(e,t){var i=this;t.addClass("dragged"),$("#wrapper").removeClass("animate"),this.firstPosition=e.originalEvent.touches[0].clientY,this.firstDelta=$("#wrapper").position().top-e.originalEvent.touches[0].clientY,t.bind("touchend",function(e){i.handleTouchEnd(e,t)}),t.bind("touchmove",function(e){i.handleTouchMove(e,t)})},Draggable.prototype.handleTouchEnd=function(e,t){var i=($("img.avatar")[0],!1);t.removeClass("dragged"),t.unbind("touchmove"),$("#wrapper").addClass("animate"),$("#wrapper").css("top",0),this.lastPosition-window.pageYOffset>window.innerHeight/2&&(i=!0,$("#wrapper").addClass("minimized"),$("body").removeClass("iframe-background"),this.lastPosition=0,App.sendToMobileNativeWrapper({messageType:"hideChatWindow"})),setTimeout(function(){$("#wrapper").removeClass("animate"),i&&App.notifyParent.send("minimize")},300)},Draggable.prototype.handleTouchMove=function(e,t){e.stopPropagation(),e.preventDefault(),e.originalEvent.touches[0].clientY<=0||($("#wrapper").css("top",e.originalEvent.touches[0].clientY+this.firstDelta),this.lastPosition=e.originalEvent.touches[0].clientY)}}function File(){this.dragAndDrop=function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e}(),this.ajaxUpload=function(){var e=new XMLHttpRequest;return!!(e&&"upload"in e&&"onprogress"in e.upload)}(),this.content,this.filesArray=[],this.filesToRegisterToken=[],this.filesToUploadArray=[],this.badFiles=[],this.uploading=!1}function Integration(){this.enabled=null}function Notification(){this._inited=!1,this.$notification=null,this.$content=null,this.init=function(){if(!0===this._inited)return!0;$("body").append('<div id="notification"><div id="notification-content"></div></div>'),this.$notification=$("#notification"),this.$content=$("#notification-content"),this._inited=!0},this.show=function(e){var t=this;this.init(),e=$.extend({message:"",type:"error",fadeOut:!1},e),App.addBodyClass("form-invalid"),this.$notification.hide(),this.$content.text(e.message),this.$notification.removeClass("error success").addClass(e.type).fadeIn(400),!0===e.fadeOut&&setTimeout(function(){t.hide(300)},5e3)},this.hide=function(e){return void 0===e&&(e=100),null===this.$notification||(0==this.$notification.is(":visible")||(App.removeBodyClass("form-invalid"),void this.$notification.fadeOut(e)))}}function Observers(){this._observers={}}function OfflineForm(){this.offlineMessage=null,this.ticketMessage=null,this.ticketSubject=null,this.class_name="OfflineForm",this.view_class="offline-form",this._loadedMap={},this._fields={},this.$content={},this.is_sent=!1,this.readFieldsFromCookie=!0}function Operator(){this.id=null,this.display_name=null}function PopOut(){this.is_popped_out=null,!0===this.isInIframe()?(App.addBodyClass("pop-out"),App.addBodyClass("pop-in-disabled")):!1===this.isPopOut()?App.addBodyClass("pop-in"):(App.addBodyClass("pop-out"),App.setWindowMode(App.WINDOW_POPOUT))}function QueuedForm(){this.queuedMessage=null,this.class_name="QueuedForm",this.view_class="queued-form",this.numberInQueue=null,this.waitingTime=null,this.rawHeader=null}function ReadMessage(){this.unread_messages=null}function RecentWindow(){this.is_recent=null,this.isRecentObserver=null}function Request(){this.regexps={iwcs:/^IWCS/},this._receivedUniqueIDs={},this.omitUniqueID=function(e){return null!=this._receivedUniqueIDs[e]||(this._receivedUniqueIDs[e]=1,!1)},this._lastMessageUniqueID=null,this.lastMessageUniqueID=function(e){return null!=e&&(this._lastMessageUniqueID=e),this._lastMessageUniqueID},this.connectionLost=!1,this.firstPingOmmited=null,this.failedRequestsNumber=0,this.shouldILogRequests=-1!==$.inArray(App.LICENSE,App.DEBUGGED_LICENSES),this.loggedRequestsCounter=0,this.loggedResponsesCounter=0,this.commands={"0116R":"operatorsAndChatState","0002R":"operatorAdded","1002S":"enterQueue","0003R":"chatClosedByOperator","0093R":"chatClosedDueToInactivity","0016R":"userLeftChat","5011F":"allOperatorsOffline","5012F":"allOperatorsOffline","5014F":"incorrectData","0043R":"offlineMessageSent","0006R":"messageFromOperator","0001P":"remoteDesktopRequest","0002P":"operatorIsTypingMessage","0109R":"integrationMessage","0004R":"pushPage","0099R":"skillStatus","1007S":"connectionClosed","0100R":"commonAnswer",JSON:"json",close_chat:"close_chat",send_message:"send_message","You are banned!":"clientBanned",chat_attachment:"chatAttachment",attachment_token:"attachmentToken",url_details:"urlDetails",url_details_response:"urlDetailsResponse",get_predicted_agent:"getPredictedAgent",start_chat:"startChat",agent_message_seen:"agentMessageSeen",visitor_message_seen:"visitorMessageSeen",status_ping:"operatorsAndChatState",send_rating_comment:"send_rating_comment","0014C":"synchroniseChatClosed","0114C":"synchroniseSendMessage","0004P":"synchroniseIntegration","0113C":"synchroniseRateOperator","0069C":"synchroniseEmailTranscript"},this.omitCommands={"0043C":"","0122C":"","0116C":"",status_ping:"","0099R":"","7000C":""},this.SSLOnlyCommands={"0069C":"","0117C":"","0114C":"","7000C":"","0004P":"","0115C":"",JSONC:"",get_pending_messages:"",send_message:"",attachment_token:"",send_rating_comment:"",url_details:"",start_chat:"",close_chat:"",agent_message_seen:""},this.comparisonParams={"0004P":[2,3],"0114C":[1,3],"0014C":[1,2],"0069C":[1,2,5],"0113C":[1,2,3]},this._sentCommands=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._sentCommandsLength=this._sentCommands.length,this._sentCommandsIndex=0,this._sentJSONCommands={},this._requestsCounter=0,this._unsentRequests=[],this.rememberSentCommand=function(e){e=App.unescapeForIWCS(e),e=e.replace(/\^\$\^/,"^^").replace(/\^\$$/,"^"),e=this.stripUnusedParams(e),this._sentCommands[this._sentCommandsIndex].push(e)},this.rememberSentJSONCommand=function(e){this._sentJSONCommands[e]=!0},this.checkIfInstanceSentCommand=function(e){var t,i;e=$.trim(e),e=e.replace(/\^[0-9]+$/,""),e=e.replace(/\^\$\^/,"^^").replace(/\^\$$/,"^"),e=this.stripUnusedParams(e);for(t in this._sentCommands)for(i in this._sentCommands[t])if(this._sentCommands[t][i]==e)return!0;return!1},this.checkIfInstanceSentJSONCommand=function(e){return null!=this._sentJSONCommands[e]},this.stripUnusedParams=function(e){var t,i,o,n,r,a;if(t=e.split("^"),i=t[0],o=i.replace(/^IWCS/,""),!this.comparisonParams[o])return e;for(r=[],r.push(i),n=0;n<this.comparisonParams[o].length;n++)a=this.comparisonParams[o][n],r.push(t[a]);return r.join("^")},this.send=function(e,t){if(t=$.extend({force_post:!1},t),0==this.failedRequestsNumber)for(;this._unsentRequests.length>0;){var i=this._unsentRequests.shift();this._doSend(i)}return this._doSend(e,t)},this.sendJSON=function(e,t,i){if(t=t||{},0==this.failedRequestsNumber)for(;this._unsentRequests.length>0;){var o=this._unsentRequests.shift();this._doSend(o)}return this._doSendJSON(e,t,i)},this._doSend=function(e,t){Math.round(+new Date/1e3);if("object"==typeof e&&e.name&&e.data)return this._doSendJSON(e.name,e.data,e.opts);var i,o,n,r,a,s,p,l=this;t=$.extend({},t);var c=App.requestsDistributor.tunnel_callback?"v2/":"";if(!0===App.pageIsUnloaded())return!1;if(i=e,e=$(e).map(function(e,t){return"string"!=typeof t?t:(t=IncorrectCharactersStripper.strip(t),t.replace(/\^/g,"&#94;"))}),e=$.makeArray(e),o=e.join("^")+"^",this.rememberSentCommand(o),this._requestsCounter++,n=this._requestsCounter,s=function(e,i){0===e[0].indexOf("IWCS0116R")&&(App._pendingCheckState=!1,App._checkStateCallbackOpts&&(t=$.extend(t,App._checkStateCallbackOpts),delete App._checkStateCallbackOpts)),"string"==typeof e&&(e=[$.trim(e)]),l.failedRequestsNumber>=15&&App.displayNewMessage({message:"Chat connection is back."}),l.failedRequestsNumber=0,l.incomingResponse(n,o,e,t),l.shouldILogRequests&&(l.loggedResponsesCounter++,App.events.track("chat_window_debug_log_response",App.CONFIG.visitor.session+";;"+l.loggedResponsesCounter+";;"+o+";;"+e)),l._sentCommandsIndex=(l._sentCommandsIndex+1)%l._sentCommandsLength,l._sentCommands[l._sentCommandsIndex]=[],t.callback&&t.callback()},p=function(t,o){var n;n=e[0].replace(l.regexps.iwcs,""),"0116C"===n&&(App._pendingCheckState=!1,delete App._checkStateCallbackOpts),l.shouldILogRequests&&App.events.track("chat_window_debug_log_response_error",App.CONFIG.visitor.session+";;"+l.loggedResponsesCounter+";;"+n),l.onTimeout(i,n,o)},this.shouldILogRequests&&(this.loggedRequestsCounter++,App.events.track("chat_window_debug_log_request",App.CONFIG.visitor.session+";;"+this.loggedRequestsCounter+";;"+o)),!0===t.force_post)r=!1===App.chatBetweenGroups()?"/licence/g"+App.LICENSE+"_"+App.SKILL+"/tunnel.cgi?"+App.generateRandomID(20):"/licence/"+App.LICENSE+"/tunnel.cgi?"+App.generateRandomID(20),$.ajax({type:"POST",url:r,global:!1,data:o,dataType:"text",timeout:2e4,success:s,error:p});else{r="",e[0].replace(l.regexps.iwcs,""),a="",r="https://";var d=App.getSecretToken();d&&(a+="&secret_token="+encodeURIComponent(d)),App.SECRET_ID&&(a+="&secret_id="+encodeURIComponent(App.SECRET_ID)),r+=App.SERVER_ADDRESS,!1===App.chatBetweenGroups()?r+="/licence/g"+App.LICENSE+"_"+App.SKILL+"/"+c+"tunnel_callback.cgi?"+App.generateRandomID(20)+a+"&jsonp=?":r+="/licence/"+App.LICENSE+"/"+c+"tunnel_callback.cgi?"+App.generateRandomID(20)+a+"&jsonp=?",0===o.indexOf("IWCS0116C")&&(App._pendingCheckState=!0),$.jsonp({url:r,data:{command:o},timeout:2e4,success:s,error:p})}return!0},this._doSendJSON=function(e,t,i){var o,n,r,a,s,p=this,l="",i=i||{},c="";if(!0===App.pageIsUnloaded())return!1;if(s=t.message_id?t.message_id:App.generateMessageRandomID(),App.requestsDistributor[e]&&(c="v2/"),o="https://",!i.omitSecrets){var d=App.getSecretToken();l="",d&&(l+="&secret_token="+encodeURIComponent(d)),App.SECRET_ID&&(l+="&secret_id="+encodeURIComponent(App.SECRET_ID))}o+=App.SERVER_ADDRESS,!1===App.chatBetweenGroups()?o+="/licence/g"+App.LICENSE+"_"+App.SKILL+"/"+c+e+"?"+App.generateRandomID(20)+l:o+="/licence/"+App.LICENSE+"/"+c+e+"?"+App.generateRandomID(20)+l,this.rememberSentJSONCommand(s),this._requestsCounter++,a=this._requestsCounter,n=function(n,r){p.failedRequestsNumber>=15&&(n.error&&"Missing chat"===n.error||App.displayNewMessage({message:"Chat connection is back."})),p.shouldILogRequests&&(p.loggedResponsesCounter++,App.events.track("chat_window_debug_log_response_json",App.CONFIG.visitor.session+";;"+p.loggedResponsesCounter+";;"+r+";;"+JSON.stringify(n))),"status_ping"===e&&(App._pendingCheckState=!1,App._checkStateCallbackOpts&&(i=$.extend(i,App._checkStateCallbackOpts),delete App._checkStateCallbackOpts)),p.failedRequestsNumber=0,null!=n.messages?p.incomingResponseJSON(a,e,t,n.messages,o):null!=n.attachment_token?App.file.attachmentTokenRegistered(n.attachment_token):null!=n.error?p.incomingResponseJSON(a,e,t,[{error:n.error}],o):-1!==$.inArray(e,["get_predicted_agent","start_chat","status_ping"])&&((n.message={}).name=e,p.incomingResponseJSON(a,e,t,[n],o)),i.successFn&&i.successFn()},r=function(o,n){"status_ping"===e&&(App._pendingCheckState=!1,delete App._checkStateCallbackOpts),p.shouldILogRequests&&App.events.track("chat_window_debug_log_response_error_json",App.CONFIG.visitor.session+";;"+p.loggedResponsesCounter+";;"+n),p.onTimeoutJSON(e,t,n,i)},t.random_id=s,t.visitor=t.visitor||{},t.visitor.id=App.SESSION_ID,this.shouldILogRequests&&(this.loggedRequestsCounter++,App.events.track("chat_window_debug_log_request_json",App.CONFIG.visitor.session+";;"+this.loggedRequestsCounter+";;"+JSON.stringify(t)));var u={url:o,success:n,error:r,timeout:2e4};"post"===i.method?(u.data=JSON.stringify(t),u.contentType="json",u.method="POST",u.xhrFields={withCredentials:!0}):(u.data={data:JSON.stringify(t)},u.dataType="jsonp",u.jsonp="jsonp"),"status_ping"===e&&(App._pendingCheckState=!0),$.ajax(u);Math.round(+new Date/1e3);return!0},this.omitFirstPing=function(){this.firstPingOmmited=!0,this.loadFirstScreen()},this.loadFirstScreen=function(){App.sendInfoToParent(),!1===App.OPERATORS_ONLINE&&!1===App.getSourceInvitation()?App.offlineForm.load():App.prechatSurvey.load()},this.incomingResponse=function(e,t,i,o){var n,r,a;response=null;Math.round(+new Date/1e3);if(1===e&&!0!==this.firstPingOmmited){if("IWCS5014F"==$.trim(i[0]))return App.setHistoryLoading(!1),App.chat.running(null),App.chat.waitingInQueue(null),this.loadFirstScreen(),!0;App.setHistoryLoading(!0)}for(2===e&&App.setHistoryLoading(!1),r=0;r<i.length;++r)n=$.trim(i[r]),n=App.unescapeForIWCS(i[r]),this.checkIfInstanceSentCommand(n)||(response=i[r].split("^"),response=this.decodeResponse(response),"IWCS_NONE"===response[0]||response[0].length<2||(a=$.trim(response[0].replace(this.regexps.iwcs,"")),"string"==typeof this.commands[a]?this.invokeAction(a,t,response,o):void 0!==this.omitCommands[a]?App.DEBUG&&$.log(a,"ommited intentionally"):App.DEBUG&&$.log("["+e+"] Command not implemented: "+a)))},this.incomingResponseJSON=function(e,t,i,o,n){var r,a,s,p,l,c;if("S1467828206.65ac95740a"===LC_API.get_visitor_id()&&App.events.track("missing_chat_investigation",[e,t,JSON.stringify(i),JSON.stringify(o),n].join(" ")),1===e&&!0!==this.firstPingOmmited){if(o.length>0&&o[0].error&&"Missing chat"===o[0].error)return App.setHistoryLoading(!1),App.chat.running(null),App.chat.waitingInQueue(null),this.loadFirstScreen(),!0;App.setHistoryLoading(!0)}for(2===e&&App.setHistoryLoading(!1),r=0;r<o.length;++r){if(p=o[r],null!=p.unique_id){if(this.omitUniqueID(p.unique_id))continue;this.lastMessageUniqueID(p.unique_id)}if(null!=p.message_iwcs){if(c=p.message_iwcs,c+="^"+p.timestamp,this.checkIfInstanceSentCommand(c))continue;if(c=c.split("^"),c=this.decodeResponse(c),"IWCS_NONE"===c[0]||c[0].length<2)continue;if(l=$.trim(c[0].replace(this.regexps.iwcs,"")),"string"!=typeof this.commands[l]){void 0!==this.omitCommands[l]?App.DEBUG&&$.log(l,"ommited intentionally"):App.DEBUG&&$.log("["+e+"] Command not implemented: "+l);continue}this.invokeAction(l,null,c)}else{if(p.error){if("send_message"===t||"Missing chat"!==p.error)continue;20*Math.random()<1&&App.events.track("chat_window_connection_lost_reason","response error missing chat "+t+" chat_state "+App.chat.getStarted()),App.connectionLost({source:"missing chat"})}if(p.message&&p.message.data&&this.checkIfInstanceSentJSONCommand(p.message.data.random_id)){for(a=0,s=this._unsentRequests.length;a<s;a++)$.isPlainObject(this._unsentRequests[a])&&this._unsentRequests[a].data&&this._unsentRequests[a].data.random_id===p.message.data.random_id&&this._unsentRequests.splice(a,1);continue}if(l=p.message.name,"string"!=typeof this.commands[l]){void 0!==this.omitCommands[l]?App.DEBUG&&$.log(l,"ommited intentionally"):App.DEBUG&&$.log("["+e+"] Command not implemented: "+l);continue}this.invokeActionJSON(p)}}"get_pending_messages"===t&&App.chat.markDeliveredMessage()},this.invokeAction=function(e,t,i,o){Actions.invoke(this.commands[e],t,i,o),"0116R"===e&&App.windowsCommunicator.broadcastCommonIWCS(App.SKILL,{responseCommand:e,originalRequest:t,response:i})},this.invokeActionJSON=function(e){Actions.invoke(this.commands[e.message.name],null,e),"status_ping"===e.message.name&&App.windowsCommunicator.broadcast(e.message.name,e)},this.onTimeout=function(e,t,i){switch(t){case"7000C":if(this.failedRequestsNumber++,15===this.failedRequestsNumber&&App.displayNewMessage({message:"Reconnecting…"}),this.failedRequestsNumber>45)return App.events.track("chat_window_connection_lost_reason","over 45 failed requests chat_state "+App.chat.getStarted()),App.connectionLost({source:"over 45 failed requests"}),!0;break;case"0002P":App.hideOperatorIsTyping();break;case"0116C":break;default:this._unsentRequests.push(e)}},this.onTimeoutJSON=function(e,t,i,o){switch(e){case"start_chat":App.events.track("chat_window_connection_lost_reason","7003c timeout chat_state "+App.chat.getStarted()+" textStatus "+i),App.connectionLost({source:"start chat"});break;case"get_pending_messages":if(this.failedRequestsNumber++,15===this.failedRequestsNumber&&App.displayNewMessage({message:"Reconnecting…"}),this.failedRequestsNumber>45)return App.events.track("chat_window_connection_lost_reason","over 45 failed JSON requests chat_state "+App.chat.getStarted()),App.connectionLost({source:"over 45 failed requests"}),!0;break;case"status_ping":break;default:this._unsentRequests.push({name:e,data:t,opts:o})}},this.setConnectionLost=function(){this.connectionLost=!0},this.connectionIsLost=function(){return this.connectionLost},this.decodeResponse=function(e){return $.map(e,App.unescapeForIWCS)}}function Shortener(){this.max_length=30,this.re=/(<a .*?>)(.*?)<\/a>/}function Tooltip(){this._inited=!1,this.$tooltip=null,this.$tooltipArrow=null,this.$tooltipContent=null,this.tooltipArrowW2=null,this.init=function(){return!0===this._inited||($("body").append('<div id="tooltip"><div id="tooltip-arrow"></div><div id="tooltip-content"></div></div>'),this.$tooltip=$("#tooltip"),this.$tooltipArrow=$("#tooltip-arrow"),this.$tooltipContent=$("#tooltip-content"),this.tooltipArrowW2=this.$tooltipArrow.outerWidth()/2,this._inited=!0,this)},this.set=function(e,t){if(App.isMobile()||App.isNewMobile())return this;this.init();var i=this,t=t||!1;return e.each(function(){var e,o;o=$(this),e=o.attr("title"),e&&(o.removeAttr("title"),e=e.replace(/\.$/,""),o.attr("data-title",e)),$(this).hover(function(){var e,o,n,r,a,s,p,l=$(this);e=l.attr("data-title"),i.$tooltipContent.html(e),i.$tooltip.css("visibility","hidden"),i.$tooltip.show(),o=l.offset(),a=l.outerWidth(),s=i.$tooltip.outerWidth(),n=o.left+parseInt((a-s)/2,10),n=n>0?n:6,r=o.top+l.outerHeight()+6,t?(r=o.top-l.outerHeight()-8,i.$tooltipArrow.css("margin-top","28px"),i.$tooltipArrow.css("border-color","#333 transparent transparent")):(i.$tooltipArrow.css("margin-top","0"),i.$tooltipArrow.css("border-color","transparent transparent #333")),n+s>$(window).width()-5&&(n=$(window).width()-s-5),p=o.left-n+a/2,p-=i.tooltipArrowW2,p=Math.round(p),i.$tooltipArrow.css("margin-left",p+"px"),i.$tooltip.css({top:r+"px",left:n+"px"}),i.$tooltip.attr("rel",l.attr("id")||""),i.$tooltip.css("visibility","visible")},function(){i.hide()})}),this},this.unset=function(e){return $(e).unbind("mouseenter mouseleave"),this},this.hide=function(e){if(App.isMobileDetected())return!1;var e=$.extend({target_id:!1},e);return(!1===e.target_id||e.target_id===this.$tooltip.attr("rel"))&&(this.$tooltip.hide(),this)}}function Validator(){}function WindowsCommunicator(){this._isMainWindow=!1,this._isMainWindowInGroup={},this.observers=[],this.main_window_group_interval=null,this.main_window_previous_group=null,this.last_received_message_timestamps={},this.last_received_iwcs_timestamp=0}function ChatSurvey(){Form.prototype.constructor.call(this),this.properties={},this.fields_pairs=null,this.fields_pairs_json=null,this.class_name="ChatSurvey"}function PostchatSurvey(){ChatSurvey.prototype.constructor.call(this),this.class_name="PostchatSurvey",this.view_class="postchat-survey",this.who_closed_chat=App.CLIENT,this.display_start_again_link=!1,this.chat_closed_manually=null,this.includeAllAnswers=!0}function PrechatSurvey(){ChatSurvey.prototype.constructor.call(this),this.formSubmitted=!1,this.startOnMaximize=!1,this.hasFacebookConnect=!1,this.facebookConnectLoaded=!1,this.facebookConnectParsed=!1,this.displayViewEventsBound=!1,this.class_name="PrechatSurvey",this.view_class="prechat-survey",this.readFieldsFromCookie=!0,this._supportBackwardsSkillsFormat=!0,this._surveyJSON=null,this.includeAllAnswers=!0}function Assistly(){}function EmailTranscript(){this.email=null}function Firefly(){this._inited=!1}function Freshbooks(){}function GoogleAnalytics(){}function JoinMe(){}function PushPage(){}function RateMe(){this.latestVote=this.NOT_RATED,this.latestVoteComment="",this.latestVoteTimestamp=null}function Zendesk(){}function EmailValidator(){this.regexp=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i}function Invitation(){this.message=null}var CustomVariablesParser={parse:function(e){return"string"==typeof e?this._parseObject(this.getArrayByString(e)):"object"==typeof e?this._parseObject(e):""},getArrayByString:function(e){var t,i,o,n;try{if(""===e||"$"===e)return"";for(e=IncorrectCharactersStripper.strip(e),o=[],n=e.split("&"),t=0;t<n.length;t++)if(i=n[t].split("="),i[1])try{i[0]=decodeURIComponent(i[0]),i[1]=decodeURIComponent(i[1]),o.push({name:i[0],value:i[1]})}catch(e){}return o}catch(e){return[]}},_parseObject:function(e){var t,i,o,n;n=IncorrectCharactersStripper.strip,t=[];for(i in e)"object"==typeof(o=e[i])&&void 0!==o.name&&void 0!==o.value&&(o.name=String(o.name).substring(0,500),o.value=String(o.value).substring(0,3500),
t.push(encodeURIComponent(n(o.name))+"="+encodeURIComponent(n(o.value))));return t.join("&")}},GlobalPropertiesParser={parseRequestsDistribution:function(e,t,i){var o={};if(e)for(var n=e.split(","),r=0;r<n.length;r++){var a=n[r],s=a.split(":");if(s&&2===s.length){var p=parseFloat(s[1])||0;p<1&&i?o[s[0]]=!1:p>Math.random()&&(o[s[0]]=!0)}}return o}},IncorrectCharactersStripper={strip:function(e){return"string"!=typeof e?e:e.replace(/[\x01-\x08\x0B\x0C\x0E-\x1F\x7F]/g,"")}},Pinger=function(){var e,t,i,o,n,r,a,s,p,l,c,d,u,f,h,m,g,b,v,y,A=5,_=IncorrectCharactersStripper.strip,w=function(e){return e.replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")};return{init:function(n){return e=n.config,t=n.app,i=n.minimized,o=n.loaderInfo,r=n.chatBetweenGroups,a=n.hostname,s=n.skill,p=n.visitorEmail,l=n.scriptVersion,c=n.embedded,h=n.statusChecker,m=n.pingRatio||1,g=n.newWebserv,o||(o={pageData:{title:document.title,url:document.location.toString(),referrer:document.referrer},protocol:"https://"}),f=!0,this.resetPingStart(),this},ping:function(d){var u,f,m,y,x,k,C,S,F,I=this,T="";if(d=d||{},d.forcePing&&(n=!0,this.set_force_reload(!0),this.resetPingStart(),h&&h.stopChecking()),g&&(T="v2/"),+new Date-this.getPingStart()>18e5&&(v=!0,t.setPingSent(!1),h&&h.startChecking()),this.getPageUnloaded())return!1;if(!n&&(!0===v||e.client_limit_exceeded))return!1;if(b&&clearTimeout(b),this.get_force_reload()){this.set_force_reload(!1);var E=e.lc&&void 0!==e.lc.groups?e.lc.groups:e.visitor.groups;for(u={visitor:{id:LC_API.get_visitor_id(),group:E}},p&&(u.visitor.email=p),""!==e.nick&&"$"!==e.nick&&(u.visitor.name=_(e.nick)),m=_(o.pageData.title),u.page={},m&&(u.page.title=m),m=o.pageData.url,m&&(u.page.url=m),m=_(o.pageData.referrer),m&&(u.page.referrer=m),l&&(u.script_version=l),k=[],m=e.lc&&void 0!==e.lc.params?e.lc.params:$.getUrlParam("params")||"",m=m.split("&"),1===m.length&&""===m[0]&&(m=[]),f=0;f<m.length;f++)y=m[f].split("="),k.push({name:decodeURIComponent(y[0]),value:decodeURIComponent(y[1])});k.length>0&&(u.visitor.custom_variables=k)}else u={visitor:{id:LC_API.get_visitor_id()}};C=Math.ceil(1e6*Math.random()),window["__lc_ping_"+C]=function(e){i&&i.isChattingSupported()&&(e.standard_greeting&&t.load_standard_invitation&&t.load_standard_invitation(),e.personal_greeting&&t.load_personal_invitation&&t.load_personal_invitation(e.personal_greeting),e.automatic_greeting&&t.load_auto_invitation&&t.load_auto_invitation(e.automatic_greeting)),e.next_ping_send_full_details?(I.set_force_reload(!0),I.sendNextPing(0)):t.setPingSent(!0),null!=e.next_ping_delay&&(0===e.next_ping_delay?b&&clearTimeout(b):A=e.next_ping_delay),e.group_status&&("offline"!==e.group_status&&"online_for_chat"!==e.group_status&&"online_for_queue"!==e.group_status||LC_API.on_chat_state_changed({state:e.group_status})),window["__lc_ping_"+C]=void 0},F="t="+ +new Date,F+="&data="+encodeURIComponent(w(JSON.stringify(u))),F+="&jsonp=__lc_ping_"+C,x=document.getElementById("livechat-ping"),x&&x.parentNode.removeChild(x),S=document.createElement("script"),S.id="livechat-ping",S.src=r?o.protocol+a+"/licence/"+e.lic+"/"+T+"ping?"+F:o.protocol+a+"/licence/g"+e.lic+"_"+s+"/"+T+"ping?"+F,c?DOM.appendToBody(S):document.body.appendChild(S),this.sendNextPing(A)},sendNextPing:function(e){var t=this;b&&clearTimeout(b),b=setTimeout(function(){t.ping.call(t)},1e3*e*m)},get_force_reload:function(){return y},set_force_reload:function(e){return this.resetPingStart(),y=e,this},getPageUnloaded:function(){return d},setPageUnloaded:function(e){return d=e,this},getPingStart:function(){return u},resetPingStart:function(){return u=+new Date,this},isInited:function(){return f},setConfig:function(t){return e=t,this}}}(),UrlsUtils={convertUrlToCdn:function(e){return-1!==e.indexOf("cdn.livechatinc.com/cloud/?uri")?UrlsUtils.removeProtocolFromURL(e):"cdn.livechatinc.com/cloud/?uri=http://"+encodeURI(UrlsUtils.removeProtocolFromURL(e))},removeProtocolFromURL:function(e){return e.replace(/^(http(s)?\:\/\/)/,"").replace(/^\/\//,"")}},Utils=function(){var e={domain:/[^:]+:\/\/[^\/\s]+/},t=Date.now||function(){return+new Date},i=t(),o=function(){return Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}}(),n=function(e,t){var i,n=[];if(o(e)){for(i=0;i<e.length;++i)n.push(t(e[i],i,e));return n}for(i in e)e.hasOwnProperty(i)&&n.push(t(e[i],i,e));return n};return{parseChatWindowTheme:function(e){var t=e.chat_window;return e.group_properties.chat_window.theme.skin_base&&(t.theme.name=e.group_properties.chat_window.theme.skin_base),e.group_properties.chat_window.theme.skin_css&&(t.theme.skin_css=e.group_properties.chat_window.theme.skin_css.replace(/\%color\%/gi,e.chat_window.theme.color),t.theme.skin_base=e.group_properties.chat_window.theme.skin_base),e.chat_window.theme.css&&e.chat_window.theme.color&&(t.theme.css=e.chat_window.theme.css.replace(/\%color\%/gi,e.chat_window.theme.color)),t},extractDomain:function(t){var i=t.match(e.domain);return i&&i[0]},isSkillOnline:function(e,t){return void 0!==Utils.find(t,function(t){return t===e})},makeItDone:function(e){var t;return{when:function(i){var o,n,r,a=function(){return!!i()&&(clearInterval(n),e(),r=!0)},s=function(){t&&t(),n=setInterval(a,o||100)};return this.tryEach=function(e){r||(o=e,clearInterval(n),s())},a()||s(),this},doBeforeTrying:function(e){return t=e,this}}},inArray:function(e,t,i){var o;if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,i);for(o=t.length,i=i?i<0?Math.max(0,o+i):i:0;i<o;i++)if(i in t&&t[i]===e)return i}return-1},forEach:function(e,t){for(var i=0;i<e.length;++i)t(e[i],i,e)},find:function(e,t){for(var i=0;i<e.length;++i)if(t(e[i],i,e))return e[i]},throttle:function(e,i){var o,n,r,a,s;i=i||500;var p=function(){e.apply(r,a),n=o};return function(){if(r=this,a=[].slice.call(arguments),o=t(),!n)return void p();var e=i-(o-n);if(e>0)return clearTimeout(s),void(s=setTimeout(function(){p()},e));p()}},jsonpRequest:function(e){e=e||{},e.protocol="https://",e.callback=e.callback||function(){},e.requestName=e.requestName||"__lc_jsonp_request",e.queryParams=e.queryParams||{};var t=e.requestName+Math.floor(1e6*Math.random());e.queryParams.jsonp=t,window[t]=function(i){delete window[t],e.callback(i)};var i=document.getElementById(e.requestName);i&&i.parentNode.removeChild(i);var o=document.createElement("script");o.id=e.requestName,o.src=e.protocol+e.hostname+e.endpoint+"?"+Utils.encodeQueryParams(e.queryParams),DOM.appendToBody(o)},encodeQueryParams:function(e){return n(e,function(e,t){return t+"="+e}).join("&")},once:function(e){var t;return function(){return t||(t=e())}},getNavigationStart:function(){return window.performance&&window.performance.timing&&window.performance.timing.navigationStart||i},getServiceAddress:function(e,t,i){var o=new RegExp("("+e+")(-)?(labs|lc)?","i"),n=t.match(o)[3];return"secure-"+i+(n?"-"+n:"")+".livechatinc.com"},get:function(e,t,i,o){for(o=0,t=t.split?t.split("."):t;e&&o<t.length;)e=e[t[o++]];return void 0===e?i:e},extend:function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},weakEq:function(e,t){return e==t},checkDomainWhitelist:function(e,t){var i,o;if(!e.length)return!0;for(t=t.toLowerCase(),"."===t[t.length-1]&&(t=t.slice(0,-1)),e.push("livechatinc.com"),i=0;i<e.length;i++)if(o=e[i],-1!==t.indexOf(o,t.length-o.length)&&(t.length===o.length||"."===t.charAt(t.length-o.length-1)))return!0;return"object"==typeof console&&console.log("[LiveChat] Current domain is not added to the whitelist. LiveChat has been disabled."),!1},callOnceEveryHours:function(e,t,i,o,n){var r=n(i);if(r){if((+new Date-r)/1e3/60/60<t)return!1}return e(),o(i,+new Date),!0},isArray:o,map:n}}();!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t="length"in e&&e.length,i=oe.type(e);return"function"!==i&&!oe.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function o(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,o){return!!t.call(e,o,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(de.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==i})}function n(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function r(e){var t=ve[e]={};return oe.each(e.match(be)||[],function(e,i){t[i]=!0}),t}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),oe.ready())}function p(e,t,i){if(void 0===i&&1===e.nodeType){var o="data-"+t.replace(xe,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(o))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:we.test(i)?oe.parseJSON(i):i)}catch(e){}oe.data(e,t,i)}else i=void 0}return i}function l(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,o){if(oe.acceptData(e)){var n,r,a=oe.expando,s=e.nodeType,p=s?oe.cache:e,l=s?e[a]:e[a]&&a;if(l&&p[l]&&(o||p[l].data)||void 0!==i||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||oe.guid++:a),p[l]||(p[l]=s?{}:{toJSON:oe.noop}),"object"!=typeof t&&"function"!=typeof t||(o?p[l]=oe.extend(p[l],t):p[l].data=oe.extend(p[l].data,t)),r=p[l],o||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[oe.camelCase(t)]=i),"string"==typeof t?null==(n=r[t])&&(n=r[oe.camelCase(t)]):n=r,n}}function d(e,t,i){if(oe.acceptData(e)){var o,n,r=e.nodeType,a=r?oe.cache:e,s=r?e[oe.expando]:oe.expando;if(a[s]){if(t&&(o=i?a[s]:a[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in o?t=[t]:(t=oe.camelCase(t),t=t in o?[t]:t.split(" ")),n=t.length;for(;n--;)delete o[t[n]];if(i?!l(o):!oe.isEmptyObject(o))return}(i||(delete a[s].data,l(a[s])))&&(r?oe.cleanData([e],!0):ie.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function u(){return!0}function f(){return!1}function h(){try{return fe.activeElement}catch(e){}}function m(e){var t=Me.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,o,n=0,r=typeof e.getElementsByTagName!==_e?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==_e?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(o=i[n]);n++)!t||oe.nodeName(o,t)?r.push(o):oe.merge(r,g(o,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],r):r}function b(e){Ie.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function A(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var i,o=0;null!=(i=e[o]);o++)oe._data(i,"globalEval",!t||oe._data(t[o],"globalEval"))}function w(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,o,n,r=oe._data(e),a=oe._data(t,r),s=r.events;if(s){delete a.handle,a.events={};for(i in s)for(o=0,n=s[i].length;o<n;o++)oe.event.add(t,i,s[i][o])}a.data&&(a.data=oe.extend({},a.data))}}function x(e,t){var i,o,n;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ie.noCloneEvent&&t[oe.expando]){n=oe._data(t);for(o in n.events)oe.removeEvent(t,o,n.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,A(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ie.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Ie.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}}function k(t,i){var o,n=oe(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(o=e.getDefaultComputedStyle(n[0]))?o.display:oe.css(n[0],"display");return n.detach(),r}function C(e){var t=fe,i=Ke[e];return i||(i=k(e,t),"none"!==i&&i||(Xe=(Xe||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Xe[0].contentWindow||Xe[0].contentDocument).document,t.write(),t.close(),i=k(e,t),Xe.detach()),Ke[e]=i),i}function S(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),o=t,n=ct.length;n--;)if((t=ct[n]+i)in e)return t;return o}function I(e,t){for(var i,o,n,r=[],a=0,s=e.length;a<s;a++)o=e[a],o.style&&(r[a]=oe._data(o,"olddisplay"),i=o.style.display,t?(r[a]||"none"!==i||(o.style.display=""),""===o.style.display&&Se(o)&&(r[a]=oe._data(o,"olddisplay",C(o.nodeName)))):(n=Se(o),(i&&"none"!==i||!n)&&oe._data(o,"olddisplay",n?i:oe.css(o,"display"))));for(a=0;a<s;a++)o=e[a],o.style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?r[a]||"":"none"));return e}function T(e,t,i){var o=at.exec(t);return o?Math.max(0,o[1]-(i||0))+(o[2]||"px"):t}function E(e,t,i,o,n){for(var r=i===(o?"border":"content")?4:"width"===t?1:0,a=0;r<4;r+=2)"margin"===i&&(a+=oe.css(e,i+Ce[r],!0,n)),o?("content"===i&&(a-=oe.css(e,"padding"+Ce[r],!0,n)),"margin"!==i&&(a-=oe.css(e,"border"+Ce[r]+"Width",!0,n))):(a+=oe.css(e,"padding"+Ce[r],!0,n),"padding"!==i&&(a+=oe.css(e,"border"+Ce[r]+"Width",!0,n)));return a}function N(e,t,i){var o=!0,n="width"===t?e.offsetWidth:e.offsetHeight,r=Ye(e),a=ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,r);if(n<=0||null==n){if(n=Ze(e,t,r),(n<0||null==n)&&(n=e.style[t]),tt.test(n))return n;o=a&&(ie.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+E(e,t,i||(a?"border":"content"),o,r)+"px"}function O(e,t,i,o,n){return new O.prototype.init(e,t,i,o,n)}function D(){return setTimeout(function(){dt=void 0}),dt=oe.now()}function M(e,t){var i,o={height:e},n=0;for(t=t?1:0;n<4;n+=2-t)i=Ce[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function L(e,t,i){for(var o,n=(bt[t]||[]).concat(bt["*"]),r=0,a=n.length;r<a;r++)if(o=n[r].call(i,t,e))return o}function $(e,t,i){var o,n,r,a,s,p,l,c=this,d={},u=e.style,f=e.nodeType&&Se(e),h=oe._data(e,"fxshow");i.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,p=s.empty.fire,s.empty.fire=function(){s.unqueued||p()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],l=oe.css(e,"display"),"inline"===("none"===l?oe._data(e,"olddisplay")||C(e.nodeName):l)&&"none"===oe.css(e,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==C(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ie.shrinkWrapBlocks()||c.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(o in t)if(n=t[o],ft.exec(n)){if(delete t[o],r=r||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!h||void 0===h[o])continue;f=!0}d[o]=h&&h[o]||oe.style(e,o)}else l=void 0;if(oe.isEmptyObject(d))"inline"===("none"===l?C(e.nodeName):l)&&(u.display=l);else{h?"hidden"in h&&(f=h.hidden):h=oe._data(e,"fxshow",{}),r&&(h.hidden=!f),f?oe(e).show():c.done(function(){oe(e).hide()}),c.done(function(){var t;oe._removeData(e,"fxshow");for(t in d)oe.style(e,t,d[t])});for(o in d)a=L(f?h[o]:0,o,c),o in h||(h[o]=a.start,f&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function R(e,t){var i,o,n,r,a;for(i in e)if(o=oe.camelCase(i),n=t[o],r=e[i],oe.isArray(r)&&(n=r[1],r=e[i]=r[0]),i!==o&&(e[o]=r,delete e[i]),(a=oe.cssHooks[o])&&"expand"in a){r=a.expand(r),delete e[o];for(i in r)i in e||(e[i]=r[i],t[i]=n)}else t[o]=n}function P(e,t,i){var o,n,r=0,a=gt.length,s=oe.Deferred().always(function(){delete p.elem}),p=function(){if(n)return!1;for(var t=dt||D(),i=Math.max(0,l.startTime+l.duration-t),o=i/l.duration||0,r=1-o,a=0,p=l.tweens.length;a<p;a++)l.tweens[a].run(r);return s.notifyWith(e,[l,r,i]),r<1&&p?i:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:dt||D(),duration:i.duration,tweens:[],createTween:function(t,i){var o=oe.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(o),o},stop:function(t){var i=0,o=t?l.tweens.length:0;if(n)return this;for(n=!0;i<o;i++)l.tweens[i].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(R(c,l.opts.specialEasing);r<a;r++)if(o=gt[r].call(l,e,c,l.opts))return o;return oe.map(c,L,l),oe.isFunction(l.opts.start)&&l.opts.start.call(e,l),oe.fx.timer(oe.extend(p,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var o,n=0,r=t.toLowerCase().match(be)||[];if(oe.isFunction(i))for(;o=r[n++];)"+"===o.charAt(0)?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(i)):(e[o]=e[o]||[]).push(i)}}function B(e,t,i,o){function n(s){var p;return r[s]=!0,oe.each(e[s]||[],function(e,s){var l=s(t,i,o);return"string"!=typeof l||a||r[l]?a?!(p=l):void 0:(t.dataTypes.unshift(l),n(l),!1)}),p}var r={},a=e===qt;return n(t.dataTypes[0])||!r["*"]&&n("*")}function q(e,t){var i,o,n=oe.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((n[o]?e:i||(i={}))[o]=t[o]);return i&&oe.extend(!0,e,i),e}function U(e,t,i){for(var o,n,r,a,s=e.contents,p=e.dataTypes;"*"===p[0];)p.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(a in s)if(s[a]&&s[a].test(n)){p.unshift(a);break}if(p[0]in i)r=p[0];else{for(a in i){if(!p[0]||e.converters[a+" "+p[0]]){r=a;break}o||(o=a)}r=r||o}if(r)return r!==p[0]&&p.unshift(r),i[r]}function W(e,t,i,o){var n,r,a,s,p,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!p&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),p=r,r=c.shift())if("*"===r)r=p;else if("*"!==p&&p!==r){if(!(a=l[p+" "+r]||l["* "+r]))for(n in l)if(s=n.split(" "),s[1]===r&&(a=l[p+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[n]:!0!==l[n]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+p+" to "+r}}}return{state:"success",data:t}}function j(e,t,i,o){var n;if(oe.isArray(t))oe.each(t,function(t,n){i||jt.test(e)?o(e,n):j(e+"["+("object"==typeof n?t:"")+"]",n,i,o)});else if(i||"object"!==oe.type(t))o(e,t);else for(n in t)j(e+"["+n+"]",t[n],i,o)}function H(){try{return new e.XMLHttpRequest}catch(e){}}function G(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(e){return oe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var J=[],Q=J.slice,X=J.concat,K=J.push,Y=J.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie={},oe=function(e,t){return new oe.fn.init(e,t)},ne=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,ae=/-([\da-z])/gi,se=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:"1.11.3",constructor:oe,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Q.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:J.sort,splice:J.splice},oe.extend=oe.fn.extend=function(){var e,t,i,o,n,r,a=arguments[0]||{},s=1,p=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===p&&(a=this,s--);s<p;s++)if(null!=(n=arguments[s]))for(o in n)e=a[o],i=n[o],a!==i&&(l&&i&&(oe.isPlainObject(i)||(t=oe.isArray(i)))?(t?(t=!1,r=e&&oe.isArray(e)?e:[]):r=e&&oe.isPlainObject(e)?e:{},a[o]=oe.extend(l,r,i)):void 0!==i&&(a[o]=i));return a},oe.extend({expando:"jQuery"+("1.11.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!oe.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(ie.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(re,"ms-").replace(ae,se)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,o){var n=0,r=e.length,a=i(e);if(o){if(a)for(;n<r&&!1!==t.apply(e[n],o);n++);else for(n in e)if(!1===t.apply(e[n],o))break}else if(a)for(;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ne,"")},makeArray:function(e,t){var o=t||[];return null!=e&&(i(Object(e))?oe.merge(o,"string"==typeof e?[e]:e):K.call(o,e)),o},inArray:function(e,t,i){var o;if(t){if(Y)return Y.call(t,e,i);for(o=t.length,i=i?i<0?Math.max(0,o+i):i:0;i<o;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,o=0,n=e.length;o<i;)e[n++]=t[o++];if(i!==i)for(;void 0!==t[o];)e[n++]=t[o++];return e.length=n,e},grep:function(e,t,i){for(var o=[],n=0,r=e.length,a=!i;n<r;n++)!t(e[n],n)!==a&&o.push(e[n]);return o},map:function(e,t,o){var n,r=0,a=e.length,s=i(e),p=[];if(s)for(;r<a;r++)null!=(n=t(e[r],r,o))&&p.push(n);else for(r in e)null!=(n=t(e[r],r,o))&&p.push(n);return X.apply([],p)},guid:1,proxy:function(e,t){var i,o,n;if("string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e))return i=Q.call(arguments,2),o=function(){return e.apply(t||this,i.concat(Q.call(arguments)))},o.guid=e.guid=e.guid||oe.guid++,o},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var pe=function(e){function t(e,t,i,o){var n,r,a,s,l,d,u,f,h,m;if((t?t.ownerDocument||t:P)!==E&&T(t),t=t||E,i=i||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return i;if(!o&&O){if(11!==s&&(n=ge.exec(e)))if(a=n[1]){if(9===s){if(!(r=t.getElementById(a))||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&$(t,r)&&r.id===a)return i.push(r),i}else{if(n[2])return X.apply(i,t.getElementsByTagName(e)),i;if((a=n[3])&&y.getElementsByClassName)return X.apply(i,t.getElementsByClassName(a)),i}if(y.qsa&&(!D||!D.test(e))){if(f=u=R,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(d=x(e),(u=t.getAttribute("id"))?f=u.replace(ve,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=d.length;l--;)d[l]=f+c(d[l]);h=be.test(e)&&p(t.parentNode)||t,m=d.join(",")}if(m)try{return X.apply(i,h.querySelectorAll(m)),i}catch(e){}finally{u||t.removeAttribute("id")}}}return C(e.replace(ae,"$1"),t,i,o)}function i(){function e(i,o){return t.push(i+" ")>A.cacheLength&&delete e[t.shift()],e[i+" "]=o}var t=[];return e}function o(e){return e[R]=!0,e}function n(e){var t=E.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),o=e.length;o--;)A.attrHandle[i[o]]=t}function a(e,t){var i=t&&e,o=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||H)-(~e.sourceIndex||H);if(o)return o;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return o(function(t){return t=+t,o(function(i,o){for(var n,r=e([],i.length,t),a=r.length;a--;)i[n=r[a]]&&(i[n]=!(o[n]=i[n]))})})}function p(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,i=e.length,o="";t<i;t++)o+=e[t].value;return o}function d(e,t,i){var o=t.dir,n=i&&"parentNode"===o,r=B++;return t.first?function(t,i,r){for(;t=t[o];)if(1===t.nodeType||n)return e(t,i,r)}:function(t,i,a){var s,p,l=[z,r];if(a){for(;t=t[o];)if((1===t.nodeType||n)&&e(t,i,a))return!0}else for(;t=t[o];)if(1===t.nodeType||n){if(p=t[R]||(t[R]={}),(s=p[o])&&s[0]===z&&s[1]===r)return l[2]=s[2];if(p[o]=l,l[2]=e(t,i,a))return!0}}}function u(e){return e.length>1?function(t,i,o){for(var n=e.length;n--;)if(!e[n](t,i,o))return!1;return!0}:e[0]}function f(e,i,o){for(var n=0,r=i.length;n<r;n++)t(e,i[n],o);return o}function h(e,t,i,o,n){for(var r,a=[],s=0,p=e.length,l=null!=t;s<p;s++)(r=e[s])&&(i&&!i(r,o,n)||(a.push(r),l&&t.push(s)));return a}function m(e,t,i,n,r,a){return n&&!n[R]&&(n=m(n)),r&&!r[R]&&(r=m(r,a)),o(function(o,a,s,p){var l,c,d,u=[],m=[],g=a.length,b=o||f(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?b:h(b,u,e,s,p),y=i?r||(o?e:g||n)?[]:a:v;if(i&&i(v,y,s,p),n)for(l=h(y,m),n(l,[],s,p),c=l.length;c--;)(d=l[c])&&(y[m[c]]=!(v[m[c]]=d));if(o){if(r||e){if(r){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(v[c]=d);r(null,y=[],l,p)}for(c=y.length;c--;)(d=y[c])&&(l=r?Y(o,d):u[c])>-1&&(o[l]=!(a[l]=d))}}else y=h(y===a?y.splice(g,y.length):y),r?r(null,a,y,p):X.apply(a,y)})}function g(e){for(var t,i,o,n=e.length,r=A.relative[e[0].type],a=r||A.relative[" "],s=r?1:0,p=d(function(e){return e===t},a,!0),l=d(function(e){return Y(t,e)>-1},a,!0),f=[function(e,i,o){var n=!r&&(o||i!==S)||((t=i).nodeType?p(e,i,o):l(e,i,o));return t=null,n}];s<n;s++)if(i=A.relative[e[s].type])f=[d(u(f),i)];else{if(i=A.filter[e[s].type].apply(null,e[s].matches),i[R]){for(o=++s;o<n&&!A.relative[e[o].type];o++);return m(s>1&&u(f),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),i,s<o&&g(e.slice(s,o)),o<n&&g(e=e.slice(o)),o<n&&c(e))}f.push(i)}return u(f)}function b(e,i){var n=i.length>0,r=e.length>0,a=function(o,a,s,p,l){var c,d,u,f=0,m="0",g=o&&[],b=[],v=S,y=o||r&&A.find.TAG("*",l),_=z+=null==v?1:Math.random()||.1,w=y.length;for(l&&(S=a!==E&&a);m!==w&&null!=(c=y[m]);m++){if(r&&c){for(d=0;u=e[d++];)if(u(c,a,s)){p.push(c);break}l&&(z=_)}n&&((c=!u&&c)&&f--,o&&g.push(c))}if(f+=m,n&&m!==f){for(d=0;u=i[d++];)u(g,b,a,s);if(o){if(f>0)for(;m--;)g[m]||b[m]||(b[m]=J.call(p));b=h(b)}X.apply(p,b),l&&!o&&b.length>0&&f+i.length>1&&t.uniqueSort(p)}return l&&(z=_,S=v),g};return n?o(a):a}var v,y,A,_,w,x,k,C,S,F,I,T,E,N,O,D,M,L,$,R="sizzle"+1*new Date,P=e.document,z=0,B=0,q=i(),U=i(),W=i(),j=function(e,t){return e===t&&(I=!0),0},H=1<<31,G={}.hasOwnProperty,V=[],J=V.pop,Q=V.push,X=V.push,K=V.slice,Y=function(e,t){for(var i=0,o=e.length;i<o;i++)if(e[i]===t)return i;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=te.replace("w","w#"),oe="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ee+"*\\]",ne=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),se=new RegExp("^"+ee+"*,"+ee+"*"),pe=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ne),de=new RegExp("^"+ie+"$"),ue={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,he=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),Ae=function(e,t,i){var o="0x"+t-65536;return o!==o||i?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},_e=function(){T()};try{X.apply(V=K.call(P.childNodes),P.childNodes),V[P.childNodes.length].nodeType}catch(e){X={apply:V.length?function(e,t){Q.apply(e,K.call(t))}:function(e,t){for(var i=e.length,o=0;e[i++]=t[o++];);e.length=i-1}}}y=t.support={},w=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=t.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:P;return o!==E&&9===o.nodeType&&o.documentElement?(E=o,N=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),O=!w(o),y.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),y.getElementsByTagName=n(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),y.getElementsByClassName=me.test(o.getElementsByClassName),y.getById=n(function(e){return N.appendChild(e).id=R,!o.getElementsByName||!o.getElementsByName(R).length}),y.getById?(A.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},A.filter.ID=function(e){var t=e.replace(ye,Ae);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(ye,Ae);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),A.find.TAG=y.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):y.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,o=[],n=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[n++];)1===i.nodeType&&o.push(i);return o}return r},A.find.CLASS=y.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},M=[],D=[],(y.qsa=me.test(o.querySelectorAll))&&(n(function(e){N.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+R+"-]").length||D.push("~="),e.querySelectorAll(":checked").length||D.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||D.push(".#.+[+~]")}),n(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(y.matchesSelector=me.test(L=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&n(function(e){y.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),M.push("!=",ne)}),
D=D.length&&new RegExp(D.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(N.compareDocumentPosition),$=t||me.test(N.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(i.contains?i.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return I=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!y.sortDetached&&t.compareDocumentPosition(e)===i?e===o||e.ownerDocument===P&&$(P,e)?-1:t===o||t.ownerDocument===P&&$(P,t)?1:F?Y(F,e)-Y(F,t):0:4&i?-1:1)}:function(e,t){if(e===t)return I=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,p=[e],l=[t];if(!r||!s)return e===o?-1:t===o?1:r?-1:s?1:F?Y(F,e)-Y(F,t):0;if(r===s)return a(e,t);for(i=e;i=i.parentNode;)p.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;p[n]===l[n];)n++;return n?a(p[n],l[n]):p[n]===P?-1:l[n]===P?1:0},o):E},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==E&&T(e),i=i.replace(le,"='$1']"),y.matchesSelector&&O&&(!M||!M.test(i))&&(!D||!D.test(i)))try{var o=L.call(e,i);if(o||y.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return t(i,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&T(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&T(e);var i=A.attrHandle[t.toLowerCase()],o=i&&G.call(A.attrHandle,t.toLowerCase())?i(e,t,!O):void 0;return void 0!==o?o:y.attributes||!O?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],o=0,n=0;if(I=!y.detectDuplicates,F=!y.sortStable&&e.slice(0),e.sort(j),I){for(;t=e[n++];)t===e[n]&&(o=i.push(n));for(;o--;)e.splice(i[o],1)}return F=null,e},_=t.getText=function(e){var t,i="",o=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=_(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[o++];)i+=_(t);return i},A=t.selectors={cacheLength:50,createPseudo:o,match:ue,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,Ae),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,Ae),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ue.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ce.test(i)&&(t=x(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,Ae).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,o){return function(n){var r=t.attr(n,e);return null==r?"!="===i:!i||(r+="","="===i?r===o:"!="===i?r!==o:"^="===i?o&&0===r.indexOf(o):"*="===i?o&&r.indexOf(o)>-1:"$="===i?o&&r.slice(-o.length)===o:"~="===i?(" "+r.replace(re," ")+" ").indexOf(o)>-1:"|="===i&&(r===o||r.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,i,o,n){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===o&&0===n?function(e){return!!e.parentNode}:function(t,i,p){var l,c,d,u,f,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,b=s&&t.nodeName.toLowerCase(),v=!p&&!s;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===b:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(c=g[R]||(g[R]={}),l=c[e]||[],f=l[0]===z&&l[1],u=l[0]===z&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(u=f=0)||h.pop();)if(1===d.nodeType&&++u&&d===t){c[e]=[z,f,u];break}}else if(v&&(l=(t[R]||(t[R]={}))[e])&&l[0]===z)u=l[1];else for(;(d=++f&&d&&d[m]||(u=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==b:1!==d.nodeType)||!++u||(v&&((d[R]||(d[R]={}))[e]=[z,u]),d!==t)););return(u-=n)===o||u%o==0&&u/o>=0}}},PSEUDO:function(e,i){var n,r=A.pseudos[e]||A.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[R]?r(i):r.length>1?(n=[e,e,"",i],A.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,t){for(var o,n=r(e,i),a=n.length;a--;)o=Y(e,n[a]),e[o]=!(t[o]=n[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:o(function(e){var t=[],i=[],n=k(e.replace(ae,"$1"));return n[R]?o(function(e,t,i,o){for(var r,a=n(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,o,r){return t[0]=e,n(t,null,r,i),t[0]=null,!i.pop()}}),has:o(function(e){return function(i){return t(e,i).length>0}}),contains:o(function(e){return e=e.replace(ye,Ae),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:o(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,Ae).toLowerCase(),function(t){var i;do{if(i=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return he.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,i){return[i<0?i+t:i]}),even:s(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:s(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:s(function(e,t,i){for(var o=i<0?i+t:i;--o>=0;)e.push(o);return e}),gt:s(function(e,t,i){for(var o=i<0?i+t:i;++o<t;)e.push(o);return e})}},A.pseudos.nth=A.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[v]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(v);for(v in{submit:!0,reset:!0})A.pseudos[v]=function(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}(v);return l.prototype=A.filters=A.pseudos,A.setFilters=new l,x=t.tokenize=function(e,i){var o,n,r,a,s,p,l,c=U[e+" "];if(c)return i?0:c.slice(0);for(s=e,p=[],l=A.preFilter;s;){o&&!(n=se.exec(s))||(n&&(s=s.slice(n[0].length)||s),p.push(r=[])),o=!1,(n=pe.exec(s))&&(o=n.shift(),r.push({value:o,type:n[0].replace(ae," ")}),s=s.slice(o.length));for(a in A.filter)!(n=ue[a].exec(s))||l[a]&&!(n=l[a](n))||(o=n.shift(),r.push({value:o,type:a,matches:n}),s=s.slice(o.length));if(!o)break}return i?s.length:s?t.error(e):U(e,p).slice(0)},k=t.compile=function(e,t){var i,o=[],n=[],r=W[e+" "];if(!r){for(t||(t=x(e)),i=t.length;i--;)r=g(t[i]),r[R]?o.push(r):n.push(r);r=W(e,b(n,o)),r.selector=e}return r},C=t.select=function(e,t,i,o){var n,r,a,s,l,d="function"==typeof e&&e,u=!o&&x(e=d.selector||e);if(i=i||[],1===u.length){if(r=u[0]=u[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&y.getById&&9===t.nodeType&&O&&A.relative[r[1].type]){if(!(t=(A.find.ID(a.matches[0].replace(ye,Ae),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(n=ue.needsContext.test(e)?0:r.length;n--&&(a=r[n],!A.relative[s=a.type]);)if((l=A.find[s])&&(o=l(a.matches[0].replace(ye,Ae),be.test(r[0].type)&&p(t.parentNode)||t))){if(r.splice(n,1),!(e=o.length&&c(r)))return X.apply(i,o),i;break}}return(d||k(e,u))(o,t,!O,i,be.test(e)&&p(t.parentNode)||t),i},y.sortStable=R.split("").sort(j).join("")===R,y.detectDuplicates=!!I,T(),y.sortDetached=n(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),y.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||r(Z,function(e,t,i){var o;if(!i)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),t}(e);oe.find=pe,oe.expr=pe.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=pe.uniqueSort,oe.text=pe.getText,oe.isXMLDoc=pe.isXML,oe.contains=pe.contains;var le=oe.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var o=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?oe.find.matchesSelector(o,e)?[o]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],o=this,n=o.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;t<n;t++)if(oe.contains(o[t],this))return!0}));for(t=0;t<n;t++)oe.find(e,o[t],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(o(this,e||[],!1))},not:function(e){return this.pushStack(o(this,e||[],!0))},is:function(e){return!!o(this,"string"==typeof e&&le.test(e)?oe(e):e||[],!1).length}});var ue,fe=e.document,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(oe.fn.init=function(e,t){var i,o;if(!e)return this;if("string"==typeof e){if(!(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e))||!i[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),ce.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if((o=fe.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return ue.find(e);this.length=1,this[0]=o}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==ue.ready?ue.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))}).prototype=oe.fn,ue=oe(fe);var me=/^(?:parents|prev(?:Until|All))/,ge={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var o=[],n=e[t];n&&9!==n.nodeType&&(void 0===i||1!==n.nodeType||!oe(n).is(i));)1===n.nodeType&&o.push(n),n=n[t];return o},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),o=i.length;return this.filter(function(){for(t=0;t<o;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,o=0,n=this.length,r=[],a=le.test(e)||"string"!=typeof e?oe(e,t||this.context):0;o<n;o++)for(i=this[o];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?oe.unique(r):r)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,o){var n=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(o=i),o&&"string"==typeof o&&(n=oe.filter(o,n)),this.length>1&&(ge[e]||(n=oe.unique(n)),me.test(e)&&(n=n.reverse())),this.pushStack(n)}});var be=/\S+/g,ve={};oe.Callbacks=function(e){e="string"==typeof e?ve[e]||r(e):oe.extend({},e);var t,i,o,n,a,s,p=[],l=!e.once&&[],c=function(r){for(i=e.memory&&r,o=!0,a=s||0,s=0,n=p.length,t=!0;p&&a<n;a++)if(!1===p[a].apply(r[0],r[1])&&e.stopOnFalse){i=!1;break}t=!1,p&&(l?l.length&&c(l.shift()):i?p=[]:d.disable())},d={add:function(){if(p){var o=p.length;!function t(i){oe.each(i,function(i,o){var n=oe.type(o);"function"===n?e.unique&&d.has(o)||p.push(o):o&&o.length&&"string"!==n&&t(o)})}(arguments),t?n=p.length:i&&(s=o,c(i))}return this},remove:function(){return p&&oe.each(arguments,function(e,i){for(var o;(o=oe.inArray(i,p,o))>-1;)p.splice(o,1),t&&(o<=n&&n--,o<=a&&a--)}),this},has:function(e){return e?oe.inArray(e,p)>-1:!(!p||!p.length)},empty:function(){return p=[],n=0,this},disable:function(){return p=l=i=void 0,this},disabled:function(){return!p},lock:function(){return l=void 0,i||d.disable(),this},locked:function(){return!l},fireWith:function(e,i){return!p||o&&!l||(i=i||[],i=[e,i.slice?i.slice():i],t?l.push(i):c(i)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",o={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,r){var a=oe.isFunction(e[t])&&e[t];n[r[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===o?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,o):o}},n={};return o.pipe=o.then,oe.each(t,function(e,r){var a=r[2],s=r[3];o[r[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),n[r[0]]=function(){return n[r[0]+"With"](this===n?o:this,arguments),this},n[r[0]+"With"]=a.fireWith}),o.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,o,n=0,r=Q.call(arguments),a=r.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,p=1===s?e:oe.Deferred(),l=function(e,i,o){return function(n){i[e]=this,o[e]=arguments.length>1?Q.call(arguments):n,o===t?p.notifyWith(i,o):--s||p.resolveWith(i,o)}};if(a>1)for(t=new Array(a),i=new Array(a),o=new Array(a);n<a;n++)r[n]&&oe.isFunction(r[n].promise)?r[n].promise().done(l(n,o,r)).fail(p.reject).progress(l(n,i,t)):--s;return s||p.resolveWith(o,r),p.promise()}});var ye;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(!0===e?!--oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,!0!==e&&--oe.readyWait>0||(ye.resolveWith(fe,[oe]),oe.fn.triggerHandler&&(oe(fe).triggerHandler("ready"),oe(fe).off("ready")))}}}),oe.ready.promise=function(t){if(!ye)if(ye=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!oe.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}a(),oe.ready()}}()}return ye.promise(t)};var Ae,_e="undefined";for(Ae in oe(ie))break;ie.ownLast="0"!==Ae,ie.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i,o;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(o).appendChild(t),typeof t.style.zoom!==_e&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=e=!0,e&&(i.style.zoom=1)),i.removeChild(o))}),function(){var e=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(e){ie.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return(1===i||9===i)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var we=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando])&&!l(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return d(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return d(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,o,n,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(n=oe.data(r),1===r.nodeType&&!oe._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(o=a[i].name,0===o.indexOf("data-")&&(o=oe.camelCase(o.slice(5)),p(r,o,n[o])));oe._data(r,"parsedAttrs",!0)}return n}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):r?p(r,e,oe.data(r,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var o;if(e)return t=(t||"fx")+"queue",o=oe._data(e,t),i&&(!o||oe.isArray(i)?o=oe._data(e,t,oe.makeArray(i)):o.push(i)),o||[]},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),o=i.length,n=i.shift(),r=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),o--),n&&("fx"===t&&i.unshift("inprogress"),delete r.stop,n.call(e,a,r)),!o&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,o=1,n=oe.Deferred(),r=this,a=this.length,s=function(){--o||n.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=oe._data(r[a],e+"queueHooks"))&&i.empty&&(o++,i.empty.add(s));return s(),n.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Fe=oe.access=function(e,t,i,o,n,r,a){var s=0,p=e.length,l=null==i;if("object"===oe.type(i)){n=!0;for(s in i)oe.access(e,t,s,i[s],!0,r,a)}else if(void 0!==o&&(n=!0,oe.isFunction(o)||(a=!0),l&&(a?(t.call(e,o),t=null):(l=t,t=function(e,t,i){return l.call(oe(e),i)})),t))for(;s<p;s++)t(e[s],i,a?o:o.call(e[s],s,t(e[s],i)));return n?e:l?t.call(e):p?t(e[0],i):r},Ie=/^(?:checkbox|radio)$/i;!function(){var e=fe.createElement("input"),t=fe.createElement("div"),i=fe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===t.firstChild.nodeType,ie.tbody=!t.getElementsByTagName("tbody").length,ie.htmlSerialize=!!t.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),ie.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ie.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}}(),function(){var t,i,o=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ie[t+"Bubbles"]=i in e)||(o.setAttribute(i,"t"),ie[t+"Bubbles"]=!1===o.attributes[i].expando);o=null}();var Te=/^(?:input|select|textarea)$/i,Ee=/^key/,Ne=/^(?:mouse|pointer|contextmenu)|click/,Oe=/^(?:focusinfocus|focusoutblur)$/,De=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,o,n){var r,a,s,p,l,c,d,u,f,h,m,g=oe._data(e);if(g){for(i.handler&&(p=i,i=p.handler,n=p.selector),i.guid||(i.guid=oe.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof oe===_e||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)r=De.exec(t[s])||[],f=m=r[1],h=(r[2]||"").split(".").sort(),f&&(l=oe.event.special[f]||{},f=(n?l.delegateType:l.bindType)||f,l=oe.event.special[f]||{},d=oe.extend({type:f,origType:m,data:o,handler:i,guid:i.guid,selector:n,needsContext:n&&oe.expr.match.needsContext.test(n),namespace:h.join(".")},p),(u=a[f])||(u=a[f]=[],u.delegateCount=0,l.setup&&!1!==l.setup.call(e,o,h,c)||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),n?u.splice(u.delegateCount++,0,d):u.push(d),oe.event.global[f]=!0);e=null}},remove:function(e,t,i,o,n){var r,a,s,p,l,c,d,u,f,h,m,g=oe.hasData(e)&&oe._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=De.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=oe.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,u=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),p=r=u.length;r--;)a=u[r],!n&&m!==a.origType||i&&i.guid!==a.guid||s&&!s.test(a.namespace)||o&&o!==a.selector&&("**"!==o||!a.selector)||(u.splice(r,1),a.selector&&u.delegateCount--,d.remove&&d.remove.call(e,a));p&&!u.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||oe.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)oe.event.remove(e,f+t[l],i,o,!0);oe.isEmptyObject(c)&&(delete g.handle,oe._removeData(e,"events"))}},trigger:function(t,i,o,n){var r,a,s,p,l,c,d,u=[o||fe],f=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=o=o||fe,3!==o.nodeType&&8!==o.nodeType&&!Oe.test(f+oe.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[oe.expando]?t:new oe.Event(f,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),i=null==i?[t]:oe.makeArray(i,[t]),l=oe.event.special[f]||{},n||!l.trigger||!1!==l.trigger.apply(o,i))){if(!n&&!l.noBubble&&!oe.isWindow(o)){for(p=l.delegateType||f,Oe.test(p+f)||(s=s.parentNode);s;s=s.parentNode)u.push(s),c=s;c===(o.ownerDocument||fe)&&u.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=u[d++])&&!t.isPropagationStopped();)t.type=d>1?p:l.bindType||f,r=(oe._data(s,"events")||{})[t.type]&&oe._data(s,"handle"),r&&r.apply(s,i),(r=a&&s[a])&&r.apply&&oe.acceptData(s)&&(t.result=r.apply(s,i),!1===t.result&&t.preventDefault());if(t.type=f,!n&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(u.pop(),i))&&oe.acceptData(o)&&a&&o[f]&&!oe.isWindow(o)){c=o[a],c&&(o[a]=null),oe.event.triggered=f;try{o[f]()}catch(e){}oe.event.triggered=void 0,c&&(o[a]=c)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,o,n,r,a=[],s=Q.call(arguments),p=(oe._data(this,"events")||{})[e.type]||[],l=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=oe.event.handlers.call(this,e,p),t=0;(n=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((oe.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,o,n,r,a=[],s=t.delegateCount,p=e.target;if(s&&p.nodeType&&(!e.button||"click"!==e.type))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==e.type)){for(n=[],r=0;r<s;r++)o=t[r],i=o.selector+" ",void 0===n[i]&&(n[i]=o.needsContext?oe(i,this).index(p)>=0:oe.find(i,this,null,[p]).length),n[i]&&n.push(o);n.length&&a.push({elem:p,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[oe.expando])return e;var t,i,o,n=e.type,r=e,a=this.fixHooks[n];for(a||(this.fixHooks[n]=a=Ne.test(n)?this.mouseHooks:Ee.test(n)?this.keyHooks:{}),o=a.props?this.props.concat(a.props):this.props,e=new oe.Event(r),t=o.length;t--;)i=o[t],e[i]=r[i];return e.target||(e.target=r.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,o,n,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=e.target.ownerDocument||fe,n=o.documentElement,i=o.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,o){var n=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});o?oe.event.trigger(n,null,t):oe.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var o="on"+t;e.detachEvent&&(typeof e[o]===_e&&(e[o]=null),e.detachEvent(o,i))},oe.Event=function(e,t){if(!(this instanceof oe.Event))return new oe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:f):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),this[oe.expando]=!0},oe.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,o=this,n=e.relatedTarget,r=e.handleObj;return n&&(n===o||oe.contains(o,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){if(oe.nodeName(this,"form"))return!1;oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(oe.nodeName(this,"form"))return!1;oe.event.remove(this,"._submit")}}),ie.changeBubbles||(oe.event.special.change={setup:function(){if(Te.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1;oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Te.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return oe.event.remove(this,"._change"),!Te.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var o=this.ownerDocument||this,n=oe._data(o,t);n||o.addEventListener(e,i,!0),oe._data(o,t,(n||0)+1)},teardown:function(){var o=this.ownerDocument||this,n=oe._data(o,t)-1;n?oe._data(o,t,n):(o.removeEventListener(e,i,!0),oe._removeData(o,t))}}}),oe.fn.extend({on:function(e,t,i,o,n){var r,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],n);return this}if(null==i&&null==o?(o=t,i=t=void 0):null==o&&("string"==typeof t?(o=i,i=void 0):(o=i,i=t,t=void 0)),!1===o)o=f;else if(!o)return this;return 1===n&&(a=o,o=function(e){return oe().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,o,i,t)})},one:function(e,t,i,o){return this.on(e,t,i,o,1)},off:function(e,t,i){var o,n
;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,oe(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=f),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return oe.event.trigger(e,t,i,!0)}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,$e=new RegExp("<(?:"+Me+")[\\s/>]","i"),Re=/^\s+/,Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,Be=/<tbody/i,qe=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,He=/^true\/(.*)/,Ge=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=m(fe),Qe=Je.appendChild(fe.createElement("div"));Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,oe.extend({clone:function(e,t,i){var o,n,r,a,s,p=oe.contains(e.ownerDocument,e);if(ie.html5Clone||oe.isXMLDoc(e)||!$e.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Qe.innerHTML=e.outerHTML,Qe.removeChild(r=Qe.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(o=g(r),s=g(e),a=0;null!=(n=s[a]);++a)o[a]&&x(n,o[a]);if(t)if(i)for(s=s||g(e),o=o||g(r),a=0;null!=(n=s[a]);a++)w(n,o[a]);else w(e,r);return o=g(r,"script"),o.length>0&&_(o,!p&&g(e,"script")),o=s=n=null,r},buildFragment:function(e,t,i,o){for(var n,r,a,s,p,l,c,d=e.length,u=m(t),f=[],h=0;h<d;h++)if((r=e[h])||0===r)if("object"===oe.type(r))oe.merge(f,r.nodeType?[r]:r);else if(qe.test(r)){for(s=s||u.appendChild(t.createElement("div")),p=(ze.exec(r)||["",""])[1].toLowerCase(),c=Ve[p]||Ve._default,s.innerHTML=c[1]+r.replace(Pe,"<$1></$2>")+c[2],n=c[0];n--;)s=s.lastChild;if(!ie.leadingWhitespace&&Re.test(r)&&f.push(t.createTextNode(Re.exec(r)[0])),!ie.tbody)for(r="table"!==p||Be.test(r)?"<table>"!==c[1]||Be.test(r)?0:s:s.firstChild,n=r&&r.childNodes.length;n--;)oe.nodeName(l=r.childNodes[n],"tbody")&&!l.childNodes.length&&r.removeChild(l);for(oe.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=u.lastChild}else f.push(t.createTextNode(r));for(s&&u.removeChild(s),ie.appendChecked||oe.grep(g(f,"input"),b),h=0;r=f[h++];)if((!o||-1===oe.inArray(r,o))&&(a=oe.contains(r.ownerDocument,r),s=g(u.appendChild(r),"script"),a&&_(s),i))for(n=0;r=s[n++];)je.test(r.type||"")&&i.push(r);return s=null,u},cleanData:function(e,t){for(var i,o,n,r,a=0,s=oe.expando,p=oe.cache,l=ie.deleteExpando,c=oe.event.special;null!=(i=e[a]);a++)if((t||oe.acceptData(i))&&(n=i[s],r=n&&p[n])){if(r.events)for(o in r.events)c[o]?oe.event.remove(i,o):oe.removeEvent(i,o,r.handle);p[n]&&(delete p[n],l?delete i[s]:typeof i.removeAttribute!==_e?i.removeAttribute(s):i[s]=null,J.push(n))}}}),oe.fn.extend({text:function(e){return Fe(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,o=e?oe.filter(e,this):this,n=0;null!=(i=o[n]);n++)t||1!==i.nodeType||oe.cleanData(g(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&_(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},i=0,o=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Le,""):void 0;if("string"==typeof e&&!Ue.test(e)&&(ie.htmlSerialize||!$e.test(e))&&(ie.leadingWhitespace||!Re.test(e))&&!Ve[(ze.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;i<o;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=X.apply([],e);var i,o,n,r,a,s,p=0,l=this.length,c=this,d=l-1,u=e[0],f=oe.isFunction(u);if(f||l>1&&"string"==typeof u&&!ie.checkClone&&We.test(u))return this.each(function(i){var o=c.eq(i);f&&(e[0]=u.call(this,i,o.html())),o.domManip(e,t)});if(l&&(s=oe.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(r=oe.map(g(s,"script"),y),n=r.length;p<l;p++)o=s,p!==d&&(o=oe.clone(o,!0,!0),n&&oe.merge(r,g(o,"script"))),t.call(this[p],o,p);if(n)for(a=r[r.length-1].ownerDocument,oe.map(r,A),p=0;p<n;p++)o=r[p],je.test(o.type||"")&&!oe._data(o,"globalEval")&&oe.contains(a,o)&&(o.src?oe._evalUrl&&oe._evalUrl(o.src):oe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(Ge,"")));s=i=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,o=0,n=[],r=oe(e),a=r.length-1;o<=a;o++)i=o===a?this:this.clone(!0),oe(r[o])[t](i),K.apply(n,i.get());return this.pushStack(n)}});var Xe,Ke={};!function(){var e;ie.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,o;return(i=fe.getElementsByTagName("body")[0])&&i.style?(t=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(o).appendChild(t),typeof t.style.zoom!==_e&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(fe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(o),e):void 0}}();var Ye,Ze,et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),it=/^(top|right|bottom|left)$/;e.getComputedStyle?(Ye=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ze=function(e,t,i){var o,n,r,a,s=e.style;return i=i||Ye(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),tt.test(a)&&et.test(t)&&(o=s.width,n=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=o,s.minWidth=n,s.maxWidth=r)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(Ye=function(e){return e.currentStyle},Ze=function(e,t,i){var o,n,r,a,s=e.style;return i=i||Ye(e),a=i?i[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(o=s.left,n=e.runtimeStyle,r=n&&n.left,r&&(n.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=o,r&&(n.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,o,n;(i=fe.getElementsByTagName("body")[0])&&i.style&&(t=fe.createElement("div"),o=fe.createElement("div"),o.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(o).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,p=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,n=t.appendChild(fe.createElement("div")),n.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",t.style.width="1px",p=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight),t.removeChild(n)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",n=t.getElementsByTagName("td"),n[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===n[0].offsetHeight,s&&(n[0].style.display="",n[1].style.display="none",s=0===n[0].offsetHeight),i.removeChild(o))}var i,o,n,r,a,s,p;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=i.getElementsByTagName("a")[0],(o=n&&n.style)&&(o.cssText="float:left;opacity:.5",ie.opacity="0.5"===o.opacity,ie.cssFloat=!!o.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===o.boxSizing||""===o.MozBoxSizing||""===o.WebkitBoxSizing,oe.extend(ie,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==p&&t(),p}}))}(),oe.swap=function(e,t,i,o){var n,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];n=i.apply(e,o||[]);for(r in t)e.style[r]=a[r];return n};var ot=/alpha\([^)]*\)/i,nt=/opacity\s*=\s*([^)]*)/,rt=/^(none|table(?!-c[ea]).+)/,at=new RegExp("^("+ke+")(.*)$","i"),st=new RegExp("^([+-])=("+ke+")","i"),pt={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ze(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ie.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,r,a,s=oe.camelCase(t),p=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=F(p,s)),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(n=a.get(e,!1,o))?n:p[t];if(r=typeof i,"string"===r&&(n=st.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(oe.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||oe.cssNumber[s]||(i+="px"),ie.clearCloneStyle||""!==i||0!==t.indexOf("background")||(p[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,o)))))try{p[t]=i}catch(e){}}},css:function(e,t,i,o){var n,r,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=F(e.style,s)),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=Ze(e,t,o)),"normal"===r&&t in lt&&(r=lt[t]),""===i||i?(n=parseFloat(r),!0===i||oe.isNumeric(n)?n||0:r):r}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,o){if(i)return rt.test(oe.css(e,"display"))&&0===e.offsetWidth?oe.swap(e,pt,function(){return N(e,t,o)}):N(e,t,o)},set:function(e,i,o){var n=o&&Ye(e);return T(e,i,o?E(e,t,o,ie.boxSizing&&"border-box"===oe.css(e,"boxSizing",!1,n),n):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(e,t){return nt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,o=e.currentStyle,n=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=o&&o.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===oe.trim(r.replace(ot,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||o&&!o.filter)||(i.filter=ot.test(r)?r.replace(ot,n):r+" "+n)}}),oe.cssHooks.marginRight=S(ie.reliableMarginRight,function(e,t){if(t)return oe.swap(e,{display:"inline-block"},Ze,[e,"marginRight"])}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var o=0,n={},r="string"==typeof i?i.split(" "):[i];o<4;o++)n[e+Ce[o]+t]=r[o]||r[o-2]||r[0];return n}},et.test(e)||(oe.cssHooks[e+t].set=T)}),oe.fn.extend({css:function(e,t){return Fe(this,function(e,t,i){var o,n,r={},a=0;if(oe.isArray(t)){for(o=Ye(e),n=t.length;a<n;a++)r[t[a]]=oe.css(e,t[a],!1,o);return r}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=O,O.prototype={constructor:O,init:function(e,t,i,o,n,r){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=r||(oe.cssNumber[i]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,i=O.propHooks[this.prop];return this.options.duration?this.pos=t=oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=O.prototype.init,oe.fx.step={};var dt,ut,ft=/^(?:toggle|show|hide)$/,ht=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),mt=/queueHooks$/,gt=[$],bt={"*":[function(e,t){var i=this.createTween(e,t),o=i.cur(),n=ht.exec(t),r=n&&n[3]||(oe.cssNumber[e]?"":"px"),a=(oe.cssNumber[e]||"px"!==r&&+o)&&ht.exec(oe.css(i.elem,e)),s=1,p=20;if(a&&a[3]!==r){r=r||a[3],n=n||[],a=+o||1;do{s=s||".5",a/=s,oe.style(i.elem,e,a+r)}while(s!==(s=i.cur()/o)&&1!==s&&--p)}return n&&(a=i.start=+a||+o||0,i.unit=r,i.end=n[1]?a+(n[1]+1)*n[2]:+n[2]),i}]};oe.Animation=oe.extend(P,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,o=0,n=e.length;o<n;o++)i=e[o],bt[i]=bt[i]||[],bt[i].unshift(t)},prefilter:function(e,t){t?gt.unshift(e):gt.push(e)}}),oe.speed=function(e,t,i){var o=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return o.duration=oe.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in oe.fx.speeds?oe.fx.speeds[o.duration]:oe.fx.speeds._default,null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){oe.isFunction(o.old)&&o.old.call(this),o.queue&&oe.dequeue(this,o.queue)},o},oe.fn.extend({fadeTo:function(e,t,i,o){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,i,o)},animate:function(e,t,i,o){var n=oe.isEmptyObject(e),r=oe.speed(t,i,o),a=function(){var t=P(this,oe.extend({},e),r);(n||oe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,n||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var o=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=oe.timers,a=oe._data(this);if(n)a[n]&&a[n].stop&&o(a[n]);else for(n in a)a[n]&&a[n].stop&&mt.test(n)&&o(a[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));!t&&i||oe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=oe._data(this),o=i[e+"queue"],n=i[e+"queueHooks"],r=oe.timers,a=o?o.length:0;for(i.finish=!0,oe.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,o,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(M(t,!0),e,o,n)}}),oe.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,o){return this.animate(t,e,i,o)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(dt=oe.now();i<t.length;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),dt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ut||(ut=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ut),ut=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var o=setTimeout(t,e);i.stop=function(){clearTimeout(o)}})},function(){var e,t,i,o,n;t=fe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",o=t.getElementsByTagName("a")[0],i=fe.createElement("select"),n=i.appendChild(fe.createElement("option")),e=t.getElementsByTagName("input")[0],o.style.cssText="top:1px",ie.getSetAttribute="t"!==t.className,ie.style=/top/.test(o.getAttribute("style")),ie.hrefNormalized="/a"===o.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=n.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!n.disabled,e=fe.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value}();var vt=/\r/g;oe.fn.extend({val:function(e){var t,i,o,n=this[0];{if(arguments.length)return o=oe.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=o?e.call(this,i,oe(this).val()):e,null==n?n="":"number"==typeof n?n+="":oe.isArray(n)&&(n=oe.map(n,function(e){return null==e?"":e+""})),(t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))});if(n)return(t=oe.valHooks[n.type]||oe.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(vt,""):null==i?"":i)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e))}},select:{get:function(e){for(var t,i,o=e.options,n=e.selectedIndex,r="select-one"===e.type||n<0,a=r?null:[],s=r?n+1:o.length,p=n<0?s:r?n:0;p<s;p++)if(i=o[p],(i.selected||p===n)&&(ie.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,o,n=e.options,r=oe.makeArray(t),a=n.length;a--;)if(o=n[a],oe.inArray(oe.valHooks.option.get(o),r)>=0)try{o.selected=i=!0}catch(e){o.scrollHeight}else o.selected=!1;return i||(e.selectedIndex=-1),n}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){if(oe.isArray(t))return e.checked=oe.inArray(oe(e).val(),t)>=0}},ie.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var yt,At,_t=oe.expr.attrHandle,wt=/^(?:checked|selected)$/i,xt=ie.getSetAttribute,kt=ie.input;oe.fn.extend({attr:function(e,t){return Fe(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var o,n,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===_e?oe.prop(e,t,i):(1===r&&oe.isXMLDoc(e)||(t=t.toLowerCase(),o=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?At:yt)),void 0===i?o&&"get"in o&&null!==(n=o.get(e,t))?n:(n=oe.find.attr(e,t),null==n?void 0:n):null!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t))},removeAttr:function(e,t){var i,o,n=0,r=t&&t.match(be);if(r&&1===e.nodeType)for(;i=r[n++];)o=oe.propFix[i]||i,oe.expr.match.bool.test(i)?kt&&xt||!wt.test(i)?e[o]=!1:e[oe.camelCase("default-"+i)]=e[o]=!1:oe.attr(e,i,""),e.removeAttribute(xt?i:o)},attrHooks:{type:{set:function(e,t){if(!ie.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),At={set:function(e,t,i){return!1===t?oe.removeAttr(e,i):kt&&xt||!wt.test(i)?e.setAttribute(!xt&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=_t[t]||oe.find.attr;_t[t]=kt&&xt||!wt.test(t)?function(e,t,o){var n,r;return o||(r=_t[t],_t[t]=n,n=null!=i(e,t,o)?t.toLowerCase():null,_t[t]=r),n}:function(e,t,i){if(!i)return e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&xt||(oe.attrHooks.value={set:function(e,t,i){if(!oe.nodeName(e,"input"))return yt&&yt.set(e,t,i);e.defaultValue=t}}),xt||(yt={set:function(e,t,i){var o=e.getAttributeNode(i);if(o||e.setAttributeNode(o=e.ownerDocument.createAttribute(i)),o.value=t+="","value"===i||t===e.getAttribute(i))return t}},_t.id=_t.name=_t.coords=function(e,t,i){var o;if(!i)return(o=e.getAttributeNode(t))&&""!==o.value?o.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);if(i&&i.specified)return i.value},set:yt.set},oe.attrHooks.contenteditable={set:function(e,t,i){yt.set(e,""!==t&&t,i)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,i){if(""===i)return e.setAttribute(t,"auto"),i}}})),ie.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ct=/^(?:input|select|textarea|button|object)$/i,St=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Fe(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),oe.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var o,n,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!oe.isXMLDoc(e),r&&(t=oe.propFix[t]||t,n=oe.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:e[t]=i:n&&"get"in n&&null!==(o=n.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,o,n,r,a,s=0,p=this.length,l="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];s<p;s++)if(i=this[s],o=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ft," "):" ")){for(r=0;n=t[r++];)o.indexOf(" "+n+" ")<0&&(o+=n+" ");a=oe.trim(o),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,o,n,r,a,s=0,p=this.length,l=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];s<p;s++)if(i=this[s],o=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ft," "):"")){for(r=0;n=t[r++];)for(;o.indexOf(" "+n+" ")>=0;)o=o.replace(" "+n+" "," ");a=e?oe.trim(o):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):oe.isFunction(e)?this.each(function(i){oe(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,o=0,n=oe(this),r=e.match(be)||[];t=r[o++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else i!==_e&&"boolean"!==i||(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||!1===e?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,o=this.length;i<o;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ft," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,o){return this.on(t,e,i,o)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var It=oe.now(),Tt=/\?/,Et=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,o=null,n=oe.trim(t+"");return n&&!oe.trim(n.replace(Et,function(e,t,n,r){return i&&t&&(o=0),0===o?e:(i=n||t,o+=!r-!n,"")}))?Function("return "+n)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var i,o;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(o=new DOMParser,i=o.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(e){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var Nt,Ot,Dt=/#.*$/,Mt=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rt=/^(?:GET|HEAD)$/,Pt=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bt={},qt={},Ut="*/".concat("*");try{Ot=location.href}catch(e){Ot=fe.createElement("a"),Ot.href="",Ot=Ot.href}Nt=zt.exec(Ot.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot,type:"GET",isLocal:$t.test(Nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,oe.ajaxSettings),t):q(oe.ajaxSettings,e)},ajaxPrefilter:z(Bt),ajaxTransport:z(qt),ajax:function(e,t){function i(e,t,i,o){var n,c,b,v,A,w=t;2!==y&&(y=2,s&&clearTimeout(s),l=void 0,a=o||"",_.readyState=e>0?4:0,n=e>=200&&e<300||304===e,i&&(v=U(d,_,i)),v=W(d,v,_,n),n?(d.ifModified&&(A=_.getResponseHeader("Last-Modified"),A&&(oe.lastModified[r]=A),(A=_.getResponseHeader("etag"))&&(oe.etag[r]=A)),204===e||"HEAD"===d.type?w="nocontent":304===e?w="notmodified":(w=v.state,c=v.data,b=v.error,n=!b)):(b=w,!e&&w||(w="error",e<0&&(e=0))),_.status=e,_.statusText=(t||w)+"",n?h.resolveWith(u,[c,w,_]):h.rejectWith(u,[_,w,b]),_.statusCode(g),g=void 0,p&&f.trigger(n?"ajaxSuccess":"ajaxError",[_,d,n?c:b]),m.fireWith(u,[_,w]),p&&(f.trigger("ajaxComplete",[_,d]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,n,r,a,s,p,l,c,d=oe.ajaxSetup({},t),u=d.context||d,f=d.context&&(u.nodeType||u.jquery)?oe(u):oe.event,h=oe.Deferred(),m=oe.Callbacks("once memory"),g=d.statusCode||{},b={},v={},y=0,A="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Lt.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,b[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||A;return l&&l.abort(t),i(0,t),this}};if(h.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||Ot)+"").replace(Dt,"").replace(Pt,Nt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=oe.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(o=zt.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===Nt[1]&&o[2]===Nt[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Nt[3]||("http:"===Nt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=oe.param(d.data,d.traditional)),B(Bt,d,t,_),2===y)return _;p=oe.event&&d.global,p&&0==oe.active++&&oe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(Tt.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Mt.test(r)?r.replace(Mt,"$1_="+It++):r+(Tt.test(r)?"&":"?")+"_="+It++)),d.ifModified&&(oe.lastModified[r]&&_.setRequestHeader("If-Modified-Since",oe.lastModified[r]),oe.etag[r]&&_.setRequestHeader("If-None-Match",oe.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ut+"; q=0.01":""):d.accepts["*"]);for(n in d.headers)_.setRequestHeader(n,d.headers[n]);if(d.beforeSend&&(!1===d.beforeSend.call(u,_,d)||2===y))return _.abort();A="abort";for(n in{success:1,error:1,complete:1})_[n](d[n]);if(l=B(qt,d,t,_)){_.readyState=1,p&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{y=1,l.send(b,i)}catch(e){if(!(y<2))throw e;i(-1,e)}}else i(-1,"No Transport");return _},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,o,n){return oe.isFunction(i)&&(n=n||o,o=i,i=void 0),oe.ajax({url:e,type:t,dataType:n,data:i,success:o})}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return oe.isFunction(e)?this.each(function(t){oe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){
var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Wt=/%20/g,jt=/\[\]$/,Ht=/\r?\n/g,Gt=/^(?:submit|button|image|reset|file)$/i,Vt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,o=[],n=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){n(this.name,this.value)});else for(i in e)j(i,e[i],t,n);return o.join("&").replace(Wt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Vt.test(this.nodeName)&&!Gt.test(e)&&(this.checked||!Ie.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Ht,"\r\n")}}):{name:t.name,value:i.replace(Ht,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&H()||G()}:H;var Jt=0,Qt={},Xt=oe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qt)Qt[e](void 0,!0)}),ie.cors=!!Xt&&"withCredentials"in Xt,Xt=ie.ajax=!!Xt,Xt&&oe.ajaxTransport(function(e){if(!e.crossDomain||ie.cors){var t;return{send:function(i,o){var n,r=e.xhr(),a=++Jt;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)r[n]=e.xhrFields[n];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)void 0!==i[n]&&r.setRequestHeader(n,i[n]+"");r.send(e.hasContent&&e.data||null),t=function(i,n){var s,p,l;if(t&&(n||4===r.readyState))if(delete Qt[a],t=void 0,r.onreadystatechange=oe.noop,n)4!==r.readyState&&r.abort();else{l={},s=r.status,"string"==typeof r.responseText&&(l.text=r.responseText);try{p=r.statusText}catch(e){p=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&o(s,p,l,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Qt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||oe("head")[0]||fe.documentElement;return{send:function(o,n){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||n(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var Kt=[],Yt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Kt.pop()||oe.expando+"_"+It++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,o){var n,r,a,s=!1!==t.jsonp&&(Yt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Yt,"$1"+n):!1!==t.jsonp&&(t.url+=(Tt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return a||oe.error(n+" was not called"),a[0]},t.dataTypes[0]="json",r=e[n],e[n]=function(){a=arguments},o.always(function(){e[n]=r,t[n]&&(t.jsonpCallback=i.jsonpCallback,Kt.push(n)),a&&oe.isFunction(r)&&r(a[0]),a=r=void 0}),"script"}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var o=ce.exec(e),n=!i&&[];return o?[t.createElement(o[1])]:(o=oe.buildFragment([e],t,n),n&&n.length&&oe(n).remove(),oe.merge([],o.childNodes))};var Zt=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&Zt)return Zt.apply(this,arguments);var o,n,r,a=this,s=e.indexOf(" ");return s>=0&&(o=oe.trim(e.slice(s,e.length)),e=e.slice(0,s)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&oe.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){n=arguments,a.html(o?oe("<div>").append(oe.parseHTML(e)).find(o):e)}).complete(i&&function(e,t){a.each(i,n||[e.responseText,t,e])}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var ei=e.document.documentElement;oe.offset={setOffset:function(e,t,i){var o,n,r,a,s,p,l,c=oe.css(e,"position"),d=oe(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),r=oe.css(e,"top"),p=oe.css(e,"left"),l=("absolute"===c||"fixed"===c)&&oe.inArray("auto",[r,p])>-1,l?(o=d.position(),a=o.top,n=o.left):(a=parseFloat(r)||0,n=parseFloat(p)||0),oe.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(u.top=t.top-s.top+a),null!=t.left&&(u.left=t.left-s.left+n),"using"in t?t.using.call(e,u):d.css(u)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,o={top:0,left:0},n=this[0],r=n&&n.ownerDocument;if(r)return t=r.documentElement,oe.contains(t,n)?(typeof n.getBoundingClientRect!==_e&&(o=n.getBoundingClientRect()),i=V(r),{top:o.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:o.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):o},position:function(){if(this[0]){var e,t,i={top:0,left:0},o=this[0];return"fixed"===oe.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(o,"marginTop",!0),left:t.left-i.left-oe.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ei;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ei})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);oe.fn[e]=function(o){return Fe(this,function(e,o,n){var r=V(e);if(void 0===n)return r?t in r?r[t]:r.document.documentElement[o]:e[o];r?r.scrollTo(i?oe(r).scrollLeft():n,i?n:oe(r).scrollTop()):e[o]=n},e,o,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=S(ie.pixelPosition,function(e,i){if(i)return i=Ze(e,t),tt.test(i)?oe(e).position()[t]+"px":i})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,o){oe.fn[o]=function(o,n){var r=arguments.length&&(i||"boolean"!=typeof o),a=i||(!0===o||!0===n?"margin":"border");return Fe(this,function(t,i,o){var n;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===o?oe.css(t,i,a):oe.style(t,i,o,a)},t,r?o:void 0,r,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var ti=e.jQuery,ii=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=ii),t&&e.jQuery===oe&&(e.jQuery=ti),oe},typeof t===_e&&(e.jQuery=e.$=oe),oe}),$.fn.checkIf=function(e,t){var i=[].slice.call(arguments,2);return e()?this[t].apply(this,i):this},jQuery.cookie=function(e,t,i){if(i=i||{},void 0!==t){null===t&&(t="",i.expires=-1);var o="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var n;"number"==typeof i.expires?(n=new Date,n.setTime(n.getTime()+24*i.expires*60*60*1e3)):n=i.expires,o="; expires="+n.toUTCString()}var r=i.path?"; path="+i.path:"",a=function(e){var t=e.split(".").reverse();return t[1]?"; domain="+t[1]+"."+t[0]:""}(window.location.hostname),s=i.secure?"; secure":"";return document.cookie=[e,"=",encodeURIComponent(t),o,r,a,s].join(""),!0}var p=null;if(document.cookie&&""!=document.cookie)for(var l=document.cookie.split(";"),c=0;c<l.length;c++){var d=jQuery.trim(l[c]);if(d.substring(0,e.length+1)==e+"="){p=decodeURIComponent(d.substring(e.length+1));break}}return p},function(e){e.extend({deparam:function(t){var i={};return e.each(t.split("&"),function(e,t){var o=t.split("=");i[o[0]]=o[1]}),i}})}(jQuery),jQuery.getUrlParam=function(e){var t=null,i=window.location.href;if(i=i.replace(/#(.*)/,""),i.indexOf("?")>-1)for(var o=i.substr(i.indexOf("?")),n=o.split("&"),r=0;r<n.length;r++)if(n[r].indexOf(e+"=")>-1){var a=n[r].split("=");t=a[1];break}return null===t?null:decodeURIComponent(t)},function(e){var i=/["\\\x00-\x1f\x7f-\x9f]/g,j={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(t){if(null===t)return"null";var i=typeof t;if("undefined"!==i){if("number"===i||"boolean"===i)return""+t;if("string"===i)return e.quoteString(t);if("object"===i){if("function"==typeof t.toJSON)return e.toJSON(t.toJSON());if(t.constructor===Date){var o=t.getUTCMonth()+1,n=t.getUTCDate(),r=t.getUTCFullYear(),i=t.getUTCHours(),a=t.getUTCMinutes(),s=t.getUTCSeconds(),t=t.getUTCMilliseconds();return o<10&&(o="0"+o),n<10&&(n="0"+n),i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),t<100&&(t="0"+t),t<10&&(t="0"+t),'"'+r+"-"+o+"-"+n+"T"+i+":"+a+":"+s+"."+t+'Z"'}if(t.constructor===Array){for(o=[],n=0;n<t.length;n++)o.push(e.toJSON(t[n])||"null");return"["+o.join(",")+"]"}n=[];for(r in t){if("number"===(i=typeof r))o='"'+r+'"';else{if("string"!==i)continue;o=e.quoteString(r)}i=typeof t[r],"function"===i||"undefined"===i||(i=e.toJSON(t[r]),n.push(o+":"+i))}return"{"+n.join(",")+"}"}}},e.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(a){return eval("("+a+")")},e.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(a){if(/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+a+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},e.quoteString=function(e){return e.match(i)?'"'+e.replace(i,function(e){var t=j[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),function(e){function t(){}function i(e){a=[e]}function o(e,t,i){return e&&e.apply(t.context||t,i)}function n(e){return/\?/.test(e)?"&":"?"}function r(r){function E(e){Q++||(X(),j&&(C[G]={s:[e]}),B&&(e=B.apply(r,[e])),o(R,r,[e,A,r]),o(z,r,[r,A]))}function N(e){Q++||(X(),j&&e!=_&&(C[G]=e),o(P,r,[r,e]),o(z,r,[r,e]))}r=e.extend({},F,r);var O,D,M,L,$,R=r.success,P=r.error,z=r.complete,B=r.dataFilter,q=r.callbackParameter,U=r.callback,W=r.cache,j=r.pageCache,H=r.charset,G=r.url,V=r.data,J=r.timeout,Q=0,X=t;return x&&x(function(e){e.done(R).fail(P),R=e.resolve,P=e.reject}).promise(r),r.abort=function(){!Q++&&X()},!1===o(r.beforeSend,r,[r])||Q?r:(G=G||l,V=V?"string"==typeof V?V:e.param(V,r.traditional):l,G+=V?n(G)+V:l,q&&(G+=n(G)+encodeURIComponent(q)+"=?"),!W&&!j&&(G+=n(G)+"_"+(new Date).getTime()+"="),G=G.replace(/=\?(&|$)/,"="+U+"$1"),j&&(O=C[G])?O.s?E(O.s[0]):N(O):(w[U]=i,M=e(y)[0],M.id=u+S++,H&&(M[p]=H),I&&I.version()<11.6?(L=e(y)[0]).text="document.getElementById('"+M.id+"')."+h+"()":M[s]=s,T&&(M.htmlFor=M.id,M.event=f),M[m]=M[h]=M[g]=function(e){if(!M[b]||!/i/.test(M[b])){try{M[f]&&M[f]()}catch(e){}e=a,a=0,e?E(e[0]):N(c)}},M.src=G,X=function(e){$&&clearTimeout($),M[g]=M[m]=M[h]=null,k[v](M),L&&k[v](L)},k[d](M,D=k.firstChild),L&&k[d](L,D),$=J>0&&setTimeout(function(){N(_)},J)),r)}var a,s="async",p="charset",l="",c="error",d="insertBefore",u="_jqjsp",f="onclick",h="on"+c,m="onload",g="onreadystatechange",b="readyState",v="removeChild",y="<script>",A="success",_="timeout",w=window,x=e.Deferred,k=e("head")[0]||document.documentElement,C={},S=0,F={callback:u,url:location.href},I=w.opera,T=!!e("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;r.setup=function(t){e.extend(F,t)},e.jsonp=r}(jQuery),function(e){var t=function(){"use strict";var e=function(e){var t=-e.getTimezoneOffset();return null!==t?t:0},i=function(e,t,i){var o=new Date;return void 0!==e&&o.setFullYear(e),o.setDate(i),o.setMonth(t),o},o=function(t){return e(i(t,0,2))},n=function(t){return e(i(t,5,2))},r=function(t){return(t.getMonth()>7?n(t.getFullYear()):o(t.getFullYear()))-e(t)!=0},a=function(){var e=o(),t=n(),i=o()-n();return i<0?e+",1":i>0?t+",1,s":e+",0"};return{determine:function(){var e=a();return new t.TimeZone(t.olson.timezones[e])},date_is_dst:r,dst_start_for:function(e){var t=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":t,"Asia/Yekaterinburg":t,"Asia/Omsk":t,"Asia/Krasnoyarsk":t,"Asia/Irkutsk":t,"Asia/Yakutsk":t,"Asia/Vladivostok":t,"Asia/Kamchatka":t,"Europe/Minsk":t,"Australia/Perth":new Date(2008,10,1,1,0,0,0)}[e]}}}();t.TimeZone=function(e){"use strict";var i={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},o=e;return function(){return void 0!==i[o]}()&&function(){for(var e=i[o],n=e.length,r=0,a=e[0];r<n;r+=1)if(a=e[r],t.date_is_dst(t.dst_start_for(a)))return void(o=a)}(),{name:function(){return o}}},t.olson={},t.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.extend({jstz:t})}(jQuery),function(e){e.extend({log:function(){if(void 0!==App&&!App.DEBUG)return!1;if(arguments.length>0){var e=arguments.length>1?Array.prototype.join.call(arguments," "):arguments[0];try{return console.log(e),!0}catch(t){try{return opera.postError(e),!0}catch(e){}}return alert(e),!1}}})}(jQuery);var requirejs,require,define;!function(){function J(e){return"[object Function]"===M.call(e)}function E(e){return"[object Array]"===M.call(e)}function Z(e,t,i){for(var o in t)o in K||o in e&&!i||(e[o]=t[o]);return d}function N(e,t,i){return e=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e),i&&(e.originalError=i),e}function $(e,t,i){var o,n,r;for(o=0;r=t[o];o++)r="string"==typeof r?{name:r}:r,n=r.location,i&&(!n||0!==n.indexOf("/")&&-1===n.indexOf(":"))&&(n=i+"/"+(n||r.name)),e[r.name]={name:r.name,location:n||r.name,main:(r.main||"main").replace(da,"").replace(aa,"")}}function V(e,t){e.holdReady?e.holdReady(t):t?e.readyWait+=1:e.ready(!0)}function ea(e){function t(e,t){var i,o;if(e&&"."===e.charAt(0)&&t){y.pkgs[t]?t=[t]:(t=t.split("/"),t=t.slice(0,t.length-1)),i=e=t.concat(e.split("/"));var n;for(o=0;n=i[o];o++)if("."===n)i.splice(o,1),o-=1;else if(".."===n){if(1===o&&(".."===i[2]||".."===i[0]))break;o>0&&(i.splice(o-1,2),o-=2)}o=y.pkgs[i=e[0]],e=e.join("/"),o&&e===i+"/"+o.main&&(e=i)}return e}function i(e,i){var o,n,r=e?e.indexOf("!"):-1,a=null,s=i?i.name:null,p=e;return-1!==r&&(a=e.substring(0,r),e=e.substring(r+1,e.length)),a&&(a=t(a,s)),e&&(a?o=(r=x[a])&&r.normalize?r.normalize(e,function(e){return t(e,s)}):t(e,s):(o=t(e,s),(n=w[o])||(n=b.nameToUrl(o,null,i),w[o]=n))),{prefix:a,name:o,parentMap:i,url:n,originalName:p,fullName:a?a+"!"+(o||""):o}}function o(){var e,t,i=!0,o=y.priorityWait;if(o){for(t=0;e=o[t];t++)if(!k[e]){i=!1;break}i&&delete y.priorityWait}return i}function n(e,t,i){return function(){var o,n=ga.call(arguments,0);return i&&J(o=n[n.length-1])&&(o.__requireJsBuild=!0),n.push(t),e.apply(null,n)}}function r(e,t){var i=n(b.require,e,t);return Z(i,{nameToUrl:n(b.nameToUrl,e),toUrl:n(b.toUrl,e),defined:n(b.requireDefined,e),specified:n(b.requireSpecified,e),isBrowser:d.isBrowser}),i}function a(e){var t,o,n;n=e.callback;var r=e.map,a=r.fullName,s=e.deps,p=e.listeners;if(n&&J(n)){if(y.catchError.define)try{o=d.execCb(a,e.callback,s,x[a])}catch(e){t=e}else o=d.execCb(a,e.callback,s,x[a]);a&&(e.cjsModule&&void 0!==e.cjsModule.exports?o=x[a]=e.cjsModule.exports:void 0===o&&e.usingExports?o=x[a]:(x[a]=o,M[a]&&(L[a]=!0)))}else a&&(o=x[a]=n,M[a]&&(L[a]=!0));if(C[e.id]&&(delete C[e.id],e.isDone=!0,b.waitCount-=1,0===b.waitCount&&(F=[])),delete E[a],d.onResourceLoad&&!e.placeholder&&d.onResourceLoad(b,r,e.depArray),t)return o=(a?i(a).url:"")||t.fileName||t.sourceURL,n=t.moduleTree,t=N("defineerror",'Error evaluating module "'+a+'" at location "'+o+'":\n'+t+"\nfileName:"+o+"\nlineNumber: "+(t.lineNumber||t.line),t),t.moduleName=a,t.moduleTree=n,d.onError(t);for(t=0;n=p[t];t++)n(o)}function s(e,t){return function(i){e.depDone[t]||(e.depDone[t]=!0,e.deps[t]=i,e.depCount-=1,e.depCount||a(e))}}function p(e,t){var i,o=t.map,n=o.fullName,s=o.name,p=D[e]||(D[e]=x[e]);t.loading||(t.loading=!0,i=function(e){t.callback=function(){return e},a(t),k[t.id]=!0,v()},i.fromText=function(e,t){var i=O;k[e]=!1,b.scriptCount+=1,b.fake[e]=!0,i&&(O=!1),d.exec(t),i&&(O=!0),b.completeLoad(e)},n in x?i(x[n]):p.load(s,r(o.parentMap,!0),i,y))}function l(e){C[e.id]||(C[e.id]=e,F.push(e),b.waitCount+=1)}function c(e){this.listeners.push(e)}function u(e,t){var o,n,r=e.fullName,s=e.prefix,p=s?D[s]||(D[s]=x[s]):null;return r&&(o=E[r]),o||(n=!0,o={id:(s&&!p?T+++"__p@:":"")+(r||"__r@"+T++),map:e,depCount:0,depDone:[],depCallbacks:[],deps:[],listeners:[],add:c},_[o.id]=!0,!r||s&&!D[s])||(E[r]=o),s&&!p?(r=u(i(s),!0),r.add(function(){var t=i(e.originalName,e.parentMap),t=u(t,!0);o.placeholder=!0,t.add(function(e){o.callback=function(){return e},a(o)})})):n&&t&&(k[o.id]=!1,b.paused.push(o),l(o)),o}function f(e,t,o,n){var p,e=i(e,n),c=e.name,d=e.fullName,f=u(e),h=f.id,m=f.deps;if(d){if(d in x||!0===k[h]||"jquery"===d&&y.jQuery&&y.jQuery!==o().fn.jquery)return;_[h]=!0,k[h]=!0,"jquery"===d&&o&&S(o())}for(f.depArray=t,f.callback=o,o=0;o<t.length;o++)(h=t[o])&&(h=i(h,c?e:n),p=h.fullName,t[o]=p,"require"===p?m[o]=r(e):"exports"===p?(m[o]=x[d]={},f.usingExports=!0):"module"===p?f.cjsModule=m[o]={id:c,uri:c?b.nameToUrl(c,null,n):void 0,exports:x[d]}:!(p in x)||p in C||d in M&&!(d in M&&L[p])?(d in M&&(M[p]=!0,delete x[p],I[h.url]=!1),f.depCount+=1,f.depCallbacks[o]=s(f,o),u(h,!0).add(f.depCallbacks[o])):m[o]=x[p]);f.depCount?l(f):a(f)}function h(e){f.apply(null,e)}function m(e,t){if(!e.isDone){var o,n,r,a,s=e.map.fullName,p=e.depArray;if(s){if(t[s])return x[s];t[s]=!0}if(p)for(o=0;o<p.length;o++)(n=p[o])&&((r=i(n).prefix)&&(a=C[r])&&m(a,t),(r=C[n])&&!r.isDone&&k[n]&&(n=m(r,t),e.depCallbacks[o](n)));return s?x[s]:void 0}}function g(){var e,t=1e3*y.waitSeconds,i=t&&b.startTime+t<(new Date).getTime(),t="",n=!1,r=!1;if(!(b.pausedCount>0)){if(y.priorityWait){if(!o())return;v()}for(e in k)if(!(e in K||(n=!0,k[e]))){if(!i){r=!0;break}t+=e+" "}if(n||b.waitCount){if(i&&t)return e=N("timeout","Load timeout for modules: "+t),e.requireType="timeout",e.requireModules=t,d.onError(e);if(r||b.scriptCount)!G&&!ba||W||(W=setTimeout(function(){W=0,g()},50));else{if(b.waitCount){for(H=0;t=F[H];H++)m(t,{});b.paused.length&&v(),X<5&&(X+=1,g())}X=0,d.checkReadyState()}}}}var b,v,y={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},catchError:{}},A=[],_={require:!0,exports:!0,module:!0},w={},x={},k={},C={},F=[],I={},T=0,E={},D={},M={},L={},R=0;return S=function(e){b.jQuery||!(e=e||("undefined"!=typeof jQuery?jQuery:null))||y.jQuery&&e.fn.jquery!==y.jQuery||!("holdReady"in e||"readyWait"in e)||(b.jQuery=e,h(["jquery",[],function(){return jQuery}]),b.scriptCount&&(V(e,!0),b.jQueryIncremented=!0))},v=function(){var e,t,i,n,r,a;for(R+=1,b.scriptCount<=0&&(b.scriptCount=0);A.length;){if(e=A.shift(),null===e[0])return d.onError(N("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}if(!y.priorityWait||o())for(;b.paused.length;){for(r=b.paused,b.pausedCount+=r.length,b.paused=[],n=0;e=r[n];n++)t=e.map,i=t.url,a=t.fullName,t.prefix?p(t.prefix,e):!I[i]&&!k[a]&&(d.load(b,a,i),I[i]=!0);b.startTime=(new Date).getTime(),b.pausedCount-=r.length}1===R&&g(),R-=1},b={contextName:e,config:y,defQueue:A,waiting:C,waitCount:0,specified:_,loaded:k,urlMap:w,urlFetched:I,scriptCount:0,defined:x,paused:[],pausedCount:0,plugins:D,needFullExec:M,fake:{},fullExec:L,managerCallbacks:E,makeModuleMap:i,normalize:t,configure:function(e){var t,i,o;if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),t=y.paths,o=y.pkgs,Z(y,e,!0),e.paths){for(i in e.paths)i in K||(t[i]=e.paths[i]);y.paths=t}if((t=e.packagePaths)||e.packages){if(t)for(i in t)i in K||$(o,t[i],i);e.packages&&$(o,e.packages),y.pkgs=o}e.priority&&(i=b.requireWait,b.requireWait=!1,b.takeGlobalQueue(),v(),b.require(e.priority),v(),b.requireWait=i,y.priorityWait=e.priority),(e.deps||e.callback)&&b.require(e.deps||[],e.callback)},requireDefined:function(e,t){return i(e,t).fullName in x},requireSpecified:function(e,t){return i(e,t).fullName in _},require:function(t,o,n){if("string"==typeof t)return J(o)?d.onError(N("requireargs","Invalid require call")):d.get?d.get(b,t,o):(o=i(t,o),t=o.fullName,t in x?x[t]:d.onError(N("notloaded","Module name '"+o.fullName+"' has not been loaded yet for context: "+e)));if((t&&t.length||o)&&f(null,t,o,n),!b.requireWait)for(;!b.scriptCount&&b.paused.length;)b.takeGlobalQueue(),v();return b.require},takeGlobalQueue:function(){U.length&&(ha.apply(b.defQueue,[b.defQueue.length-1,0].concat(U)),U=[])},completeLoad:function(e){var t;for(b.takeGlobalQueue();A.length;){if(t=A.shift(),null===t[0]){t[0]=e;break}if(t[0]===e)break;h(t),t=null}h(t?t:[e,[],"jquery"===e&&"undefined"!=typeof jQuery?function(){return jQuery}:null]),S(),d.isAsync&&(b.scriptCount-=1),v(),d.isAsync||(b.scriptCount-=1)},toUrl:function(e,t){var i=e.lastIndexOf("."),o=null;return-1!==i&&(o=e.substring(i,e.length),e=e.substring(0,i)),b.nameToUrl(e,o,t)},nameToUrl:function(e,i,o){var n,r,a,s,p=b.config,e=t(e,o&&o.fullName);if(d.jsExtRegExp.test(e))i=e+(i||"");else{for(n=p.paths,r=p.pkgs,o=e.split("/"),s=o.length;s>0;s--){if(a=o.slice(0,s).join("/"),n[a]){o.splice(0,s,n[a]);break}if(a=r[a]){e=e===a.name?a.location+"/"+a.main:a.location,o.splice(0,s,e);break}}i=o.join("/")+(i||".js"),i=("/"===i.charAt(0)||i.match(/^\w+:/)?"":p.baseUrl)+i}return p.urlArgs?i+(-1===i.indexOf("?")?"?":"&")+p.urlArgs:i}},b.jQueryCheck=S,b.resume=v,b}function ia(){var e,t,i;if(m&&"interactive"===m.readyState)return m;for(e=document.getElementsByTagName("script"),t=e.length-1;t>-1&&(i=e[t]);t--)if("interactive"===i.readyState)return m=i;return null}var ja=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,ka=/require\(\s*["']([^'"\s]+)["']\s*\)/g,da=/^\.\//,aa=/\.js$/,M=Object.prototype.toString,r=Array.prototype,ga=r.slice,ha=r.splice,G=!("undefined"==typeof window||!navigator||!document),ba=!G&&"undefined"!=typeof importScripts,la=G&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,ca="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),K={},u={},U=[],m=null,X=0,O=!1,d,r={},I,w,y,z,v,A,B,H,C,S,W;if(void 0===define){if(void 0!==requirejs){if(J(requirejs))return;r=requirejs,requirejs=void 0}if(void 0!==require&&!J(require)&&(r=require,require=void 0),d=requirejs=function(e,t,i){var o,n="_";return!E(e)&&"string"!=typeof e&&(o=e,E(t)?(e=t,t=i):e=[]),o&&o.context&&(n=o.context),i=u[n]||(u[n]=ea(n)),o&&i.configure(o),i.require(e,t)},d.config=function(e){return d(e)},require||(require=d),d.toUrl=function(e){return u._.toUrl(e)},d.version="1.0.1",d.jsExtRegExp=/^\/|:|\?|\.js$/,w=d.s={contexts:u,skipAsync:{}},(d.isAsync=d.isBrowser=G)&&(y=w.head=document.getElementsByTagName("head")[0],(z=document.getElementsByTagName("base")[0])&&(y=w.head=z.parentNode)),d.onError=function(e){throw e},d.load=function(e,t,i){d.resourcesReady(!1),e.scriptCount+=1,d.attach(i,e,t),e.jQuery&&!e.jQueryIncremented&&(V(e.jQuery,!0),e.jQueryIncremented=!0)},define=function(e,t,i){var o,n;"string"!=typeof e&&(i=t,t=e,e=null),E(t)||(i=t,t=[]),!t.length&&J(i)&&i.length&&(i.toString().replace(ja,"").replace(ka,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t)),O&&(o=I||ia())&&(e||(e=o.getAttribute("data-requiremodule")),n=u[o.getAttribute("data-requirecontext")]),(n?n.defQueue:U).push([e,t,i])},define.amd={multiversion:!0,plugins:!0,jQuery:!0},d.exec=function(b){return eval(b)},d.execCb=function(e,t,i,o){return t.apply(o,i)},d.addScriptToDom=function(e){I=e,z?y.insertBefore(e,z):y.appendChild(e),I=null},d.onScriptLoad=function(e){var t,i=e.currentTarget||e.srcElement;("load"===e.type||i&&la.test(i.readyState))&&(m=null,e=i.getAttribute("data-requirecontext"),t=i.getAttribute("data-requiremodule"),u[e].completeLoad(t),i.detachEvent&&!ca?i.detachEvent("onreadystatechange",d.onScriptLoad):i.removeEventListener("load",d.onScriptLoad,!1))},d.attach=function(e,t,i,o,n,r){var a;return G?(o=o||d.onScriptLoad,a=t&&t.config&&t.config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),a.type=n||"text/javascript",a.charset="utf-8",a.async=!w.skipAsync[e],t&&a.setAttribute("data-requirecontext",t.contextName),a.setAttribute("data-requiremodule",i),a.attachEvent&&!ca?(O=!0,r?a.onreadystatechange=function(){"loaded"===a.readyState&&(a.onreadystatechange=null,a.attachEvent("onreadystatechange",o),r(a))}:a.attachEvent("onreadystatechange",o)):a.addEventListener("load",o,!1),a.src=e,r||d.addScriptToDom(a),a):(ba&&(importScripts(e),t.completeLoad(i)),null)},G)for(v=document.getElementsByTagName("script"),H=v.length-1;H>-1&&(A=v[H]);H--)if(y||(y=A.parentNode),B=A.getAttribute("data-main")){r.baseUrl||(v=B.split("/"),A=v.pop(),v=v.length?v.join("/")+"/":"./",r.baseUrl=v,B=A.replace(aa,"")),r.deps=r.deps?r.deps.concat(B):[B];break}d.checkReadyState=function(){var e,t=w.contexts;for(e in t)if(!(e in K)&&t[e].waitCount)return;d.resourcesReady(!0)},d.resourcesReady=function(e){var t,i;if(d.resourcesDone=e,d.resourcesDone)for(i in e=w.contexts)i in K||(t=e[i],!t.jQueryIncremented)||(V(t.jQuery,!1),t.jQueryIncremented=!1)},d.pageLoaded=function(){"complete"!==document.readyState&&(document.readyState="complete")},G&&document.addEventListener&&!document.readyState&&(document.readyState="loading",window.addEventListener("load",d.pageLoaded,!1)),d(r),d.isAsync&&"undefined"!=typeof setTimeout&&(C=w.contexts[r.context||"_"],C.requireWait=!0,setTimeout(function(){C.requireWait=!1,C.takeGlobalQueue(),C.jQueryCheck(),C.scriptCount||C.resume(),d.checkReadyState()},0))}}();var CryptoJS=CryptoJS||function(e,t){var i={},o=i.lib={},n=function(){},r=o.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=o.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,i=e.words,o=this.sigBytes;if(e=e.sigBytes,this.clamp(),o%4)for(var n=0;n<e;n++)t[o+n>>>2]|=(i[n>>>2]>>>24-n%4*8&255)<<24-(o+n)%4*8;else if(65535<i.length)for(n=0;n<e;n+=4)t[o+n>>>2]=i[n>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},
clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],o=0;o<t;o+=4)i.push(4294967296*e.random()|0);return new a.init(i,t)}}),s=i.enc={},p=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],o=0;o<e;o++){var n=t[o>>>2]>>>24-o%4*8&255;i.push((n>>>4).toString(16)),i.push((15&n).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(i,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],o=0;o<e;o++)i.push(String.fromCharCode(t[o>>>2]>>>24-o%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(i,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=o.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,o=i.words,n=i.sigBytes,r=this.blockSize,s=n/(4*r),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0);if(t=s*r,n=e.min(4*t,n),t){for(var p=0;p<t;p+=r)this._doProcessBlock(o,p);p=o.splice(0,t),i.sigBytes-=n}return new a.init(p,n)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=d.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new u.HMAC.init(e,i).finalize(t)}}});var u=i.algo={};return i}(Math);!function(e){for(var t=CryptoJS,i=t.lib,o=i.WordArray,n=i.Hasher,i=t.algo,r=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},p=2,l=0;64>l;){var c;e:{c=p;for(var d=e.sqrt(c),u=2;u<=d;u++)if(!(c%u)){c=!1;break e}c=!0}c&&(8>l&&(r[l]=s(e.pow(p,.5))),a[l]=s(e.pow(p,1/3)),l++),p++}var f=[],i=i.SHA256=n.extend({_doReset:function(){this._hash=new o.init(r.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,o=i[0],n=i[1],r=i[2],s=i[3],p=i[4],l=i[5],c=i[6],d=i[7],u=0;64>u;u++){if(16>u)f[u]=0|e[t+u];else{var h=f[u-15],m=f[u-2];f[u]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+f[u-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+f[u-16]}h=d+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&l^~p&c)+a[u]+f[u],m=((o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22))+(o&n^o&r^n&r),d=c,c=l,l=p,p=s+h|0,s=r,r=n,n=o,o=h+m|0}i[0]=i[0]+o|0,i[1]=i[1]+n|0,i[2]=i[2]+r|0,i[3]=i[3]+s|0,i[4]=i[4]+p|0,i[5]=i[5]+l|0,i[6]=i[6]+c|0,i[7]=i[7]+d|0},_doFinalize:function(){var t=this._data,i=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=e.floor(o/4294967296),i[15+(n+64>>>9<<4)]=o,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){var e=CryptoJS,t=e.lib,i=t.WordArray,o=e.enc;o.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,o=this._map;e.clamp();for(var n=[],r=0;r<i;r+=3)for(var a=t[r>>>2]>>>24-r%4*8&255,s=t[r+1>>>2]>>>24-(r+1)%4*8&255,p=t[r+2>>>2]>>>24-(r+2)%4*8&255,l=a<<16|s<<8|p,c=0;c<4&&r+.75*c<i;c++)n.push(o.charAt(l>>>6*(3-c)&63));var d=o.charAt(64);if(d)for(;n.length%4;)n.push(d);return n.join("")},parse:function(e){var t=e.length,o=this._map,n=o.charAt(64);if(n){var r=e.indexOf(n);-1!=r&&(t=r)}for(var a=[],s=0,p=0;p<t;p++)if(p%4){var l=o.indexOf(e.charAt(p-1))<<p%4*2,c=o.indexOf(e.charAt(p))>>>6-p%4*2;a[s>>>2]|=(l|c)<<24-s%4*8,s++}return i.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),Form.prototype.getClassName=function(){return this.class_name},Form.prototype.parse=function(e){e=e.replace(/\r\n/g,"").replace(/\r/g,"").replace(/\n/g,""),this._parseFields(e)},Form.prototype.isLoaded=function(){return this.is_loaded},Form.prototype.markAsLoaded=function(){this.is_loaded=!0},Form.prototype.parseJSON=function(e,t){var i,o,n,r,a,s,p;if(t=t||{},i=e.fields,i.sort(function(e,t){return e.order<t.order?-1:1}),this.fields=$.map(i,$.proxy(this._parseJSONField,this)),r=this.getFieldByClassName("FormFieldCheckboxForEmail"),s=this.getFieldByClassName("FormFieldEmail"),r){for(o=0;o<this.fields.length;o++)this.fields[o]===s?p=o:this.fields[o]===r&&(a=o);this.fields[p+1]&&(n=this.fields[p+1],this.fields[p+1]=r,this.fields[a]=n)}"QueuedForm"!==this.getClassName()&&this.addField(new FormFieldSubmit({form:this})),this.markAsLoaded(t.loadedGroup)},Form.prototype._parseJSONField=function(e){var t,i;switch(e.type){case"header":return e.label=e.value,new FormFieldHeader(e.label);case"facebookConnect":return this.hasFacebookConnect=!0,this.connectToFacebookApi(),new FormFieldFacebookConnect(e);default:if(t=e.type,i="FormField",i+=t.charAt(0).toUpperCase()+t.substring(1),i=i.replace(/_(\w)/g,function(e,t){return t.toUpperCase()}),void 0===window[i])App.alert("No such field type in Form::parseFields(): "+t);else if(!1!==App.LC2||"subject"!==e.type)return new window[i](e)}},Form.prototype.addField=function(e){this.fields.push(e)},Form.prototype.getFields=function(){return this.fields},Form.prototype._parseFields=function(e){var t,i,o,n;for(this.fields=[],this.$content=null,this._parseHeader(e);t=e.match(/<!-- \[(.*?)\] -->(.*?)<!-- \[\/.*?\] -->/);)i=t[1],o=t[2],n="FormField",n+=i.charAt(0).toUpperCase()+i.substring(1),void 0===window[n]?App.alert("No such field type in Form::parseFields(): "+i):this.addField(new window[n](o)),e=e.replace(/<!-- \[.*?\] -->.*?<!-- \[\/.*?\] -->/,"");"QueuedForm"!==this.getClassName()&&this.addField(new FormFieldSubmit({form:this}))},Form.prototype.hasInputFields=function(){return!!Utils.find(this.getFields(),function(e){return!0===e.providesValue()||"rating"===e.field_type})},Form.prototype._parseHeader=function(e){var t=e.match(/<!-- header -->(.*?)<!-- end header -->/);return!t||(!t[1]||void this.addField(new FormFieldHeader(t[1])))},Form.prototype.submit=function(e){var t;return(App.getWindowMode()!==App.WINDOW_MINIMIZED||!1!==App.popout.isInIframe())&&(!0!==(t=this.validate())?("invalid_email"===t.error?(App.notification.show({message:__tran("Invalid_email")}),App.isNewMobile()||$("#email").focus()):(App.notification.show({message:__tran("Survey_fill_in_required_fields")}),App.isNewMobile()||$("form div.invalid:first :input").focus()),!1):(!0===this.readFieldsFromCookie&&this.rememberFieldsInCookies(),App.notification.hide(),$("#body form :input").attr("disabled","disabled"),$("#body form").find(".ajax-loader").css("visibility","visible"),!0))},Form.prototype.getFieldsPairs=function(){return null===this.fields_pairs&&this._setFieldsPairs(),this.fields_pairs},Form.prototype.getFieldsPairsJson=function(){return null===this.fields_pairs_json&&this._setFieldsPairs(),this.fields_pairs_json},Form.prototype._setFieldsPairs=function(){var e,t,i;t=[],i=[],e=this.getFields(),$(e).each(function(e,o){var n;return!1===o.providesValue()||(null===(n=o.getValue())||("object"!=typeof n&&(n=[n]),$(n).each(function(e,i){t.push(encodeURIComponent(o.getFieldId())+"="+encodeURIComponent(i))}),o.getTextValue(),void i.push({label:o.getLabel().replace(/\:$/,""),type:o.getFieldType(),value:o.getTextValue()})))}),this.fields_pairs=t.join("&"),this.fields_pairs_json=i},Form.prototype.rememberFieldsInCookies=function(){var e;e=this.getFields(),$(e).each(function(e,t){t.setCookie()})},Form.prototype.focusFirstField=function(){if(App.isNewMobile())return!1;if(App.windowMode!==App.WINDOW_MINIMIZED){var e=Utils.find(this.fields,function(e){return e.providesValue()&&e.getContainer().find("input[type=text], textarea").length});if(!e)return;App.elementIsSeen(e.getContainer())&&e.getContainer().find("input[type=text], textarea").focus()}},Form.prototype.preloadLoaderImage=function(){$('#body form input[type="submit"]').each(function(){0===$(this).siblings(".ajax-loader").length?$(this).after('<span class="ajax-loader" />'):$(this).siblings(".ajax-loader").css("visibility","hidden")})},Form.prototype.init=function(){var e,t=this;return!0===this.inited?(this.preloadLoaderImage(),e=this.getFields(),$(e).each(function(e,t){t.removeValidationMark()}),$("#body form :input").removeAttr("disabled"),!1):(this.preloadLoaderImage(),$("#view-"+this.view_class).submit(function(e){e.preventDefault(),t.submit()}),this.inited=!0,!0)},Form.prototype.removeFields=function(e){var t;t=this.getFields(),$(t).each(function(i,o){o.getClassName()===e&&t.splice(i,1)}),this.$content=null},Form.prototype.validate=function(){var e,t;return e=this.getFields(),t=!0,$(e).each(function(e,i){var o;return o=i.getClassName(),!1===i.providesValue()&&"rating"!==i.field_type?(i.markAsValid(),!0):!0===i.isValid()?(i.markAsValid(),!0):(i.markAsInvalid(),!0!==t||void(t="FormFieldEmail"===o?{error:"invalid_email"}:{error:"required_fields"}))}),t},Form.prototype.getContent=function(){return null===this.$content&&(this.$content=this._getContent()),this.$content},Form.prototype._getContent=function(){var e,t,i,o=this;return e=$('<div class="form" />'),e.append("<form />"),t=e.find("form"),i=this.getFields(),$(i).each(function(e,i){i.$field=i.getHtml({readFromCookie:o.readFieldsFromCookie}),t.append(i.$field)}),e},Form.prototype.getFieldByClassName=function(e){var t=null,i=this.getFields();return $(i).each(function(i,o){if(o.class_name===e)return t=o,!0}),t},Form.prototype.setFormGATracked=function(){this.ga_tracked=!0},Form.prototype.getFormGATracked=function(){return this.ga_tracked},FormField.prototype.generateContainerId=function(){return null!==this.containerId?this.containerId:(void 0===FormField.containerId&&(FormField.containerId=0),FormField.containerId++,this.containerId="container_"+FormField.containerId,this.containerId)},FormField.prototype.getContainer=function(){return null===this.$container&&(this.$container=$("#"+this.containerId)),this.$container},FormField.prototype.getClassName=function(){return this.class_name},FormField.prototype.getId=function(){return this.id},FormField.prototype.getFieldId=function(){return this.field_id},FormField.prototype.getLabel=function(){return this.label},FormField.prototype.getFieldType=function(){return this.field_type},FormField.prototype.getValue=function(){return this.getTextValue()},FormField.prototype.getTextValue=function(){var e;return this.getContainer().length?(e=this.getContainer().find(":input").val(),e=e.replace(/%0A/g,"\n")):""},FormField.prototype.setTextValue=function(e){this.getContainer().find(":input").val(e)},FormField.prototype.isRequired=function(){return this.required},FormField.prototype.isProvided=function(){return!1},FormField.prototype.isValid=function(){return!1===this.isRequired()||!0===this.isProvided()},FormField.prototype.markAsInvalid=function(){this.getContainer().removeClass("valid").addClass("invalid")},FormField.prototype.markAsValid=function(){this.getContainer().removeClass("invalid").addClass("valid")},FormField.prototype.removeValidationMark=function(){this.getContainer().removeClass("invalid").removeClass("valid")},FormField.prototype.providesValue=function(){return this._providesValue},FormField.prototype.parse=function(e){var t,i,o,n;t=e.match(/ id="(.*?)"/),t&&(this.id=t[1]),i=e.match(/field_id="(.*?)"/),i&&(this.field_id=i[1]),o=e.match(/required="(.*?)"/),o&&(this.required=Boolean(parseInt(o[1],10))),(n=e.match(/<strong>(.*?)<\/strong>/))&&(this.label=n[1])},FormField.prototype.parseJSON=function(e){this.id=this.generateContainerId()+"_"+e.order,this.field_id=e.id,this.required=Boolean(e.required),this.label=e.label},FormField.prototype.setCookie=function(){if(!0!==this.supportsCookies)return!1;this.isProvided()?Store.set(this.getCookieName(),this.getValue(),{expires:365}):Store.remove(this.getCookieName())},FormField.prototype.getCookieName=function(){return this.getFieldId()?"LiveChat_"+this.getFieldId():"LiveChat_offlineform_"+App.SKILL+"_"+App.LANG+"_"+this.getId()},FormField.prototype.getCookieValue=function(){return Store.get(this.getCookieName())},FormField.prototype.unescapeText=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")},FormFieldText.prototype=new FormField,FormFieldText.prototype.constructor=FormFieldText,window.FormFieldText=FormFieldText,FormFieldText.prototype.getHtml=function(e){var t,i,o;return i=$("<div />").attr({id:this.generateContainerId(),"field-id":this.field_id}).append("<p />"),t=i.find("p").append('<label for="'+this.id+'"></label>').append('<input type="text" name="'+this.id+'" id="'+this.id+'" class="text">'),t.find("label").text(this.unescapeText(this.label)),!0===this.required&&i.find("label").append(' <span class="asterisk">*</span>'),!0===e.readFromCookie&&(o=this.getCookieValue())&&t.find("input").val(o),i},FormFieldText.prototype.isProvided=function(){var e;return e=this.getContainer().find("input").val(),e=$.trim(e),e.length>0},FormFieldTextarea.prototype=new FormField,FormFieldTextarea.prototype.constructor=FormFieldTextarea,window.FormFieldTextarea=FormFieldTextarea,FormFieldTextarea.prototype.getHtml=function(){var e,t;return t=$("<div />").attr({id:this.generateContainerId(),"field-id":this.field_id}).append("<p />"),e=t.find("p").append('<label for="'+this.id+'"></label>').append('<textarea name="'+this.id+'" id="'+this.id+'"></textarea>'),e.find("label").text(this.unescapeText(this.label)),!0===this.required&&t.find("label").append(' <span class="asterisk">*</span>'),t},FormFieldTextarea.prototype.isProvided=function(){var e;return e=this.getContainer().find("textarea").val(),e=$.trim(e),e.length>0},FormFieldName.prototype=new FormFieldText,FormFieldName.prototype.constructor=FormFieldName,window.FormFieldName=FormFieldName,FormFieldName.prototype.parseJSON=function(e){FormFieldText.prototype.parseJSON.call(this,e),this.id="name"},FormFieldEmail.prototype=new FormFieldText,FormFieldEmail.prototype.constructor=FormFieldEmail,window.FormFieldEmail=FormFieldEmail,FormFieldEmail.prototype.parseJSON=function(e){FormFieldText.prototype.parseJSON.call(this,e),this.id="email"},FormFieldEmail.prototype.getValue=function(){var e;return e=FormFieldText.prototype.getValue.call(this),e=$.trim(e)},FormFieldEmail.prototype.getTextValue=function(){var e;return e=FormFieldText.prototype.getTextValue.call(this),e=$.trim(e)},FormFieldEmail.prototype.isValid=function(){var e;return e=new EmailValidator,!1===this.isRequired()?!1===this.isProvided()||e.validate(this.getValue()):e.validate(this.getValue())},FormFieldSubject.prototype=new FormFieldText,FormFieldSubject.prototype.constructor=FormFieldSubject,window.FormFieldSubject=FormFieldSubject,FormFieldSubject.prototype.parseJSON=function(e){FormFieldText.prototype.parseJSON.call(this,e),this.id="subject"},FormFieldQuestion.prototype=new FormFieldText,FormFieldQuestion.prototype.constructor=FormFieldQuestion,window.FormFieldQuestion=FormFieldQuestion,FormFieldCheckbox.prototype=new FormField,FormFieldCheckbox.prototype.constructor=FormFieldCheckbox,window.FormFieldCheckbox=FormFieldCheckbox,FormFieldCheckbox.prototype.parse=function(e){var t,i,o;FormField.prototype.parse.call(this,e);var t=e.match(/label class="(.*?)"/);for(this.id=t[1];-1!==e.search(/ id="/);)i=e.match(/ id="(.*?)"/),o=e.match(/<label for=".*?">(.*?)<\/label>/),e=e.replace(/<input (.*?)<br>/,""),this.addCheckbox({id:i[1],value:o[1]})},FormFieldCheckbox.prototype.parseJSON=function(e){var t,i=this;if(FormField.prototype.parseJSON.call(this,e),e.answers=[],e.options_data)for(t=0;t<e.options_data.length;t++)e.answers.push({label:e.options_data[t].label,checked:e.options_data[t].checked});else if(e.options)for(t=0;t<e.options.length;t++)e.answers.push({label:e.options[t],checked:!1});$.each(e.answers,function(e,t){i.addCheckbox({id:i.getId()+"_"+e,value:t.label,checked:t.checked})})},FormFieldCheckbox.prototype.addCheckbox=function(e){this.checkboxes.push(e)},FormFieldCheckbox.prototype.getCheckboxes=function(e){return this.checkboxes},FormFieldCheckbox.prototype.getHtml=function(){var e,t,i,o=this;return i=$("<div />").attr({"field-id":this.field_id,id:this.generateContainerId()}).append("<p />"),t=i.find("p"),t.append("<label></label>"),t.find("label:last").text(this.unescapeText(this.label)),e=this.getCheckboxes(),$(e).each(function(e,i){var n;t.append('<span class="group" />'),n=t.find(".group:last"),n.append('<input type="checkbox" class="checkbox" />'),n.find("input:last").attr({name:o.id,id:i.id}).after('<label for="'+i.id+'" />').prop("checked",i.checked),n.find("label:last").text(o.unescapeText(i.value))}),!0===this.required&&i.find("label:first").append(' <span class="asterisk">*</span>'),i},FormFieldCheckbox.prototype.isProvided=function(){return this.getContainer().find("input:checked").length>0},FormFieldCheckbox.prototype._getSelectedCheckboxes=function(){var e,t,i;return i=[],e=this.getCheckboxes(),$(e).each(function(e,o){t=$("#"+o.id),!0===t.is(":checked")&&i.push(o)}),i},FormFieldCheckbox.prototype.getValue=function(){var e,t,i;return i=[],e=this._getSelectedCheckboxes(),0==e.length?null:($(e).each(function(e,o){var n;t=o.id.match(/(\d+)$/),n=parseInt(t[1],10),i.push(n)}),i)},FormFieldCheckbox.prototype.getTextValue=function(){var e,t;return t=[],e=this._getSelectedCheckboxes(),0==e.length?"":($(e).each(function(e,i){t.push(i.value)}),t.join(", "))},FormFieldCheckboxForEmail.prototype=new FormFieldCheckbox,FormFieldCheckboxForEmail.prototype.constructor=FormFieldCheckboxForEmail,window.FormFieldCheckboxForEmail=FormFieldCheckboxForEmail,FormFieldCheckboxForEmail.prototype.getHtml=function(){var e;return e=FormFieldCheckbox.prototype.getHtml.call(this),e.addClass("sticked_to_field"),e},FormFieldFacebookConnect.prototype=new FormField,FormFieldFacebookConnect.prototype.constructor=FormFieldFacebookConnect,window.FormFieldFacebookConnect=FormFieldFacebookConnect,FormFieldFacebookConnect.prototype.getHtml=function(){var e,t;return e=$('<div class="form-facebook" />').attr("id",this.generateContainerId()).append("<p />"),t=$('<div id="facebook-connect"><fb:login-button scope="public_profile,email" size="large" class="fb_loading"></fb:login-button></div>').find("fb\\:login-button").text(this.unescapeText(this.label)),e.find("p").append(t).append('<p class="fb-connect-or" />'),e.find(".fb-connect-or").append("<span />").find("span").text(this.unescapeText(__tran("Button_link_or"))),e},FormFieldHeader.prototype=new FormField,FormFieldHeader.prototype.constructor=FormFieldHeader,window.FormFieldHeader=FormFieldHeader,FormFieldHeader.prototype.getHtml=function(){var e=$('<div><div class="form_header"><p></p></div></div>'),t=e.find("p");return e.find("div").attr("id",this.generateContainerId()),t.text(this.unescapeText(this.content)),t.html(App.parseLinks(t.html().replace(/&lt;br \/&gt;/g,"<br>").replace(/\n/g,"<br>"))),e.html()};var Parallel=function(){return{run:function(e,t){var i,o,n,r=e.length,a=0,s=function(){++a===r&&t()};for(i=0;i<r;++i)o=e[i].fn,n=e[i].opts||{},n.callback=s,o(n)}}}();FormFieldRadio.prototype=new FormField,FormFieldRadio.prototype.constructor=FormFieldRadio,window.FormFieldRadio=FormFieldRadio,FormFieldRadio.prototype.parse=function(e){var t,i,o;FormField.prototype.parse.call(this,e);var t=e.match(/label class="(.*?)"/);for(this.id=t[1];-1!==e.search(/ id="/);)i=e.match(/ id="(.*?)"/),o=e.match(/<label for=".*?">(.*?)<\/label>/),e=e.replace(/<input (.*?)<br>/,""),this.addRadio({id:i[1],value:o[1]})},FormFieldRadio.prototype.parseJSON=function(e){var t,i=this;if(FormField.prototype.parseJSON.call(this,e),e.answers=[],e.options_data)for(t=0;t<e.options_data.length;t++)e.answers.push({label:e.options_data[t].label,checked:e.options_data[t].checked});else if(e.options)for(t=0;t<e.options.length;t++)e.answers.push({label:e.options[t],checked:!1});$.each(e.answers,function(e,t){i.addRadio({id:i.getId()+"_"+e,value:t.label,checked:t.checked})})},FormFieldRadio.prototype.addRadio=function(e){this.radios.push(e)},FormFieldRadio.prototype.getRadios=function(e){return this.radios},FormFieldRadio.prototype.getHtml=function(){var e,t,i,o=this;return i=$("<div />").attr({"field-id":this.field_id,id:this.generateContainerId()}).append("<p />"),t=i.find("p").append("<label></label>"),t.find("label:last").text(this.unescapeText(this.label)),e=this.getRadios(),$(e).each(function(e,i){var n;t.append('<span class="group" />'),n=t.find(".group:last"),n.append('<input type="radio" class="radio" name="'+o.id+'" />'),n.find("input:last").attr({id:i.id,value:i.value}).after('<label for="'+i.id+'" />').prop("checked",i.checked),n.find("label:last").text(o.unescapeText(i.value))}),!0===this.required&&i.find("label:first").append(' <span class="asterisk">*</span>'),i},FormFieldRadio.prototype.isProvided=function(){return this.getContainer().find("input:checked").length>0},FormFieldRadio.prototype._getSelectedRadio=function(){var e,t,i;return i=null,e=this.getRadios(),$(e).each(function(e,o){t=$("#"+o.id),!0===t.is(":checked")&&(i=o)}),i},FormFieldRadio.prototype.getValue=function(){var e,t;return(e=this._getSelectedRadio())?(t=e.id.match(/(\d+)$/),parseInt(t[1],10)):null},FormFieldRadio.prototype.getTextValue=function(){var e;return e=this._getSelectedRadio(),e?e.value:""},FormFieldRating.prototype=new FormField,FormFieldRating.prototype.constructor=FormFieldRating,window.FormFieldRating=FormFieldRating,FormFieldRating.prototype.getHtml=function(){var e=$('<div field-id="'+this.field_id+'" id="'+this.generateContainerId()+'"><p><label>'+this.unescapeText(this.label)+(this.required?' <span class="asterisk">*</span>':"")+'</label></p><div class="rating-component">'+this.rateMe.getGoodRateHTML({dontIncludeText:!0})+this.rateMe.getBadRateHTML()+'</div><p class="hidden postchat-rated-info">'+this.getRatedInfo()+'</p><p class="hidden rating-comment-wrapper"><label for="rating-comment">'+this.unescapeText(this.comment_label)+'</label><textarea name="rating-comment">'+this.rateMe.latestVoteComment+"</textarea></p></div>");return this.markVoted(e).bindEvents(e),e},FormFieldRating.prototype.parseJSON=function(e){var t=e.options&&e.options[0];delete e.options,delete e.options_data,delete e.skills,FormField.prototype.parseJSON.call(this,e),this.comment_label=t||""},FormFieldRating.prototype.bindEvents=function(e){var t=this;this.bindVoting(e).bindCanceling(e),App.tooltip.set(e.find(".rating-button")),this.rateMe.latestVote===this.rateMe.NOT_RATED&&e.one(App.clickEvent,"a",function(e){e.preventDefault(),t.expandComment()})},FormFieldRating.prototype.markVoted=function(e){var t=this.rateMe.latestVote;return t?(this.hideButtons(e).showRatedInfo(e).expandComment(e),this):this},FormFieldRating.prototype.expandComment=function(e){return(this.$field||e).find(".rating-comment-wrapper").removeClass("hidden"),this},FormFieldRating.prototype.isProvided=function(){return this.rateMe.latestVote!==this.rateMe.NOT_RATED},FormFieldRating.prototype.vote=function(e){var t=this.rateMe.vote(e);return this.rateMe.displayRate(t,this.rateMe.OMIT_MESSAGE),App.tooltip.hide(),this},FormFieldRating.prototype.getRatedInfo=function(){var e=' <a class="postchat-change-rate" href="#">'+__tran("Rate_me_cancel_tooltip")+".</a>";return this.rateMe.latestVote===this.rateMe.RATED_GOOD?'<span class="icon-thumbs-up"></span> '+__tran("Rate_me_confirmation_good")+e:this.rateMe.latestVote===this.rateMe.RATED_BAD?'<span class="icon-thumbs-down"></span> '+__tran("Rate_me_confirmation_bad")+e:""},FormFieldRating.prototype.showRatedInfo=function(e){return(this.$field||e).find(".postchat-rated-info").removeClass("hidden"),this},FormFieldRating.prototype.hideRatedInfo=function(e){return(this.$field||e).find(".postchat-rated-info").addClass("hidden"),this},FormFieldRating.prototype.showButtons=function(e){return(this.$field||e).find(".rating-component").removeClass("hidden"),this},FormFieldRating.prototype.hideButtons=function(e){return(this.$field||e).find(".rating-component").addClass("hidden"),this},FormFieldRating.prototype.bindVoting=function(e){var t=this;return e.on(App.clickEvent,".rating-button",function(e){if(e.preventDefault(),t.rateMe.checkIfRateAllowed()){var i=$(this).hasClass("rate-bad")?"bad":"good";t.vote(i).hideButtons().updateRatedInfo().showRatedInfo()}}),this},FormFieldRating.prototype.bindCanceling=function(e){var t=this;e.on(App.clickEvent,".postchat-change-rate",function(e){e.preventDefault(),t.rateMe.checkIfRateAllowed()&&t.vote("none").showButtons().hideRatedInfo()})},FormFieldRating.prototype.updateRatedInfo=function(){return this.$field.find(".postchat-rated-info").replaceWith('<p class="hidden postchat-rated-info">'+this.getRatedInfo()+"</p>"),this},FormFieldSelect.prototype=new FormFieldRadio,FormFieldSelect.prototype.constructor=FormFieldSelect,window.FormFieldSelect=FormFieldSelect,FormFieldSelect.prototype.getHtml=function(){var e,t,i,o=this;return i=$("<div />").attr({"field-id":this.field_id,id:this.generateContainerId()}).append("<p />"),$select=$("<select />"),t=i.find("p").append("<label></label>").append($select),t.find("label:last").text(this.unescapeText(this.label)),__tran("forms_choose")&&$select.append('<option value="">'+__tran("forms_choose")+"</option>"),e=this.getRadios(),$(e).each(function(e,t){var i;i=$("<option />").attr({value:t.value,id:t.id}).text(o.unescapeText(t.value)),$select.append(i)}),!0===this.required&&i.find("label:first").append(' <span class="asterisk">*</span>'),i},FormFieldSelect.prototype.isProvided=function(){return this.getContainer().find('option[value!=""]:selected').length>0},FormFieldSelect.prototype._getSelectedRadio=function(){var e,t,i,o;return i=null,o=0,e=this.getRadios(),$(e).each(function(e,n){t=$("#"+n.id),!0===t.is(":selected")&&(i=n),o++}),i},FormFieldSkill.prototype=new FormField,FormFieldSkill.prototype.constructor=FormFieldSkill,window.FormFieldSkill=FormFieldSkill,FormFieldSkill.prototype.parse=function(e){var t,i,o;for(FormField.prototype.parse.call(this,e),t=0;-1!==e.search(/<option /);)i=e.match(/ value="(\d+)"/),o=e.match(/<option value="\d+">(.*?)<\/option>/),e=e.replace(/<option(.*?)<\/option>/,""),this.addSkill({index:t,id:i[1],description:o[1]}),t++},FormFieldSkill.prototype.parseJSON=function(e){var t=this;FormField.prototype.parseJSON.call(this,e),$.each(e.skills,function(e,i){t.addSkill({index:e,id:i.skill_id,description:i.label,status:i.status,embedded_chat_hide_when_offline:i.embedded_chat_hide_when_offline})})},FormFieldSkill.prototype.addSkill=function(e){this.skills.push(e)},FormFieldSkill.prototype.getSkills=function(e){return this.skills},FormFieldSkill.prototype.getHtml=function(){var e,t,i,o,n=this;return o=$("<div />").attr({id:this.generateContainerId(),"field-id":this.field_id}).append("<p />"),t=o.find("p"),t.append("<label></label>"),t.find("label:last").text(this.unescapeText(this.label)),t.append('<select id="skill" name="'+this.id+'" />'),i=t.find("select:last"),__tran("forms_choose")&&i.append('<option value="">'+__tran("forms_choose")+"</option>"),e=this.getSkills(),$(e).each(function(e,t){var o,r;i.append('<option value="'+t.id+'" />'),o=i.find("option:last"),r=n.unescapeText(t.description),null!=t.status&&("online"===t.status?(o.addClass("online"),r+=" ("+__tran("Skill_status_online")+")"):(o.addClass("offline"),r+=" ("+__tran("Skill_status_offline")+")")),o.text(r)}),!0===this.required&&(o.addClass("required"),o.find("label:first").append(' <span class="asterisk">*</span>')),o},FormFieldSkill.prototype.isProvided=function(){return this.getContainer().find('option[value!=""]:selected').length>0},FormFieldSkill.prototype._getSelectedSkill=function(){return Utils.find(this.getSkills(),function(e,t){return $('#skill option[value!=""]:eq('+t+")").is(":selected")})},FormFieldSkill.prototype.getValue=function(){var e;return e=this._getSelectedSkill(),e?e.index:null},FormFieldSubmit.prototype=new FormField,FormFieldSubmit.prototype.constructor=FormFieldSubmit,window.FormFieldSubmit=FormFieldSubmit,FormFieldSubmit.prototype.getHtml=function(){var e,t=!1;switch(this.form.getClassName()){case"OfflineForm":if(!1===this.form.hasInputFields())return"";e="Offline_form_submit_label";break;case"PrechatSurvey":!1===this.form.hasInputFields()&&(t=!0),e="Prechat_submit_label";break;case"PostchatSurvey":!0===this.form.hasInputFields()?e="Submit":(e="Embedded_read_chat_transcript",t=!0)}return'<div id="'+this.generateContainerId()+'" class="submit"><p'+(t?' class="center"':"")+'><input type="submit" value="'+__tran(e)+'"></p></div>'},FormFieldSubmit.prototype.markAsValid=function(){},Events.prototype.supportsCORS=function(){return null==this._supportsCORS&&(this._supportsCORS="withCredentials"in new XMLHttpRequest),this._supportsCORS},Events.prototype.track=function(e,t){if(!this.supportsCORS())return!1;var i={licence_id:App.LICENSE,event_id:e,message:t};$.ajax({type:"POST",url:"//"+App.QUEUE_ADDRESS+"/logs",data:i})};var Actions={invoke:function(e,t,i,o){if("function"!=typeof this._actions[e])return App.alert("Command not implemented: "+e),!0;this._actions[e](t,i,o)},_actions:{startChat:function(e,t){t.message.data&&this.synchroniseLoginToChat(e,t),t.secured_token&&App.setSecretToken(t.secured_token),t.secured_session_id&&(App.SECRET_ID=t.secured_session_id,Store.set("lc."+App.LICENSE+".secret_id",App.SECRET_ID)),App.startPing()},operatorsAndChatState:function(e,t,i){if(!App._startingChat){var o,n;switch(Utils.isArray(t)?(o=parseInt(t[1],10),n=1===parseInt(t[2],10)):(o=t.agent_available?1:0,n=t.visitor_is_chatting),App.getState()){case App.STATE_OFFLINE:if(n)App.startPing();else if(o>0){if(greeting=App.chat.displayedGreeting(),greeting)return App.setState(App.STATE_PRE_CHAT),App.incomingInvitationWithAgent(greeting.trigger_unique_id,greeting.message,greeting.agent,greeting.focus_textarea),!0;App.prechatSurvey.load(i)}break;case App.STATE_PRE_CHAT:n?App.startPing():0===o&&(!1!==App.getSourceInvitation()||App.getVisitorInteraction()||App.offlineForm.load());break;case App.STATE_INVITATION:case App.STATE_INVITATION_WITH_AGENT:if(n)App.startPing();else if(0===o){if(App.invitationOperatorsOffline(),App.getVisitorInteraction())return void App.offlineForm.load();App.offlineForm.load()}}}},chatSurveyJSON:function(e,t,i){i=i||{};var o="0"===e.split("^")[1]?"prechatSurvey":"postchatSurvey";if("prechatSurvey"===o&&!App.supportsChatting())return void App.showView("not-working-cookies-and-local-storage");App[o].parseJSON(t),"invitation_with_agent"!==i.source&&App[o].displayView()},customForm:function(e,t){var i=e.split("^")[2];if("offline"===i)App.offlineForm.parseJSON(t),App.offlineForm.displayView();else{if("queued"!==i)return App.alert("Custom form not supported: "+i),!1;if("1"===App.chat.running())return!1;App.queuedForm.parseJSON(t),App.queuedForm.displayView()}},operatorAdded:function(e,t){var i,o=App.getState()===App.STATE_INVITATION_WITH_AGENT;if(App.removeAllOperators(),App.enableTextarea(),i=App.addOperator({id:t[1],display_name:t[2],job_title:t[25],avatar_url:t[23]}),!0===App.chat.getFinished())return App.reloadWindow(),!0;if(App.chat.setID(t[4]),App.chat.setConferenceID(t[12]),!1===(!0!==App.chat.getStarted())||App.chat.wasRunning()){var n=t[16].replace(/;$/,"").split(";");1===n.length&&App.getPreviousOperator().id!==App.getOperator().id?(App.refreshOperatorsListAfterTransfer(),App.updateOperatorPhotoAndName(i),App.displayNewMessage({message:__tran("User_Transfer",{operator:t[2]},!0)}),App.chat.setTransferred(!0)):1!==n.length&&App.displayNewMessage({message:__tran("Operator_joined_conference",{operator:t[2]})}),App.chat.running("1"),
App.chat.removeQueueMessage()}else{App.displayChatView(),App.startPing(),App.sendInfoToParent({state:App.STATE_CHATTING,operator_display_name:t[2],operator_avatar_url:t[23]}),App.clearChatMessages(),App.setState(App.STATE_CHATTING,App.STATE_DONT_NOTIFY_PARENT);App.displayNewMessage({message:App.parseIncomingMessage(App.chat.getParsedWelcomeMessage()),who:App.OPERATOR,operator_id:t[1],timestamp:t[t.length-1],message_id:"welcome_message"}),App.chat.addUnseenMessage("welcome_message"),App.getWindowMode()===App.WINDOW_MAXIMIZED&&App.chat.findLastSeenMessage();var r=App.chat.getFirstMessage();if(r&&(App.displayNewMessage({message:App.parseIncomingMessage(r.message),message_id:r.id,who:App.CLIENT}),App.chat.unsetFirstMessage()),App.chat.setStarted(!0),App.chat.setFinished(!1),App.focus(),!App.getHistoryLoading()){var a={agent_name:t[2],initiator:App.startChatSource};LC_API.on_chat_started(a),App.notifyParent.send("new_chat;"+encodeURIComponent(JSON.stringify(a))+";"+encodeURIComponent(t[23])),o||App.notifyParent.send("message_received;"+encodeURIComponent(App.chat.getParsedWelcomeMessage())+";"+encodeURIComponent(t[1])+";"+ +new Date+";"+encodeURIComponent(t[2]));var s;s=App.chatBetweenGroups()?!0===App.windowsCommunicator.isMainWindow():!0===App.windowsCommunicator.isMainWindowInGroup(),s&&App.ga.trackPageView("Chat",{name:App.client.getName(),email:App.client.getEmail(),agent:App.getOperator().id},{"performed chat":!0})}}App.chat.updateMode(),App.updateOperatorsInfoBar(),App.unsetPreviousOperator()},enterQueue:function(e,t){var i,o;if(i=t[2],o=t[3],o=Math.floor(o/60),o=0==o?1:o,App.chat.running(null),App.removeAllOperators(),App.getState()===App.STATE_INVITATION_WITH_AGENT){var n=App.chat.getFirstMessage();n&&!App.startChatSource&&App.displayNewMessage({message:n,who:App.CLIENT}),App.chat.displayQueueMessage()}else App.getState()===App.STATE_CHATTING?(App.chat.wasRunning(!0),App.chat.displayQueueMessage(),App.disableTextarea()):(App.queuedForm.setQueueData(i,o),App.chat.getMode()!==App.CHAT_MODE_QUEUE?App.queuedForm.load():App.queuedForm.displayView());App.chat.setStarted(!1),App.startPing()},chatClosedByOperator:function(e,t){t[1]=$.trim(t[1]),t[1].length>0&&App.receivedMessage(App.getOperator().getId(),t[1]),App.endChat({who:App.OPERATOR})},chatClosedDueToInactivity:function(e,t){App.displayNewMessage({message:__tran("Client_inactive")}),App.endChat({who:App.CLIENT})},incorrectSkill:function(e,t){App.displayInformation("There was a problem with initiating the chat. Please try again in a couple of minutes.")},userLeftChat:function(e,t){var i;if(-1===t[2].indexOf("@"))return!0;i=App.removeOperator(t[2]),App.getOperatorsNumber()>0?(App.updateOperatorPhotoAndName(),App.displayNewMessage({message:__tran("Operator_left_conference",{operator:t[3]})}),1==App.getOperatorsNumber()&&App.chat.setMode(App.CHAT_MODE_SINGLE)):(App.setPreviousOperator(i),App.chat.running(null)),App.$typingIndicator.hide(),App.stopTypingIndicatorAnimation()},allOperatorsOffline:function(e,t){App.stopPing(),App.postchatSurvey.chat_closed_manually||(App.endChat(),App.offlineForm.load())},incorrectData:function(e){if("IWCS0004P"===e.split("^")[0])return!1;!0===App.chat.getStarted()&&(App.events.track("chat_window_connection_lost_reason","incorrect data chat_state "+App.chat.getStarted()),App.connectionLost({source:"incorrect data"}))},offlineMessageSent:function(e,t){1===parseInt(t[1],10)?App.showView("offline-message-sent"):App.displayInformation(__tran("Offline_message_failed"))},messageFromOperator:function(e,t){var i=t[t.length-1];App.receivedMessage(t[1],t[2],t[9],i,t[10])},remoteDesktopRequest:function(e,t){},operatorIsTypingMessage:function(e,t){var i,o,n,r;n=App.checkUpdateScroll(),t[2].match(/^[^-]+/)[0],i=t[2].match(/^[^-]+-(.*)-[^-]+$/)[1],o=t[2].match(/[^-]+$/)[0],i=App.unescapeForIWCS(i),(r=App.getOperatorByID(i))&&(r=__tran("Operator_is_typing",{operator:r.getDisplayName()},!0),r=r.replace(/\.+ ?$/,""),App.$typingIndicator.find(".typing-author").html(r),"1"==o?0===$.trim(App.$message.val()).length&&(App.$typingIndicator.show(),App.stopTypingIndicatorAnimation(),App.startTypingIndicatorAnimation()):(App.$typingIndicator.hide(),App.stopTypingIndicatorAnimation()),n&&App.scrollBottom())},integrationMessage:function(originalRequest,response){var integration=response[1],data=eval("("+response[2]+")");switch(integration){case"freshbooks":App.freshbooks.show(data);break;case"zendesk":App.zendesk.show(data);break;case"assistly":App.assistly.show(data);break;case"joinme":App.getHistoryLoading()||App.joinme.show(data);break;case"firefly":App.getHistoryLoading()||App.firefly.show(data)}},pushPage:function(e,t){App.pushPage.push(t[1],t[3])},skillStatus:function(e,t){App.prechatSurvey.skillAvailability(t[2],t[3])},connectionClosed:function(e){App.endChat()},commonAnswer:function(e){},json:function(e,t,i){var o;if(t=JSON.parse(t[1]),t.error)return this.handleError(e,t),!1;switch(t.name){case"chat_survey":t.survey=t.survey||{enabled:!1,fields:[]},this.chatSurveyJSON(e,t.survey,i);break;case"custom_form":o=e.split("^")[2],"offline"!==o&&"queued"!==o||this.customForm(e,t);break;default:App.DEBUG&&$.log("JSON command not implemented: "+t.name)}},handleError:function(e,t){switch(t.error){case"Skill does not exist":return void this.incorrectSkill(e,t);case"IP banned":return void this.clientBanned(e,t)}},clientBanned:function(e,t){App.stopPing(),App.stopCheckingForStateChange(),App.setState(App.STATE_CHAT_ENDED),App.showView("chat"),$("#rating-and-transcript").remove(),App.chat.displayOperatorClosedMessage()},synchroniseChatClosed:function(e,t){if("closechat"!==t[1])return!1;App.endChat({who:App.CLIENT})},close_chat:function(e,t){var i="visitor"===t.message.data.source?App.CLIENT:App.SYSTEM;App.endChat({who:i})},synchroniseLoginToChat:function(e,t){var i=t.message.data;App.client.setName(i.visitor.nick),App.client.setEmail(i.visitor.email),App.chat.setID(i.trigger_unique_id),App.chat.setWelcomeMessage(i.welcome_message),App.setIntegrationVariables(i.integration_params),App.SKILL=i.group,App.updateOperatorsInfoBar(),i.visitor_message&&(App.chat.setFirstMessage({message:i.visitor_message,id:i.visitor_message_id}),App.chat.lastMessage=i.visitor_message_id)},synchroniseSendMessage:function(e,t){var i;i=t[3],i=App.parseIncomingMessage(i),App.displayNewMessage({message:i,who:App.CLIENT,timestamp:t[8]}),App.clearRememberedMessage(i)},send_message:function(e,t){var i,o;i=App.parseIncomingMessage(t.message.data.message),App.chat.lastMessage=t.message.data.message_id,o="system"===t.message.data.author?App.SYSTEM:App.CLIENT,App.getState()===App.STATE_QUEUE?App.chat.setFirstMessage({message:i,id:App.chat.lastMessage}):App.displayNewMessage({message:i,who:o,timestamp:t.timestamp,message_id:App.chat.lastMessage}),App.clearRememberedMessage(i)},synchroniseIntegration:function(e,t){var i,o,n;return n=t[2].split("-"),"firefly"===n[1]?(!1===App.firefly.inited()&&(App.firefly.inited(!0),App.notifyParent.send("firefly_load_script")),!1):"LCOP0023C"===t[2].split("-")[0]&&(o=t[2].match(/(-([^-]+)-(\d+))/),i=parseInt(o[3],10),void(1==i?App.pushPage.showPushPageAccepted():App.pushPage.showPushPageRefused()))},synchroniseRateOperator:function(e,t){App.rateMe.displayRate(t[3]),App.rateMe.setLatestVote(t[3])},synchroniseEmailTranscript:function(e,t){App.emailTranscript.setEmail(t[2]),App.emailTranscript.displayConfirmation(App.emailTranscript.getEmail(),App.emailTranscript.HIDE_INSTANTLY)},chatAttachment:function(e,t){var i,o,n,r,a,s,p=t.message.data.files[0];if(i=p.url,o=i.substring(i.lastIndexOf("/")+1,i.length),i=i.replace(o,encodeURIComponent(o)),i=i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),s=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"visitor"===t.message.data.author.type?n=App.CLIENT:(n=App.OPERATOR,a=t.message.data.author.login),r={message:'<a target="_blank" href="'+i+'">'+s+"</a>",message_id:t.message.data.attachment_token,who:n,timestamp:t.timestamp},a&&(r.operator_id=a,App.chat.addUnseenMessage(t.message.data.attachment_token)),-1!==Utils.inArray(p["content-type"],["image/gif","image/jpeg","image/png","image/bmp"])){r.thumbnail=p.thumbs,r.thumbnail.originalUrl=i,p.thumbs&&(r.thumbnail.url=r.thumbnail.url.replace(o,encodeURIComponent(o)));var l=p.thumbs.width,c=p.thumbs.height,d=App.messageWidth;if(l>d){var u=d/l;r.thumbnail.width=d,r.thumbnail.height=c*u}}App.displayNewMessage(r)},attachmentToken:function(e,t){return!1},send_rating_comment:function(e,t){App.rateMe.displayRatingComment(t.message.data.comment)},urlDetails:function(e,t){return!1},urlDetailsResponse:function(e,t){var i=t.message.data;if(!i.title&&!i.description&&!i.image_url)return!1;App.displayUrlPreview(i)},getPredictedAgent:function(e,t){var i=App.chat.getParsedWelcomeMessage();if(null==t.agent)return App.events.track("get_predicted_agent_log"," visitor: "+App.CONFIG.visitor.session+" session: "+App.SESSION_ID+" timestamp: "+ +new Date+" last_ping: "+App._lastPing+" request: "+JSON.stringify(e)+" response: "+JSON.stringify(t)),App.startChat({source:"predicted agent fallback"}),!1;App.predictedAgent(i,t.agent),App.windowsCommunicator.broadcast("predicted_agent",{message:i,agent:t.agent},{singleMessage:!0})},agentMessageSeen:function(e,t){App.chat.markMessagesAsSeen("operator",t.message.data.id)},visitorMessageSeen:function(e,t){App.chat.markLastSeenMessage(t.message.data.id)}}};File.prototype.oldBrowserIframe=function(){var e,t,i,o;e=$("#send-file-clip"),t=$("#input-file"),i=$("#textarea-wrapper"),o=$("<form></form>").attr({action:App.API_ADDRESS+"/v2/chats/"+App.chat.getConferenceID()+"/attachment",id:"file-fallback-form",name:"file-form",method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",target:"file-fallback-iframe-sent"}),inputLicense=$('<input type="hidden" name="license_id" />').attr("value",App.LICENSE).appendTo(o),inputSilent=$('<input type="hidden" name="silent" />').attr("value","true").appendTo(o),inputAuthorType=$('<input type="hidden" name="author[type]" />').attr("value","visitor").appendTo(o),inputToken=$('<input type="hidden" name="token" />').appendTo(o),inputSubmit=$('<input type="submit" style="display:none" name="submit-input" />').attr({id:"send-file-form",value:"submit"}).appendTo(o),$('<iframe src="" style="display:none" id="iframe-file-post-fallback" name="file-fallback-iframe-sent" onload="App.file.hideBar();"></iframe>').appendTo(i),t.appendTo(o),i.append(o),e.appendTo(o)},File.prototype.handleDragEnter=function(e){e.preventDefault(),$("#content").addClass("dragging"),$("#drag-and-drop-mask").show()},File.prototype.handleDragOver=function(e){e.stopPropagation(),e.preventDefault()},File.prototype.handleDragLeave=function(e){e.preventDefault(),$("#content").removeClass("dragging"),$("#drag-and-drop-mask").hide()},File.prototype.parseFiles=function(e,t){var i;if(e)for(i=0;i<e.length;i++)e[i].showName=e[i].name.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e[i].formattedSize=function(e){return e>1e6?Math.round(e/1e6)+"MB":e>1e3?Math.round(e/1e3)+"kB":e+"B"}(e[i].size),e[i].size>10485760?(e[i].reason=__tran("Cannot_upload_a_file_over_10MB"),this.badFiles.push(e[i])):0!==e[i].size?this.filesArray.push(e[i]):(e[i].reason=__tran("Prohibited_file_type"),this.badFiles.push(e[i]));t&&this.allocateTokens()},File.prototype.attachmentTokenRegistered=function(e){var t;!1===this.ajaxUpload?($("#file-fallback-form input[name=token]").val(e),$("#file-fallback-form").trigger("submit"),$("#send-file-form").click(),$("#send-file-form").click(),this.showBar(__tran("Uploading")+"...")):(t=this.filesToRegisterToken.pop(),t.token=e,this.filesToUploadArray.push(t),!1===this.uploading&&this.uploadFiles())},File.prototype.handleDrop=function(e){var t,i;i=this,e.stopPropagation(),e.preventDefault(),this.handleDragLeave(e),t=e.originalEvent.target.files||e.originalEvent.dataTransfer.files,this.checkIfDirAndConvert(e,function(e){e&&e.length>0?i.parseFiles(e,!1):i.parseFiles(t),i.showConfirmation()})},File.prototype.showConfirmation=function(){var e,t,i,o,n,r,a,s;for(e="",t="",o="",App.hideOperatorsBar(),App.hideTextarea(),r=this,a=0;a<this.filesArray.length;a++)e+='<li><div class="file-meta"><span class="file-name">'+this.filesArray[a].showName+'</span> <span class="file-size">'+this.filesArray[a].formattedSize+"</span></div></li>";for(s=0;s<this.badFiles.length;s++)n=o!==this.badFiles[s].reason?this.badFiles[s].reason:"",o=this.badFiles[s].reason,t+='<li><span class="reason">'+n+'</span><div class="file-meta"><span class="file-name">'+this.badFiles[s].showName+'</span> <span class="file-size">'+this.badFiles[s].formattedSize+"</span></div></li>";i='<ul id="popup-file-confirm-list">'+e+"</ul>",this.badFiles.length>0&&(i=i+'<ul id="popup-file-confirm-bad-list">'+t+"</ul>"),this.badFiles.length>0&&0===this.filesArray.length?(i='<div id="popup-file">'+i,i=i+'<p class="file-action-container"><button href="#" class="cancel-file-upload only-bad-files">'+__tran("Button_link_cancel")+"</button></p></div>"):(i='<div id="popup-file"><h4>'+__tran("Files_to_upload")+":</h4>"+i,i=i+'<p class="file-action-container"><button id="send-file">'+__tran("Send")+'</button>  <a href="#" class="cancel-file-upload">'+__tran("Button_link_cancel")+"</a></p></div>"),$("#content").addClass("popup-show"),$("#content #popup-file").remove(),$("#content").append(i),this.badFiles.length>0&&($("#popup-file-confirm-list").css("max-height","110px"),$("#popup-file-confirm-bad-list").css("max-height","110px")),document.getElementById("send-file"),$("#send-file").bind(App.clickEvent,function(){r.allocateTokens(),$("#input-file").val("")})},File.prototype.hideConfirmation=function(){$("#content").removeClass("popup-show"),$("#popup-file").remove(),App.showOperatorsBar(),App.showTextarea()},File.prototype.hideConfirmationAndCancelFiles=function(){this.filesArray.length=0,this.badFiles.length=0,this.hideConfirmation()},File.prototype.allocateTokens=function(){function e(){var i,o;i=t.filesArray.pop(),t.filesToRegisterToken.push(i),o=Date.now(),App.request.sendJSON("attachment_token",{random_id:o,visitor:{id:App.SESSION_ID},valid_time_sec:60}),t.filesArray&&t.filesArray.length>0&&e()}var t=this;this.hideConfirmation(),this.badFiles.length=0,e()},File.prototype.progress=function(e){$(".progress-bar").width(e+"%")},File.prototype.showBar=function(e,t){var i,o;t=t||"",o=this.ajaxUpload?'<a href="#" class="cancel-upload"><span class="s-cancel"></span></a>':"",$("#progressbar-file").length>0?($("#progressbar-file").removeClass(),$("#progressbar-file .progress-label").text(e)):(i='<div id="progressbar-file" class="'+t+'"><div class="progress-bar"></div><div class="progress-label">'+e+o+"</div></div>",$("#body").append(i))},File.prototype.hideBar=function(){$("#progressbar-file").remove()},File.prototype.uploadFiles=function(e){var t,i,o,n,e,r;i=this,this.uploading=!0,e=e||[],t=this.filesToUploadArray.pop(),o=__tran("Uploading")+" "+t.showName+" "+t.formattedSize+"...",this.showBar(o),n=new FormData,n.append("files",t),n.append("license_id",App.LICENSE),n.append("author[type]","visitor"),n.append("token",t.token),r=$.ajax({url:App.API_ADDRESS+"/v2/chats/"+App.chat.getConferenceID()+"/attachment",type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",xhr:function(){var e=$.ajaxSettings.xhr();return e.upload.onprogress=function(e){i.progress(e.loaded/e.total*100)},e.upload.onload=function(){},e},success:function(t,o){i.progress(0),i.filesToUploadArray.length>0?i.uploadFiles(e):(i.uploading=!1,i.uploadingFinished(e))},error:function(o,n,r){e.push(t),i.progress(0),i.filesToUploadArray.length>0?i.uploadFiles(e):(i.uploading=!1,i.uploadingFinished(e))}}),File.prototype.abort=r.abort},File.prototype.uploadingFinished=function(e){var t;this.hideBar(),1===e.length?(t=e[0].showName+" "+__tran("upload_failed")+'<a href="#" class="upload-failed-hide">'+__tran("hide")+"</a>",this.showBar(t,"upload-failed")):e.length>1&&(t=__tran("files_failed_to_upload",{files:e.length})+'<a href="#" class="upload-failed-hide">'+__tran("hide")+"</a>",this.showBar(t,"upload-failed"))},File.prototype.addListeners=function(){var e;App.CONFIG.attachments.enable_for_visitors&&App.useLC2Theme()&&App.LC2&&(navigator.userAgent&&/AndroidNoFilesharing/gi.test(navigator.userAgent)||(!1===this.ajaxUpload?(this.oldBrowserIframe(),$("#send-file-clip").replaceWith('<label for="input-file" id="send-file-clip">'+$("#send-file-clip").html()+"</label>")):App.isMobile()||App.isNewMobile()||$("#input-file").attr("multiple",!0),e=this,e.content=document.getElementById("content"),this.dragAndDrop&&$(e.content).append('<div id="drag-and-drop-mask"><div><span>'+__tran("Drop_file_here")+"</span></div></div>"),e.mask=document.getElementById("drag-and-drop-mask"),$(e.mask).bind("dragleave",function(t){e.handleDragLeave(t)}),$(e.content).bind("dragover",function(t){var i=t.originalEvent.dataTransfer;"none"===i.dropEffect&&(i.dropEffect="copy"),!0===e.checkIfContainsFiles(t)&&e.handleDragEnter(t)}),$(e.mask).bind("drop",function(t){e.handleDragLeave(t),e.handleDrop(t)}),this.ajaxUpload&&$(e.content).on(App.clickEvent,"#send-file-clip",function(e){e.preventDefault(),e.stopPropagation(),$("#input-file").click()}),$(e.content).on(App.clickEvent,".cancel-upload",function(t){t.preventDefault(),e.filesToUploadArray.length=0,e.abort()}),$(e.content).on(App.clickEvent,".upload-failed-hide",function(){$("#progressbar-file").remove()}),$(e.content).on(App.clickEvent,".cancel-file-upload",function(t){t.preventDefault(),e.filesArray.length=0,e.badFiles.length=0,$("#input-file").val(""),e.hideConfirmation()}),$(e.content).on("change","#input-file",function(t){$(this).val()&&(e.ajaxUpload?(e.parseFiles(this.files),e.showConfirmation()):e.parseFiles(!1,!0))}),$("#send-file-clip .icon-clip").attr("title",__tran("Upload_files")),$("#send-file-clip").show(),$("body").addClass("filesharing-enabled"),App.tooltip.set($("#send-file-clip .icon-clip"),!0)))},File.prototype.removeListeners=function(){var e;App.CONFIG.attachments.enable_for_visitors&&(e=document.getElementById("content"),$(e).unbind("dragenter"),$(e).unbind("dragleave"),$(e).unbind("dragover"),$(e).unbind("drop"),$(e).unbind(),$("#send-file-clip").hide(),$("body").removeClass("filesharing-enabled"))},File.prototype.checkIfContainsFiles=function(e){var t;if(e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.types){for(t=0;t<e.originalEvent.dataTransfer.types.length;t++)if("Files"==e.originalEvent.dataTransfer.types[t])return!0;return!1}return!0},File.prototype.checkIfDirAndConvert=function(e,t){var i,o,n,r,a;if(!(i=e.originalEvent.dataTransfer.items)||0===i.length||!i[0].webkitGetAsEntry)return t(null);for(o=[],n=0,n+=i.length,r=0;r<i.length;r++)a=i[r].webkitGetAsEntry(),a&&a.isDirectory?function(e){var i,r;i=e.createReader(),i.readEntries(function(e){for(n=n+e.length-1,r=0;r<e.length;r++)e[r].isFile?e[r].file(function(e){if(n-=1,o.push(e),0===n)return t(o)}):n-=1})}(a):a&&a.isFile&&a.file(function(e){if(n-=1,o.push(e),0===n)return t(o)})},Integration.prototype.setEnabled=function(e){this.enabled=e},Integration.prototype.isEnabled=function(){return!0===this.enabled},LC_API={on_chat_started:"object"==typeof LC_API&&"function"==typeof LC_API.on_chat_started?LC_API.on_chat_started:function(){},on_chat_ended:"object"==typeof LC_API&&"function"==typeof LC_API.on_chat_ended?LC_API.on_chat_ended:function(){},on_chat_state_changed:"object"==typeof LC_API&&"function"==typeof LC_API.on_chat_state_changed?LC_API.on_chat_state_changed:function(){},open_chat_window:function(){return!1},minimize_chat_window:function(){return!1},hide_chat_window:function(){return!1},agents_are_available:function(){return App.getState()!==App.STATE_OFFLINE},chat_window_maximized:function(){return!0},chat_window_minimized:function(){return!1},chat_window_hidden:function(){return!1},visitor_queued:function(){return App.getState()===App.STATE_QUEUE},chat_running:function(){return App.getState()===App.STATE_CHATTING},visitor_engaged:function(){return this.visitor_queued()||this.chat_running()||App.getState()===App.STATE_INVITATION_WITH_AGENT},get_window_type:function(){return"popup"},set_custom_variables:function(e){return window.console&&console.log("LC_API.set_custom_variables() is not supported in this window mode."),!1},close_chat:function(){App.chat.running()&&App.request.sendJSON("close_chat",{source:"api_js"})},get_last_visit_timestamp:function(){return parseInt(App.CONFIG.visitor.last_visit,10)},get_visits_number:function(){return parseInt(App.CONFIG.visitor.visit_number,10)},get_page_views_number:function(){return parseInt(App.CONFIG.visitor.page_view,10)},get_chats_number:function(){return parseInt(App.CONFIG.visitor.chat_number,10)},get_visitor_id:function(){return App.SESSION_ID},get_chat_id:function(){return App.chat.getConferenceID()||null}};var NewMobile={parseMobileCss:function(e){e=e.replace(/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//gi,"");var t=function(e,i){i=i||0;var o,n,r,a;return-1!==(o=e.indexOf("}",i))&&(n=e.substr(0,o+1),r=n.match(/{/g)&&n.match(/{/g).length||0,a=n.match(/}/g)&&n.match(/}/g).length||0,r!==a?t(e,n.length):n=n.substr(n.indexOf("{")+1,n.lastIndexOf("}")-n.indexOf("{")-1))},i=-1;return-1!==(i=e.indexOf("@livechat-mobile"))&&(e=e.substr(i,e.length+1-i),cuttedCustomStyle=t(e),cuttedCustomStyle)}},NotifyParent={parent_url:function(e){try{return decodeURIComponent(e)}catch(t){return Utils.extractDomain(e)}}(document.location.hash.replace(/^#/,"")),original_parent_url:null,parent_domain:null,supportsPostMessage:!!window.postMessage,messagesQueue:[],init:function(){this.parent_domain=Utils.extractDomain(this.parent_url),this.original_parent_url=document.location.toString(),this.bindReceive(),!1===this.supportsPostMessage&&this.bindSendInterval()},getParentUrl:function(){return this.parent_url},bindSendInterval:function(){var e=this;setInterval(function(){var t;e.messagesQueue.length>0&&(t=e.messagesQueue.pop(),NotifyParent._send(t))},180)},send:function(e){if(App.popout.isInIframe())return!1;!0===this.supportsPostMessage?this._send(e):this.messagesQueue.push(e)},_send:function(e){XD.postMessage(encodeURIComponent(e),this.getParentUrl(),window.opener||parent)},bindReceive:function(){var e=this;XD.receiveMessage(function(t){e.receive(t)},this.parent_domain)},receive:function(e){var t;t=e.data,t=decodeURIComponent(t),App.receiveMessageFromParent(t)},reloadWindow:function(){var e=window.location.href;/&trigger=[a-zA-Z0-9]+/.test(e)?(e=e.replace(/&trigger=[a-zA-Z0-9]+/,""),window.location.href=e):window.location.reload()}};Observers.prototype=new Observers,Observers.prototype.constructor=Observers,Observers.prototype.register=function(e,t){void 0===this._observers[e]&&(this._observers[e]=[]),this._observers[e].push(t)},Observers.prototype.notify=function(e){if(void 0===this._observers[e])return!1;$.each(this._observers[e],function(e,t){t()})},OfflineForm.prototype=new Form,OfflineForm.prototype.constructor=OfflineForm,OfflineForm.prototype.load=function(e){var t=this;if(e=$.extend({force_reload:!1,chose_destination_skill:!1,destination_skill_form_disabled:App.CONFIG.embedded_chat.hide_when_offline},e),this.binded||(XD.receiveMessage(function(e){if("javascript:"===e.origin)return!1;t.receiveFromAPI(JSON.parse(CryptoJS.enc.Base64.parse(e.data).toString(CryptoJS.enc.Utf8)))},App.API_ADDRESS),this.binded=!0),App.setState(App.STATE_OFFLINE),App.observers.register("window_maximize",function(){t.trackAnalyticsIntegrations()}),!1===App.popout.isPopOut()&&!1===App.popout.isInIframe()&&App.getWindowMode()!==App.WINDOW_MAXIMIZED)return App.startCheckingForStateChange(),!1;if(!0===e.destination_skill_form_disabled)return this.loadAgentsOfflineScreen(),!1;this.trackAnalyticsIntegrations();var i=this.isLoaded(App.SKILL);if(i)return this.displayView(),!0;!0!==e.force_reload&&i?this.displayView():(App.showLoadingIndicator(),App.request.send(["IWCS0122C",App.LICENSE,"offline",App.SKILL]))},OfflineForm.prototype.prepopulateFields=function(){var e,t;e=this.getFieldByClassName("FormFieldName"),e&&App.client.getName({omitDefault:!0})&&e.setTextValue(App.client.getName()),(t=this.getFieldByClassName("FormFieldEmail"))&&App.client.getEmail()&&t.setTextValue(App.client.getEmail())},OfflineForm.prototype.displayView=function(){App.hideTextarea(),App.hideOperatorsBar(),App.displayView("offline-form",this.getContent()),this.init(),this.prepopulateFields(),App.setState(App.STATE_OFFLINE),App.focus(),App.startCheckingForStateChange()},OfflineForm.prototype.submit=function(){if(!0!==Form.prototype.submit.call(this))return!1;this.setOfflineMessage(),this.setTicketMessage(),this.send()},OfflineForm.prototype.clearMessageInput=function(){var e=this.getFields(),t=Utils.find(e,function(e){return e.getClassName&&"FormFieldTextarea"===e.getClassName()});t&&t.setTextValue("")},OfflineForm.prototype.prepareMessage=function(e){var t=this,i=this.getFields(),o="",n="",e=$.extend({omit:!1},e);return $(i).each(function(i,o){var r,a;return!1===o.providesValue()||(r="",a=t.encodeChars(o.getTextValue()),!("FormFieldName"!==o.getClassName()&&"FormFieldEmail"!==o.getClassName()&&"FormFieldSubject"!==o.getClassName()||("FormFieldName"===o.getClassName()&&$.trim(a).length>0?App.client.setName(o.getTextValue()):"FormFieldEmail"===o.getClassName()&&$.trim(a).length>0?App.client.setEmail(o.getTextValue()):"FormFieldSubject"===o.getClassName()&&$.trim(a).length>0&&(t.ticketSubject=a),!App.LC2||!0!==e.omit))||("FormFieldTextarea"===o.getClassName()?(n.length>0&&(r="\n"+r),r+=o.getLabel()+"\n"+a,r+="\n",r+="\n"):(r+=o.getLabel()+" "+a,r+="\n"),void(n+=r)))}),o=App.chat.getCustomVariables(),null!==o&&$.each(o,function(e,i){n+=t.encodeChars(e)+": "+t.encodeChars(i)+"\n"}),n},OfflineForm.prototype.setOfflineMessage=function(){this.offlineMessage=this.prepareMessage()},OfflineForm.prototype.setTicketMessage=function(){this.ticketMessage=this.prepareMessage({omit:!0})},OfflineForm.prototype.encodeChars=function(e){return App.LC2||(e=encodeURIComponent(e)),e},OfflineForm.prototype.getOfflineMessage=function(){var e=this.offlineMessage;return e=e.replace(/\n/g,this.encodeChars("\r\n"))},OfflineForm.prototype.getTicketMessage=function(){var e=this.ticketMessage;return e=e.replace(/\n/g,this.encodeChars("\r\n"))},OfflineForm.prototype.send=function(){var e,t,i,o=this;if(e=App.WIX?App.WIX.url:document.location.hash.replace(/^#/,""),""===e&&(e=document.location.toString()),App.isPopOut())try{t=decodeURIComponent(e),e=t}catch(e){}if(i=e.match(/\:\/\/([^\/]*)/)[1],App.LC2){$("body").append('<iframe id="ticket-iframe" name="ticket-iframe" />'),$hiddenForm=this.buildHiddenForm(e),$("body").append($hiddenForm);var n=new Error("offline_form");App.events.track("offline_form_investigation "+App.LICENSE+" "+App.SESSION_ID," visitor: "+App.CONFIG.visitor.session+" hide_when_offline: "+App.CONFIG.embedded_chat.hide_when_offline+" status: "+App.CONFIG.status+" script_data_form: "+JSON.stringify(App.CONFIG.offline_form)+" userAgent: "+App.userAgent+" group: "+App.SKILL+" chat_between_groups: "+App.chatBetweenGroups()+" stack: "+n.stack),$hiddenForm.submit(),this.clearMessageInput(),setTimeout(function(){!0!==o.isSent()&&(App.displayInformation(__tran("Offline_message_failed")),$("#ticket-iframe, #ticket-form").remove())},3e4)}else App.request.send(["IWCS0043C",App.LICENSE,"$",App.client.getName(),App.client.getEmail()||"noreply@livechatinc.com",this.getOfflineMessage(),App.SKILL,e,i,"$",App.SESSION_ID],{force_post:!0})},OfflineForm.prototype.receiveFromAPI=function(e){null!=e.id||"success"===e.result?(App.showView("offline-message-sent"),App.notifyParent.send("ticket_created;"+e.id+";"+encodeURIComponent(this.getTicketMessage())+";"+encodeURIComponent(App.client.getEmail())+";"+App.SESSION_ID+";"+encodeURIComponent(App.client.getName())+";"+encodeURIComponent(this.ticketSubject)+";"+encodeURIComponent(JSON.stringify(this.getFieldsPairsJson()))),App.ga.trackPageView("Ticket form filled in",{email:App.client.getEmail()}),this.markAsSent()):App.displayInformation(__tran("Offline_message_failed")),$("#ticket-iframe, #ticket-form").remove()},OfflineForm.prototype.buildHiddenForm=function(e){var t,i,o,n,r;return o=$('<input type="hidden" name="offline_message" />').val(this.getOfflineMessage()),n=$('<input type="hidden" name="ticket_message" />').val(this.getTicketMessage()),t=$('<form id="ticket-form" action="'+App.API_ADDRESS+'/v2/tickets/new?post_message=true" method="post" target="ticket-iframe" />'),t.append($('<input type="hidden" name="requester[mail]">').val(App.client.getEmail())),t.append($('<input type="hidden" name="licence_id">').val(App.LICENSE)),t.append($('<input type="hidden" name="visitor_id">').val(App.SESSION_ID)),t.append($('<input type="hidden" name="group">').val(App.SKILL)),t.append($('<input type="hidden" name="source[url]">').val(e)),t.append($('<input type="hidden" name="timezone">').val($.jstz.determine().name())),t.append(o),t.append(n),null!=App.client.getName()&&(i=$('<input type="hidden" name="requester[name]" />').val(App.client.getName()),t.append(i)),null!=this.ticketSubject&&(r=$('<input type="hidden" name="subject" />').val(this.ticketSubject),t.append(r)),t},OfflineForm.prototype.isSent=function(){return this.is_sent},OfflineForm.prototype.markAsSent=function(){this.is_sent=!0},OfflineForm.prototype.trackAnalyticsIntegrations=function(){var e;App.getState()!==App.STATE_OFFLINE||App.getWindowMode()===App.WINDOW_MINIMIZED||!0===this.getFormGATracked()||App.getSkillFormDisabledFlag(App.SKILL)||(e=App.LC2?"Ticket form":"After-hours form",App.ga.trackPageView(e),this.setFormGATracked())},OfflineForm.prototype.loadAgentsOfflineScreen=function(){App.setState(App.STATE_OFFLINE);var e={fields:[{type:"header",value:__tran("Agents_not_available")}]};this.parseJSON(e),this.displayView()},OfflineForm.prototype.isLoaded=function(e){return this._loadedMap[e]},OfflineForm.prototype.markAsLoaded=function(e){return this._loadedMap[e]=!0,this},OfflineForm.prototype.parseJSON=function(e){Form.prototype.parseJSON.call(this,e,{loadedGroup:App.SKILL}),this._fields[App.SKILL]=this.fields},OfflineForm.prototype.getContent=function(){return this.$content[App.SKILL]||(this.$content[App.SKILL]=this._getContent()),this.$content[App.SKILL]},OfflineForm.prototype.getFields=function(){return this._fields[App.SKILL]},Operator.prototype.getId=function(){return this.id},Operator.prototype.getDisplayName=function(){return this.display_name},Operator.prototype.getJobTitle=function(){return App.LC2?this.job_title:__tran("Role_Support_Angel")},Operator.prototype.getAvatarUrl=function(){var e=this.avatar_url;return"//"+(e=UrlsUtils.convertUrlToCdn(e))},PopOut.prototype.isPopOut=function(){return window.top===window.self},PopOut.prototype.isInIframe=function(){return""===App.notifyParent.getParentUrl()},PopOut.prototype.getParentHostname=function(){return window.location!=window.parent.location?Utils.extractDomain(document.referrer).match(/(^https?:\/\/)(.+)/)[2].split(":")[0]:document.location.hostname};var XD=function(){var e,t=this;return{postMessage:function(e,i,o){if(i&&(o=o||parent,t.postMessage))try{o.postMessage(e,Utils.extractDomain(i))}catch(e){}},receiveMessage:function(i,o){t.postMessage&&(i&&(e=function(e){if("string"==typeof o&&e.origin!==o&&"javascript:"!==e.origin&&"javascript:"!==o||"[object Function]"===Object.prototype.toString.call(o)&&!1===o(e.origin))return!1;i(e)}),t.addEventListener?t[i?"addEventListener":"removeEventListener"]("message",e,!1):t[i?"attachEvent":"detachEvent"]("onmessage",e))}}}();QueuedForm.prototype=new Form,QueuedForm.prototype.constructor=QueuedForm,QueuedForm.prototype.load=function(e){App.setState(App.STATE_QUEUE),App.chat.setMode(App.CHAT_MODE_QUEUE),App.hideTextarea(),App.hideOperatorsBar(),!1===this.isLoaded()?(App.showLoadingIndicator(),App.request.send(["IWCS0122C",App.LICENSE,"queued",App.SKILL])):this.displayView()},QueuedForm.prototype.setQueueData=function(e,t){this.numberInQueue=e,
this.waitingTime=t},QueuedForm.prototype.updateQueueHeader=function(){var e;this.removeFields("FormFieldHeader"),e=$.extend({},this.rawHeader),e.content=e.content.replace(/%number%/g,this.numberInQueue).replace(/%minutes%/g,this.waitingTime),this.addField(e)},QueuedForm.prototype.parseJSON=function(e){var t;Form.prototype.parseJSON.call(this,e),null!==(t=this.getFieldByClassName("FormFieldHeader"))&&(this.rawHeader=$.extend({},t),this.updateQueueHeader())},QueuedForm.prototype.displayView=function(){null!==this.rawHeader&&this.updateQueueHeader(),App.hideTextarea(),App.hideOperatorsBar(),App.displayView("queued-form",this.getContent()),this.init(),App.sendInfoToParent({state:App.STATE_QUEUE}),App.setState(App.STATE_QUEUE,App.STATE_DONT_NOTIFY_PARENT)},ReadMessage.prototype.init=function(){var e=this;App.windowsCommunicator.registerObserver(function(t,i,o){e.receiveMessage(t,i,o)})},ReadMessage.prototype.notifyAboutReadMessage=function(){if(!1===App.chat.getStarted())return!1;this.unread_messages=0,App.windowsCommunicator.broadcast("new_messages",this.unread_messages),App.notifyParent.send("message_read")},ReadMessage.prototype.notifyAboutNewMessage=function(){if(!1===App.windowsCommunicator.isMainWindow())return!1;this.unread_messages++,App.windowsCommunicator.broadcast("new_messages",this.unread_messages)},ReadMessage.prototype.receiveMessage=function(e,t,i){switch(e){case"new_messages":this.onNewMessages(t);break;case"personal_invitation":this.onPersonalInvitation(t);break;case"predicted_agent":this.onPredictedAgent(t);break;case"status_ping":this.onStatusPing(t,i)}},ReadMessage.prototype.onNewMessages=function(e){return!1!==App.chat.getStarted()&&(!0===App.popout.isPopOut()||App.getWindowMode()===App.WINDOW_MAXIMIZED&&!0===App.tabIsActive?(this.notifyAboutReadMessage(),!0):void 0!==e&&(this.unread_messages=e,0===e?(App.notifyParent.send("message_read"),!0):void App.notifyParent.send("new_messages;"+e)))},ReadMessage.prototype.onPersonalInvitation=function(e){App.incomingInvitationWithAgent(e.trigger_unique_id,e.message,e.agent)},ReadMessage.prototype.onPredictedAgent=function(e){App.predictedAgent(e.message,e.agent)},ReadMessage.prototype.onStatusPing=function(e,t){t===App.SKILL&&Actions.invoke("operatorsAndChatState",null,e)},RecentWindow.prototype.init=function(){this.startCheckForRecentWindow(),this.markAsRecent()},RecentWindow.prototype.isRecent=function(){return this.is_recent},RecentWindow.prototype.markAsRecent=function(){Store.set("recent_window",App.getUniqueID()),this.is_recent=!0,App.addBodyClass("recent-window")},RecentWindow.prototype.startCheckForRecentWindow=function(){var e=this;this.isRecentObserver=setInterval(function(){e.checkWindowIsRecent()},1e3)},RecentWindow.prototype.checkWindowIsRecent=function(){var e;if(!1===this.is_recent)return!0;(e=Store.get("recent_window"))!==App.getUniqueID()&&(this.is_recent=!1,App.removeBodyClass("recent-window"))},Shortener.prototype.replace=function(e,t,i){var o=i;o=o.replace(/^(http|https):\/\//,""),o=o.replace(/^www\./,"");var n=i.length-App.shortener.max_length;return o.length<App.shortener.max_length+10||n<=20?e:(i=i.substring(0,20)+"&hellip;"+i.substring(n),t+i+"</a>")},Shortener.prototype.shorten=function(e){return e.replace(this.re,this.replace)};var Store=function(){var e,t=null,i=null;$.cookie("3rdparty","allow");var o=function(){return null!==t?t:"allow"===$.cookie("3rdparty")?t=!0:(r(),t=!1)},n=function(){return null!==i?i:r()},r=function(){try{return window.localStorage.setItem("supports_local_storage",!0),i=!0}catch(e){return i=!1}},a=/\.license\d+/,s={set:function(e,t,i){return o()&&"cookie"===i.storage?$.cookie(e,t,i):n()?window.localStorage.setItem(e,t):void 0},get:function(e,t){if(o()&&"cookie"===t.storage)return $.cookie(e);if(n()){var i=window.localStorage.getItem(e);return i||window.localStorage.getItem(e.replace(a,""))}},remove:function(e,t){return o()&&"cookie"===t.storage?$.cookie(e,null):n()?window.localStorage.removeItem(e):void 0}};for(var p in s)!function(t){s[p]=function(i){var o=arguments[t.length-1]||{};o.storage=o.storage||"cookie";var n;e&&(n=e(i));var r=[n||i].concat([].slice.call(arguments,1,t.length),o);return t.apply(null,r)}}(s[p]);return s.setModifyKeyFn=function(t){return e=t,this},s.supports3rdPartyCookies=o,s.supportsLocalStorage=n,s}(),Template={_templates:{
head:'<style type="text/livechat-styles-1.0">    a,abbr,acronym,address,applet,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,font,form,h1,h2,h3,h4,h5,h6,html,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline}:focus{outline:0}body{line-height:1;color:#000;background:#fff}ol,ul{list-style:none}table{border-collapse:separate;border-spacing:0}caption,td,th{text-align:left;font-weight:400}blockquote:after,blockquote:before,q:after,q:before{content:""}blockquote,q{quotes:""""} body,body.pop-out #content,html{height:100%}#body .form-facebook,#confirm-closing p,#facebook-connect,.submit .center{text-align:center}#body .time,#sound,#tooltip,.ajax-loader,body{visibility:hidden}#notification,.author{text-shadow:1px 1px 0 #fff}#body a,#body a.fb_button:hover,#cancel-chat,#footer #powered a,a{text-decoration:none}body,html{background:0 0}#operators .logo,#operators .rating-button,.ajax-loader{background-repeat:no-repeat}body,input,select,table,textarea{font:12px/16px "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif}#css-container,#extra{display:none}#wrapper{position:absolute;top:0;right:0;bottom:0;left:0;z-index:6}.outline{border:7px solid #ddd;border:7px solid rgba(200,200,200,.5);border-bottom-width:0;border-radius:17px 17px 0 0}body.pop-out .outline{border:0;border-radius:0}#content{width:100%;table-layout:fixed}#content .integration,#content p,#typing-indicator{padding:5px}#content .form,#content .form div{padding:5px 0}#content .form div.sticked_to_field{margin-top:-10px}#content .form div p{padding:0 5px}#content .integration{border-style:solid;margin-top:-1px}#content .integration p{padding-left:0;padding-right:0}.ajax-loader{display:inline-block;zoom:1;width:16px;height:16px;margin-left:5px;vertical-align:middle;background-image:url(//cdn.livechatinc.com/widget/img/loader.gif);background-position:0 0}#body p.system,#body p.system strong,.icon{vertical-align:top}#title-container td{height:24px;line-height:24px;font-size:120%}#title-container .title-button{display:block;cursor:pointer;float:right;margin:3px 3px 0 0;width:19px;height:18px;background-repeat:no-repeat}#title-container #close-chat,body.pop-out #title-container #minimize{display:none}#title,body.state-chatting #title-container #close-chat{display:block}#title-container #minimize{background-image:url(//cdn.livechatinc.com/widget/img/sprite.20111206.png);background-position:-16px -173px}#title-container #close-chat{background-image:url(//cdn.livechatinc.com/widget/img/sprite.20111206.png);background-position:-16px -190px}body.pop-out #notification{right:36px}body.pop-out.state-chatting #notification{right:58px}body.state-chatting #notification{right:62px}#title{padding:2px 7px 2px 8px;font-weight:700;border-radius:10px 10px 0 0}body.pop-out #title{cursor:default;border-radius:0}#title #title-text{margin-left:3px}#operators{display:none}body.has-operators-bar #operators{display:table-row}#operators td{padding:10px;height:56px}#operators .operator-info{height:57px;overflow:hidden}#operators .wrapper{position:relative;height:56px;float:left;width:100%;z-index:13897311}#operators .rating-button,#operators span.rate-good{background-image:url(//cdn.livechatinc.com/widget/img/sprite.20111206.png);cursor:pointer;z-index:5001}#operators .logo{background-position:100% 50%;background-size:auto}#operators .logo.retina{background-size:auto 52px}#operators #rating{position:relative;float:left;top:1px;height:19px;margin-right:5px;color:#999}#operators .rating-button{display:block}#operators a.rate-good{float:right;padding-left:20px;position:relative;height:19px;color:#777;background-position:-18px -55px;top:.1px}#operators a.rate-good:hover,#operators a.rated-good{color:#222;background-position:-18px -34px}#operators span.rate-good{height:19px;line-height:19px;font-size:10px;background-repeat:repeat-x;background-position:0 -273px;float:left;padding:0 4px 0 2px}#operators a.rate-bad{float:right;width:22px;height:19px;background-position:-18px -76px}#operators a.rate-bad:hover,#operators a.rated-bad{background-position:-18px -97px}#operators #email_transcript{position:relative;float:left;top:1px}#operators #email_transcript a{display:block}#operators #email_transcript_form{display:none;position:absolute;top:62px;left:-10px;right:-10px;z-index:189375;padding:5px 10px}#operators #email_transcript_form form{margin-left:-5px}#operators #email_transcript_form input.text{display:inline;margin-left:5px}#operators #email_transcript_form span{display:block;font-size:10px}#operators #email_transcript_form .top-shadow{position:absolute;bottom:0;left:0;right:0;height:2px}.top-shadow{box-shadow:rgba(100,100,100,.2) 0 2px 0 0}#body{position:relative;width:100%;overflow:hidden}#body .top-shadow{position:absolute;top:0;left:0;width:100%;height:10px;margin-top:-10px;background:0 0;z-index:9999}#body-inner{width:100%;height:100%;word-wrap:break-word;word-break:break-word;background:#f2f2f2;color:#333}a{color:#333}#body .view{display:none}#body a:hover{text-decoration:underline}#body label{display:block;font-weight:700}#body .form div.valid{opacity:.25}#body .form div.invalid label{color:red}#body .form div.invalid .group label{color:inherit}#body form .asterisk{color:red}#skill option{color:#999}#skill option.online{color:#090}#content .form div p,#content .integration,#content p,#typing-indicator{padding-left:10px;padding-right:10px}#content img.avatar{display:none;float:left;margin-right:10px;vertical-align:top}.author,.operator-name,.operator-role,body.avatar-enabled #content img.avatar,input.text{display:block}.operator-name{margin-top:2px;font-size:16px;font-weight:700}.operator-role{margin-top:.25em;font-size:11px}.author{padding-bottom:2px;font-weight:400}.client,.operator{margin:10px;border-radius:5px;border-bottom-width:3px;border-bottom-style:solid;background-color:#fff;color:#333}.system{color:#999}#content p.client.same-author,#content p.operator.same-author{margin-top:-17px}#content .integration{border-width:0}input.text,textarea{border:1px solid #abadb3;padding:2px;border-radius:2px}.submit input{padding:2px 5px}input.text.error,textarea.error{background:#fcc}input.text{width:200px}form span.group{display:block;clear:both;line-height:20px}#body form span.group label{display:inline;font-weight:400;margin-top:2px}#body input.checkbox,#body input.radio{float:left;margin-right:5px}#body .form-facebook .fb_iframe_widget{margin:5px;max-width:345px;text-align:left;overflow:hidden;white-space:nowrap}#body .form-facebook .fb-connect-or{position:relative;padding:0;margin:10px 0 5px}#message-placeholder,#notification,#sound,#tooltip,#tooltip-arrow{position:absolute}#body .form-facebook .fb-connect-or span{display:inline-block;color:#ccc}#body .form-facebook .fb-connect-or span:after,#body .form-facebook .fb-connect-or span:before{border-top:1px solid #ddd;display:block;height:1px;content:" ";width:40%;position:absolute;left:0;top:50%}#body .form-facebook .fb-connect-or span:after{right:0;left:auto}#body textarea{display:block;width:95%;height:48px}#body-inner{overflow:auto;position:relative}#body p{position:relative;clear:both}#body .author .i-mobile{display:none;margin-right:2px;width:12px;background-position:-18px -16px}body.display-mobile-icon #body .author .i-mobile{display:inline-block;margin-left:2px}#body .time{float:right;font-size:9px;margin-right:-5px;padding:0 5px}#body .time.visible{visibility:visible}#body .delivered-indicator,#body .last-seen-indicator{display:none!important}#body .url-preview{display:block;margin-top:10px;border-left:2px solid #eee;overflow:hidden}#body .url-preview .details{display:block;min-width:55%;overflow:hidden}#body .url-preview .details .description,#body .url-preview .details .title{color:#999;background:0 0;overflow:hidden;text-decoration:none;max-width:100%;float:left;padding-left:8px}#body .url-preview .details .title{line-height:20px;text-overflow:ellipsis;white-space:nowrap}#body .url-preview .details .description{font-weight:200;font-size:10px;line-height:15px;max-height:30px;clear:both}#body .url-preview .image{float:left;padding:0 0 5px 8px}#body .url-preview .image img{border:1px solid #eee;display:block}#body .client .url-preview,#body .url-preview.hover{border-color:#ddd}#body .url-preview.hover .title{color:#333}#body .client .url-preview.hover{border-color:#ccc}#typing-indicator{display:none;font-size:85%;line-height:18px}body.textarea-not-empty #typing-indicator{display:none!important}#message-wrapper .btn-send,#textarea{display:none}#textarea,#textarea td{height:20px}#textarea p{padding:5px}#message-wrapper{display:block;padding:10px 10px 2px}#textarea-wrapper{display:block;padding:5px;position:relative;border-radius:5px}.textarea-bg{background-color:#fff}.textarea-font{color:#000}#message-placeholder{opacity:.7;top:5px;left:5px;cursor:text;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body.client-sent-message #message-placeholder{z-index:-1000!important}#message{display:block;padding:0;width:100%;border:0;font:inherit;height:32px;overflow:auto;resize:none}#message:focus+#message-placeholder{opacity:.4}#footer td{padding:2px 0;line-height:12px;height:24px}#footer p{padding:0;font-size:10px;line-height:24px}#footer #powered{float:right;padding-right:5px;white-space:nowrap}#footer #social{float:left;padding-left:10px;margin-top:2px;white-space:nowrap;overflow:hidden}#footer #social div{height:20px}#footer #social a{float:left;padding:2px 5px 0 0}#social #plusone-container{float:left;margin:2px 5px 0 0;height:16px}.icon{background-image:url(//cdn.livechatinc.com/widget/img/sprite.20111206.png);background-repeat:no-repeat;background-position:0 16px;display:inline-block;zoom:1;width:16px;height:16px;text-indent:-9999px}.i-facebook{background-position:0 0}.i-twitter{background-position:0 -16px}.i-mobile{background-position:-16px -16px}.i-email{background-position:-40px -55px;width:21px;height:19px}.i-email-focused,.i-email-ok,.i-email:hover{background-position:-40px -34px;width:21px;height:19px}#facebook-connect{display:none;padding-top:3em}#tooltip{top:0;left:0;padding:3px 5px;background:#333;color:#fff;z-index:874284139;border-radius:3px}#tooltip-arrow{border:3px solid transparent;border-color:transparent transparent #333;display:block;left:0;top:-6px;z-index:135}#tooltip-content{white-space:nowrap}#notification{top:12px;left:12px;right:64px;line-height:16px;overflow:hidden;z-index:13095810935;color:#222;border-radius:5px}body.pop-out #notification{top:5px;left:5px}#notification-content{padding:1px 5px}#notification.error{background-color:#d00;color:#fff;text-shadow:1px 1px 0 #222}#confirm-closing p{font-size:16px;margin:40px 0 20px}#confirm-closing p.actions{font-size:13px;margin:20px 0}#confirm-closing p.actions input{font-size:14px;margin-right:20px;padding:2px 5px;display:inline-block}#view-invitation{height:100%}#view-invitation table{width:100%;height:100%}#view-invitation td{text-align:center;vertical-align:middle;padding-bottom:50px}#content #invitation-message{font-size:16px;line-height:1.5em;text-shadow:1px 1px 0 #fff;margin-bottom:1em;padding:0 20px}#invitation-buttons{margin:0 20px}#invitation-buttons .cancel{display:block;font-size:10px}#cancel-chat{color:#999}#cancel-chat:hover{text-decoration:underline}#sound{top:-9999em;left:-9999em}.btn a{display:inline-block;padding:.5em 1em;margin:0 0 .5em;color:#fff;font-size:24px;line-height:32px;border-radius:3px;text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f}#content .btn a{text-decoration:none}#input-file{display:none} body.mobile #operators .logo{background-image:none!important}body.mobile #fb_like_iframe{width:90px!important}body.mobile #powered{font-size:8px!important}</style><style type="text/livechat-styles-2.0">    body,body.pop-out #content,html{height:100%}.ajax-loader,body{visibility:hidden}#body .url-preview .details .title,.ellipsis,.operator-name{text-overflow:ellipsis;white-space:nowrap}#drag-and-drop-mask span,#operators #rating-and-transcript.disabled #email_transcript,#operators #rating-and-transcript.disabled .rating-button{pointer-events:none}#message-placeholder,.dragged{-webkit-touch-callout:none;-khtml-user-select:none;-moz-user-select:none}.rtl-lang,.rtl-lang input,.rtl-lang textarea{direction:rtl}.ellipsis{display:block;overflow:hidden}a,abbr,acronym,address,applet,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,font,form,h1,h2,h3,h4,h5,h6,html,iframe,img,ins,kbd,label,legend,li,object,ol,p,pre,q,s,samp,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-style:inherit;font-size:100%;font-family:inherit;vertical-align:baseline}:focus{outline:0}body{line-height:1;color:#000}.footer,.icon-close,.title-font{color:#fff}ol,ul{list-style:none}table{border-collapse:separate;border-spacing:0}caption,td,th{text-align:left;font-weight:400}#body .form-facebook,.submit .center{text-align:center}blockquote:after,blockquote:before,q:after,q:before{content:""}blockquote,q{quotes:"" ""}*{box-sizing:border-box}body,html{background:0 0}body,input,select,table,textarea{font:12px/16px "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif}a{text-decoration:none}#css-container{display:none}#wrapper{position:absolute;top:0;right:0;bottom:0;left:0;z-index:6}.outline{padding:6px;border:1px solid #ccc;border:1px solid rgba(100,100,100,.6);border-bottom-width:0;border-radius:10px 10px 0 0;background-clip:padding-box;box-shadow:inset 1px 1px 1px rgba(255,255,255,.2)}body.pop-out #wrapper,body.pop-out .outline{border-width:0;box-shadow:none;border-radius:0;background-clip:padding-box}#body-inner,#operators .wrapper{box-shadow:1px 0 0 rgba(255,255,255,.2),inset 0 4px 10px rgba(0,0,0,.05)}#content{width:100%;background:0 0;table-layout:fixed}#content .integration,#content p,#typing-indicator{padding:8px}#content .form,#content .form div{padding:5px 0}#content .form div.sticked_to_field{margin-top:-10px}#content .form div p{padding:0 5px}#content .integration{border-style:solid;margin-top:-1px}#content .integration p{padding-left:0;padding-right:0}.ajax-loader{display:inline-block;zoom:1;width:16px;height:16px;margin-left:5px;vertical-align:middle;background-image:url(//cdn.livechatinc.com/widget/img/loader.gif);background-position:0 0;background-repeat:no-repeat}#title-container td{height:26px;line-height:26px;font-size:14px}#title-container .title-button{display:block;cursor:pointer;float:right;background-repeat:no-repeat}#title-container #close-chat{display:none;margin-top:-6px;margin-right:-12px;padding:6px 12px 5px 6px}body.pop-out #title-container #minimize{display:none}#title,body.state-chatting #title-container #close-chat{display:block}#title-container #minimize{margin-right:5px;padding-bottom:5px}.icon-minimize{color:#fff;max-height:2px;overflow:hidden}body.pop-out #notification{right:36px}body.pop-out.state-chatting #notification{right:58px}body.state-chatting #notification{right:86px}#title{padding:0 7px 6px 8px;font-weight:700}body.pop-out #title{cursor:default;border-radius:0;background-clip:padding-box}#title #title-text{margin-left:3px;font-size:14px}#operators{display:none}body.has-operators-bar #operators{display:table-row}.operators-bar .wrapper{background:#fcfcfc;border:1px solid #fff;border-bottom-width:0}#operators .logo,#operators .operator-info{background-position:100% 50%;background-repeat:no-repeat}#operators td{padding:0;height:86px}#operators .wrapper{position:relative;min-height:86px;float:left;width:100%;z-index:13897311;padding:15px 10px;border-radius:5px 5px 0 0;background-clip:padding-box}#operators .operator-info{height:52px;background-size:auto}#operators .operator-info.retina{background-size:auto 52px}#operators #rating{position:relative;float:left;top:1px;height:19px;margin-right:10px;color:#999}#operators .rating-button{display:block;background-repeat:no-repeat;cursor:pointer;z-index:5001}#operators #rating-and-transcript.disabled{opacity:.4}#operators #rate_me_feedback_form{display:none;position:absolute;top:80px;left:-1px;right:-2px;z-index:189375;padding:5px 10px;border:none;box-shadow:0 4px 10px rgba(0,0,0,.05)}#operators #rate_me_feedback_form form{margin-left:-5px}#operators #rate_me_feedback_form label{display:block;width:100%;max-width:100%;margin:0 5px 5px;resize:none}#operators #rate_me_feedback_form textarea.text{display:block;width:100%;max-width:100%;margin:0 5px;resize:none;padding:6px;border:1px solid #abadb3;border-radius:2px;background-clip:padding-box}#operators #rate_me_feedback_form span{display:block;font-size:10px}#operators #rate_me_feedback_form input[type=submit]{margin:5px 0 0 5px;cursor:pointer}#operators #rate_me_feedback_form .cancel{font-size:11px}#operators #rate_me_feedback_form .cancel,#operators #rate_me_feedback_form .cancel span{display:inline}#operators #rate_me_feedback_form .cancel .or,#operators #rate_me_feedback_form .cancel a{-moz-opacity:.8;-khtml-opacity:.8;-webkit-opacity:.8;opacity:.8;color:#fff}#operators #rate_me_feedback_form .cancel a:hover{-moz-opacity:1;-khtml-opacity:1;-webkit-opacity:1;opacity:1}#operators #rate_me_feedback_form .cancel a{font-size:10px;text-decoration:underline}#operators #rate_me_feedback_form .top-shadow{position:absolute;bottom:0;left:0;right:0;height:2px}#operators #email_transcript{position:relative;float:left;top:2px}#operators #email_transcript .icon-email{display:inline-block;margin:3px 0 0 1px;color:#bfbfbf}#operators #email_transcript .icon-email.active,#operators #email_transcript .icon-email.focused,#operators #email_transcript .icon-email:hover{color:#858585}#operators #email_transcript a{display:block}#operators #email_transcript_form{display:none;position:absolute;top:80px;left:-1px;right:-2px;z-index:189375;padding:5px 10px;border:none;box-shadow:0 4px 10px rgba(0,0,0,.05)}#operators #email_transcript_form form{margin-left:-5px}#operators #email_transcript_form form label{display:block;width:100%;max-width:100%;margin:0 5px 5px;resize:none}#operators #email_transcript_form input.text{display:inline;margin-left:5px}.submit input,select{margin-left:0}#operators #email_transcript_form span{display:block;font-size:10px}#operators #email_transcript_form .cancel{font-size:11px}#operators #email_transcript_form .cancel,#operators #email_transcript_form .cancel span{display:inline}#operators #email_transcript_form .cancel .or,#operators #email_transcript_form .cancel a{-moz-opacity:.8;-khtml-opacity:.8;-webkit-opacity:.8;opacity:.8}#operators #email_transcript_form .cancel a:hover{-moz-opacity:1;-khtml-opacity:1;-webkit-opacity:1;opacity:1}#operators #email_transcript_form .cancel a{font-size:10px;text-decoration:underline}#operators #email_transcript_form .top-shadow{position:absolute;bottom:0;left:0;right:0;height:2px}.top-shadow{display:none;border-top:1px solid #f8f8f8;background:#f8f8f8}#body{position:relative;width:100%;overflow:hidden;border:1px solid #fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2),inset 0 -4px 10px rgba(0,0,0,.2);border-radius:5px 5px 0 0;background-clip:padding-box}body.has-operators-bar #body{border-top-width:0;border-radius:0;background-clip:padding-box}#body .top-shadow{position:absolute;top:0;left:0;width:100%;height:1px;margin-top:0;background:0 0;z-index:9999}#body-inner{width:100%;height:100%;word-wrap:break-word;word-break:break-word;-webkit-overflow-scrolling:touch;overflow-scrolling:touch;background:#fff;color:#333;border-radius:5px 5px 0 0;background-clip:padding-box}body.has-operators-bar #body-inner{border-top:1px solid #e8e8e8;border-radius:0;background-clip:padding-box}a{color:#333}#body .view{display:none;border-radius:5px 5px 0 0;background-clip:padding-box}body.has-operators-bar #body .view{border-radius:0;background-clip:padding-box}#body a,#body a.fb_button:hover{text-decoration:none}#body .client a,#body .operator a,#body .system a,#body a:hover{text-decoration:underline}#body label{display:block;font-weight:700}#body select{max-width:100%}#body .form div.valid{opacity:.25}#body .form div.invalid label{color:red}#body .form div.invalid .group label{color:inherit}#body form .asterisk{color:red}#skill option{color:#999}#skill option.online{color:#090}#content .form div p,#content .integration,#content p,#typing-indicator{padding-left:10px;padding-right:10px}#content img.avatar{display:none;float:left;margin-right:15px;border-radius:3px;background-clip:padding-box;padding:1px;border:1px solid #ddd;width:58px;height:58px;vertical-align:top}.author,.operator-name,body.avatar-enabled #content img.avatar,form span.group,input.text{display:block}.operator-name,.operator-role{display:block;max-width:180px}.operator-name{margin-top:2px;font-size:14px;font-weight:700;color:#333;overflow:hidden}.operator-role{margin-top:.25em;font-size:11px;color:#777}.author{padding-bottom:2px;font-weight:400;color:#999}.client,.operator{border-top:1px solid #e8e8e8;color:#333}.client:first-child,.operator:first-child{border-top-width:0}.system{color:#999}#cancel-chat,#fb-butt a,#fb-omit a,#footer #powered a{text-decoration:none}#content p.client.same-author,#content p.operator.same-author,#content p.system.same-author{padding-top:0;margin-top:-4px;border-width:0}#content .integration{border-width:0}input.text,textarea{border:1px solid #abadb3;padding:2px;border-radius:2px;background-clip:padding-box}.submit input{padding:2px 5px}input.text.error,textarea.error{background:#fcc}input.text{width:200px}form span.group{clear:both;line-height:20px}#body form span.group label{display:inline;font-weight:400;margin-top:2px}#body input.checkbox,#body input.radio{float:left;margin-right:5px;margin-left:0}#body .form-facebook .fb_loading{display:inline-block;margin:5px;min-height:25px;visibility:hidden}#body .form-facebook .fb_iframe_widget{visibility:visible;margin:5px;max-width:345px;text-align:left;overflow:hidden;white-space:nowrap}#confirm-closing p,#drag-and-drop-mask,#facebook-connect,#popup-file .file-action-container,#popup-file h4,#survey-after-greeting p{text-align:center}#body .form-facebook .fb-connect-or{position:relative;padding:0;margin:10px 0 5px}#body .form-facebook .fb-connect-or span{display:inline-block;color:#ccc}#body .form-facebook .fb-connect-or span:after,#body .form-facebook .fb-connect-or span:before{border-top:1px solid #ddd;display:block;height:1px;content:" ";width:40%;position:absolute;left:0;top:50%}#body .form-facebook .fb-connect-or span:after{right:0;left:auto}#body textarea{display:block;width:95%;height:48px;resize:vertical}#body-inner{overflow:auto;position:relative}#body p{position:relative;clear:both}#body .author .icon-mobile{display:none;margin-left:4px}body.display-mobile-icon #body .author .icon-mobile{display:inline-block}#body p.system,#body p.system strong{vertical-align:top}#body .time{visibility:hidden;float:right;font-size:9px;margin-right:-5px;padding:0 5px}.time{color:#999}#body .time.visible{visibility:visible}#input-file,#sound,#tooltip,.hidden{visibility:hidden}#body .url-preview{display:block;margin-top:10px;border-left:2px solid #eee;overflow:hidden}#body .url-preview .details{display:block;min-width:55%;overflow:hidden}#body .url-preview .details .description,#body .url-preview .details .title{color:#999;background:0 0;overflow:hidden;text-decoration:none;max-width:100%;float:left;padding-left:8px}#cancel-chat:hover,#fb-omit a:hover{text-decoration:underline}#body .url-preview .details .title{line-height:20px}#body .url-preview .details .description{font-weight:200;font-size:10px;line-height:15px;max-height:30px;clear:both}#body .url-preview .image{float:left;padding:0 0 5px 8px}#body .url-preview .image img{border:1px solid #eee;display:block}#survey-after-greeting,#textarea{display:none}#body .url-preview.hover{border-color:#ddd}#body .url-preview.hover .title{color:#333}#typing-indicator{display:none;font-size:85%;line-height:18px}#textarea .textarea-inner-container{height:auto!important;vertical-align:top}#textarea td{box-shadow:inset 0 1px 0 rgba(255,255,255,.2)}#textarea p{padding:5px}#message-wrapper{display:block;padding:4px 0 0}body.mobile #message-wrapper{position:relative;padding-bottom:4px}#textarea-wrapper{display:block;padding:5px;position:relative;border:1px solid #000;border-radius:0 0 5px 5px;background-clip:padding-box;box-shadow:0 1px 0 rgba(255,255,255,.2),1px 0 0 rgba(255,255,255,.2)}.textarea-bg{background-color:#fff}.textarea-font{color:#000}#message-placeholder{opacity:.7;position:absolute;top:5px;left:5px;cursor:text;-webkit-user-select:none;-ms-user-select:none;user-select:none}body.client-sent-message #message-placeholder{z-index:-1000!important}body.mobile #message-placeholder{display:none}#message{display:block;padding:0;width:100%;border:0;font:inherit;height:32px;overflow:auto;resize:none}#message:focus+#message-placeholder{opacity:.4}body.mobile #message{height:16px}#message-wrapper .btn-send{display:none}body.mobile #message-wrapper .btn-send{display:block;position:absolute;bottom:6px;right:0;height:auto;font-weight:700;font-size:1.2em;line-height:18px;padding:4px;border:none}#footer td{padding:0;line-height:11px;height:24px}#footer p{padding:0;font-size:10px;line-height:24px}#footer #powered{padding-right:5px;float:right;white-space:nowrap}#footer #social{float:left;margin-top:2px;white-space:nowrap;overflow:hidden}#footer #social div{height:20px}#footer #social a{float:left;padding:2px 5px 0 0}#social #plusone-container{float:left;margin-right:5px;height:16px}#social #plusone-container a{display:inline-block;padding:0}#social .twitter-follow-div{max-width:100px;margin-right:5px;overflow:hidden;display:none}#facebook-connect{display:none;padding-top:3em}#fb-butt{margin-bottom:.5em}#fb-butt a{display:inline-block}#fb-butt .fb_button_icon{float:left;display:inline-block;background-image:url(../../img/settings/prechat_survey/facebook.png);width:25px;height:25px}#fb-butt .fb_button_border{float:left;display:inline-block;background-color:#5F78AB;border-top:1px solid #29447E;border-right:1px solid #29447E;border-bottom:1px solid #29447E}#fb-butt .fb_button_text{display:inline-block;font-size:13px;line-height:16px;padding:3px 6px;color:#fff;border-top:1px solid #879AC0;font-weight:700}#fb-omit a{font-size:80%;color:#0B4A7A}#tooltip{position:absolute;top:0;left:0;padding:3px 5px;background:#333;color:#fff;z-index:874284139;border-radius:3px;background-clip:padding-box}#notification,.btn a{background-clip:padding-box}#tooltip-arrow{border:3px solid transparent;border-color:transparent transparent #333;display:block;left:0;top:-6px;position:absolute;z-index:135}#tooltip-content{white-space:nowrap}#notification{position:absolute;top:12px;left:12px;right:64px;line-height:16px;overflow:hidden;z-index:13095810935;color:#222;text-shadow:1px 1px 0 #fff;border-radius:5px}body.pop-out #notification{top:5px;left:5px}#notification-content{padding:1px 5px}#notification.error{background-color:#d00;color:#fff;text-shadow:1px 1px 0 #222}#confirm-closing p{font-size:16px;margin:40px 0 20px}#confirm-closing p.actions{font-size:13px;margin:20px 0}#confirm-closing p.actions input{font-size:14px;margin-right:20px;padding:2px 5px;display:inline-block;white-space:nowrap}#view-invitation{height:100%}#view-invitation table{width:100%;height:100%}#view-invitation td{text-align:center;vertical-align:middle;padding-bottom:50px}#content #invitation-message{font-size:16px;line-height:1.5em;text-shadow:1px 1px 0 #fff;margin-bottom:1em;padding:0 20px}#invitation-buttons{margin:0 20px}#invitation-buttons .cancel{display:block;font-size:10px}#cancel-chat{color:#999}#sound{position:absolute;top:-9999em;left:-9999em}.btn a{display:inline-block;margin:0 0 .5em;color:#fff;font-size:24px;line-height:32px;border-radius:3px;text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f;font-variant:small-caps;padding:.4em 1em .6em}#content.dragging,#content.popup-show{background:0 0}#content .btn a{text-decoration:none}#drag-and-drop-mask{color:#ABABAB;font-size:2em;margin:5px;position:absolute;left:0;right:0;z-index:999999999;top:0;bottom:0;display:none}#drag-and-drop-mask div{padding-top:40%;pointer-events:none;position:absolute;left:10px;right:10px;top:43px;bottom:25px;z-index:99999999;border:3px dashed #ABABAB}#content.dragging .operator-info,#content.dragging .view{opacity:.2}#content.popup-show .operator-info,#content.popup-show .view{opacity:0}#popup-file{position:absolute;z-index:99999999;top:12%;width:90%;left:5%;padding:20px;border-radius:8px;color:#AFABAB}#popup-file h3{margin:10px 0;font-size:1.6em;font-weight:400;color:#747474}#popup-file a{color:#AFABAB;text-decoration:underline}#popup-file ul{margin:15px 0;max-height:220px;overflow:auto}#popup-file ul.popup-file-confirm-bad-list{max-height:110px}#popup-file #popup-file-confirm-bad-list,#popup-file #popup-file-confirm-list{background:#fff;margin:14px 0;border-radius:4px}#popup-file #popup-file-confirm-bad-list li,#popup-file #popup-file-confirm-list li{padding:1px}#popup-file #popup-file-confirm-bad-list li .file-meta,#popup-file #popup-file-confirm-list li .file-meta{background:#F2F2F2;padding:0 5px;height:25px;line-height:25px;color:#909090}#popup-file #popup-file-confirm-bad-list li .file-name,#popup-file #popup-file-confirm-list li .file-name{color:#909090;display:inline-block;max-width:255px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#popup-file #popup-file-confirm-bad-list li .file-name,#popup-file #popup-file-confirm-bad-list li .file-size{color:#D14747}#popup-file #popup-file-confirm-bad-list li .file-size,#popup-file #popup-file-confirm-list li .file-size{display:inline-block;float:right;font-size:.9em}#popup-file #popup-file-confirm-bad-list li .reason{color:#D14747;font-size:.9em}#popup-file #popup-file-confirm-bad-list li .file-meta{background:#F4D3D3;padding:0 5px;height:25px;line-height:25px}#popup-file h4{color:#000;margin-bottom:-5px;font-size:1.2em;font-weight:400}#popup-file button:hover{cursor:pointer;cursor:hand}#progressbar-file{z-index:99;position:absolute;bottom:0;width:100%;background:#8AC4F7;line-height:2em;color:#fff}#progressbar-file .progress-bar{bottom:0;height:2em;position:absolute;z-index:100;width:0%;background:#1C8DF1}#progressbar-file .progress-label{z-index:101;position:relative;color:#fff;padding-left:10px}#progressbar-file .progress-label .upload-failed-hide{float:right;margin-right:10px;text-decoration:underline}#progressbar-file .cancel-upload{display:block;float:right;margin-right:5px;margin-top:0}#file-fallback-iframe-sent,#progressbar-file.upload-failed .s-cancel{display:none}#progressbar-file.upload-failed{background:#fff}#progressbar-file.upload-failed .progress-label,#progressbar-file.upload-failed .progress-label .upload-failed-hide{color:red}#send-file-clip{position:absolute;padding:5px;right:2px;bottom:0;opacity:.7;display:none}#send-file-clip:hover{opacity:1}#send-file-clip .icon-clip{color:#000}body.mobile #send-file-clip{padding:5px 10px;right:0;bottom:0;top:auto}body.mobile #send-file-clip .icon-clip{margin-right:-5px}#input-file{opacity:0;width:0;height:0;overflow:hidden;display:block}body.filesharing-enabled #message{padding-right:20px}.rtl-lang #title,.rtl-lang #view-chat p,.rtl-lang .form p,.rtl-lang .operator-name,.rtl-lang .operator-role,.rtl-lang .rating-component,.rtl-lang label{text-align:right}.dragged{-webkit-user-select:none;-ms-user-select:none;user-select:none}[class*=" icon-"],[class^=icon-]{font-size:16px}.s-google{background-color:#fff;border:1px solid #d5d5d5;border:1px solid rgba(0,0,0,.17);border-radius:2px;padding-right:3px!important}.s-google svg{fill:#db4437}.msg-text{display:block}.delivered-indicator,.last-seen-indicator{display:none;position:relative;color:#999;font-size:10px;line-height:18px}.last-seen .last-seen-indicator{display:inline-block;animation:grow .2s ease-in-out;-webkit-animation:grow .2s ease-in-out;-moz-animation:grow .2s ease-in-out}.last-seen .last-seen-indicator.no-animation{animation:none}.last-seen .delivered-indicator{display:none!important}.delivered.last-sent .delivered-indicator,.icon-thumbs-down,.icon-tick,.rating-component .rating-button{display:inline-block}.icon-tick{position:relative;font-size:15px;top:3px}a.rate-good{position:relative;height:19px;color:#999;top:.1px}#operators a.rate-good{float:right}.icon-thumbs-down{margin-top:1px}a.rate-good:hover,a.rated-good{color:#222}span.rate-good{height:19px;line-height:22px;font-size:10px;margin-right:3px;padding:0 4px 0 0;cursor:pointer;z-index:5001}#operators span.rate-good{float:left}#operators a.rate-bad{margin-top:3px;float:right}#operators a.rate-good .icon-thumbs-up,.rtl-lang #body .time{float:left}.icon-thumbs-down,.icon-thumbs-up{color:#bfbfbf}a.rated-bad .icon-thumbs-down,a.rated-good .icon-thumbs-up,a:hover .icon-thumbs-down,a:hover .icon-thumbs-up{color:#858585}.rating-component{font-size:14px;padding-left:10px!important}.rating-component.hidden{padding:0!important}.rating-component a:hover{text-decoration:none!important;cursor:pointer!important}.rating-component span{font-size:14px}.rating-component .rating-button{height:30px;line-height:30px;background-color:#ececec;margin-right:5px;border-radius:3px;vertical-align:middle}.rating-component .rating-button .rate-good,.rating-component .rating-button.rate-bad{padding:0 20px;margin:0}.rating-component .icon-thumbs-down,.rating-component .icon-thumbs-up,.rating-component a:hover .icon-thumbs-down,.rating-component a:hover .icon-thumbs-up{color:#646669}.rating-component .icon-thumbs-down{position:relative;top:2px;left:-1px}.rating-component .icon-thumbs-up{position:relative;left:1px}.postchat-rated-info{padding-bottom:10px!important}.postchat-rated-info.hidden{padding:0!important}.postchat-rated-info .icon-thumbs-down,.postchat-rated-info .icon-thumbs-up{position:relative;font-size:14px}.postchat-rated-info .icon-thumbs-up{top:1px;color:#77A743}.postchat-rated-info .icon-thumbs-down{top:2px;color:#d64646}.postchat-rated-info .postchat-change-rate{display:inline-block;color:#4d7cb3}.hidden{height:0}.thumbnail{border:1px solid #b3b3b3;border-radius:3px}#view-chat .thumbnail{display:block;margin-top:5px}.rtl-lang #body input.checkbox,.rtl-lang #body input.radio{float:right;margin-right:0;margin-left:5px}.rtl-lang #close-chat,.rtl-lang #minimize{float:left}.rtl-lang #content img.avatar,.rtl-lang #rating-and-transcript{float:right}.rtl-lang #send-file-clip{left:6px;right:auto!important}.rtl-lang #footer #powered{padding-right:0;padding-left:0;float:left}.rtl-lang #message-placeholder{right:5px;left:auto;margin-right:0;margin-left:30px;text-align:right}.rtl-lang .rating-component .rating-button{margin-right:0;margin-left:5px}.rtl-lang #operators .logo,.rtl-lang #operators .operator-info{background-position:0 50%}.rtl-lang #content img.avatar{margin-right:0;margin-left:15px}.rtl-lang.filesharing-enabled #message{padding-left:20px;padding-right:5px}body.rtl-lang.mobile #message-wrapper .btn-send{left:0;right:auto;height:auto;font-weight:700;font-size:1.2em;line-height:18px;padding:4px;border:none}@keyframes grow{0%{display:none;opacity:0}1%{display:inline-block;opacity:0;transform:scale(0);-webkit-transform:scale(0);-moz-transform:scale(0);-ms-transform:scale(0)}100%{opacity:1;transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1)}}@-webkit-keyframes grow{0%{display:none;opacity:0}1%{display:inline-block;opacity:0;transform:scale(0);-webkit-transform:scale(0)}100%{opacity:1;transform:scale(1);-webkit-transform:scale(1)}}@-moz-keyframes grow{0%{display:none;opacity:0}1%{display:inline-block;opacity:0;transform:scale(0);-moz-transform:scale(0)}100%{opacity:1;transform:scale(1);-moz-transform:scale(1)}}</style><meta name="viewport" content="width=device-width, initial-scale=1.0"><style type="text/livechat-theme-1.0" id="theme-deprecated">#textarea-wrapper{border:1px solid #bbb}.message-wrapper{box-shadow:none}.btn a{text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f;box-shadow:0 1px 0 #39d,0 -1px 0 #39d,1px 0 0 #39d,-1px 0 0 #39d;background:#4ae;background:-moz-linear-gradient(top,#4ae,#28d);background:-webkit-gradient(linear,left top,left bottom,from(#4ae),to(#28d))}.btn a:hover{border-top-color:#5cf;border-bottom-color:#3af;background:#4bf;background:-moz-linear-gradient(top,#4bf,#39d);background:-webkit-gradient(linear,left top,left bottom,from(#4bf),to(#39d))}.btn a:active,.btn a:focus{border-top-color:#3af;border-bottom-color:#38f;background:#49d;background:-moz-linear-gradient(top,#49d,#17d);background:-webkit-gradient(linear,left top,left bottom,from(#49d),to(#17d))}</style><style type="text/livechat-theme-1.0" id="theme-not-deprecated">#operators td{background-color:#fff}</style><style type="text/livechat-theme-1.0" id="theme-cloud">.operator-name,.title-font{text-shadow:1px 1px 0 #fff}.title-bg{background-color:#EBEBEB}.title-font{color:#333}.footer{color:#6D94B0;background-color:#0B4A7A}.operator-border{border-color:#a4b4bf}.client-border{border-color:#E3E4E4}.outline{border-color:#a4b4bf;border-color:rgba(75,107,130,.5)}.title-button{background-color:#b2c5d4}.title-button:hover{background-color:#a1b4c3}.operators-bar{background-color:#fff;color:#333}.operator-role{color:#777}.author,a{color:#0b4a7a}.client{background:#e6eef5}.operator{background:#fff}.time{color:#999}.message-wrapper{box-shadow:inset 0 6px 6px #036}.btn a{text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f;box-shadow:0 1px 0 #39d,0 -1px 0 #39d,1px 0 0 #39d,-1px 0 0 #39d;background:#4ae;background:-moz-linear-gradient(top,#4ae,#28d);background:-webkit-gradient(linear,left top,left bottom,from(#4ae),to(#28d))}.btn a:hover{border-top-color:#5cf;border-bottom-color:#3af;background:#4bf;background:-moz-linear-gradient(top,#4bf,#39d);background:-webkit-gradient(linear,left top,left bottom,from(#4bf),to(#39d))}.btn a:active,.btn a:focus{border-top-color:#3af;border-bottom-color:#38f;background:#49d;background:-moz-linear-gradient(top,#49d,#17d);background:-webkit-gradient(linear,left top,left bottom,from(#49d),to(#17d))}</style><style type="text/livechat-theme-1.0" id="theme-fire">.operator-name,.title-font{text-shadow:1px 1px 0 #fff}.title-bg{background-color:#EBEBEB}.title-font{color:#333}.footer{color:#fff;background-color:#a33}.operator-border{border-color:#d99}.client-border{border-color:#e3e4e4}.outline{border-color:#d99;border-color:rgba(189,60,60,.5)}.title-button{background-color:#d3d3d3}.title-button:hover{background-color:#c3c3c3}.operators-bar{background-color:#fff;color:#333}.operator-role{color:#777}.author,a{color:#900}.client,.operator{background:#fff}.time{color:#999}.message-wrapper{box-shadow:inset 0 6px 6px #922}.btn a{text-shadow:1px 1px 0 #300;border-top-color:#c55;border-bottom-color:#a44;box-shadow:0 1px 0 #900,0 -1px 0 #900,1px 0 0 #900,-1px 0 0 #900;background:#b44;background:-moz-linear-gradient(top,#b44,#922);background:-webkit-gradient(linear,left top,left bottom,from(#b44),to(#922))}.btn a:hover{border-top-color:#d66;border-bottom-color:#b55;background:#c55;background:-moz-linear-gradient(top,#c55,#a33);background:-webkit-gradient(linear,left top,left bottom,from(#c55),to(#a33))}.btn a:active,.btn a:focus{border-top-color:#b44;border-bottom-color:#a33;background:#a33;background:-moz-linear-gradient(top,#a33,#811);background:-webkit-gradient(linear,left top,left bottom,from(#a33),to(#811))}</style><style type="text/livechat-theme-1.0" id="theme-grass">.operator-name,.title-font{text-shadow:1px 1px 0 #fff}.title-bg{background-color:#EBEBEB}.title-font{color:#333}.footer{color:#fff;background-color:#072}.operator-border{border-color:#9b7}.client-border{border-color:#e3e4e4}.outline{border-color:#9b7;border-color:rgba(66,119,12,.5)}.title-button{background-color:#d3d3d3}.title-button:hover{background-color:#c3c3c3}.operators-bar{background-color:#fff;color:#333}.operator-role{color:#777}.author,a{color:#070}.client,.operator{background:#fff}.time{color:#999}.message-wrapper{box-shadow:inset 0 6px 6px #060}.btn a{text-shadow:1px 1px 0 #030;border-top-color:#294;border-bottom-color:#294;box-shadow:0 1px 0 #060,0 -1px 0 #060,1px 0 0 #060,-1px 0 0 #060;background:#072;background:-moz-linear-gradient(top,#072,#183);background:-webkit-gradient(linear,left top,left bottom,from(#072),to(#183))}.btn a:hover{border-top-color:#3a5;border-bottom-color:#3a5;background:#183;background:-moz-linear-gradient(top,#183,#294);background:-webkit-gradient(linear,left top,left bottom,from(#183),to(#294))}.btn a:active,.btn a:focus{border-top-color:#173;border-bottom-color:#072;background:#061;background:-moz-linear-gradient(top,#061,#072);background:-webkit-gradient(linear,left top,left bottom,from(#061),to(#072))}</style><style type="text/livechat-theme-1.0" id="theme-sun">.operator-name,.title-font{text-shadow:1px 1px 0 #fff}.title-bg{background-color:#EBEBEB}.title-font{color:#333}.footer{color:#fff;background-color:#d81}.operator-border{border-color:#f9ccaa}.client-border{border-color:#e3e4e4}.outline{border-color:#f9ccaa;border-color:rgba(240,149,103,.5)}.title-button{background-color:#d3d3d3}.title-button:hover{background-color:#c3c3c3}.operators-bar{background-color:#fff;color:#333}.operator-role{color:#777}#chat-window-preview a,.author{color:#c70}.client,.operator{background:#fff}.time{color:#999}.message-wrapper{box-shadow:inset 0 6px 6px #c70}.btn a{text-shadow:1px 1px 0 #740;border-top-color:#da2;border-bottom-color:#da2;box-shadow:0 1px 0 #b70,0 -1px 0 #b70,1px 0 0 #b70,-1px 0 0 #b70;background:#c80;background:-moz-linear-gradient(top,#c80,#d91);background:-webkit-gradient(linear,left top,left bottom,from(#c80),to(#d91))}.btn a:hover{border-top-color:#eb3;border-bottom-color:#eb3;background:#d5900d;background:-moz-linear-gradient(top,#d5900d,#e9a51d);background:-webkit-gradient(linear,left top,left bottom,from(#d5900d),to(#e9a51d))}.btn a:active,.btn a:focus{border-top-color:#c91;border-bottom-color:#c91;background:#c71;background:-moz-linear-gradient(top,#c71,#c81);background:-webkit-gradient(linear,left top,left bottom,from(#c71),to(#c81))}</style><style type="text/livechat-theme-1.0" id="theme-night">.operator-name,.title-font{text-shadow:1px 1px 0 #fff}.title-bg{background-color:#EBEBEB}.title-font{color:#333}.footer{color:#fff;background-color:#333}.operator-border{border-color:#999}.client-border{border-color:#e3e4e4}.outline{border-color:#999;border-color:rgba(54,54,54,.5)}.title-button{background-color:#d3d3d3}.title-button:hover{background-color:#c3c3c3}.operators-bar{background-color:#fff;color:#333}.operator-role{color:#777}#chat-window-preview a,.author{color:#000}.client,.operator{background:#fff}.time{color:#999}.message-wrapper{box-shadow:inset 0 6px 6px #222}.btn a{text-shadow:1px 1px 0 #000;border-top-color:#777;border-bottom-color:#666;box-shadow:0 1px 0 #333,0 -1px 0 #333,1px 0 0 #333,-1px 0 0 #333;background:#444;background:-moz-linear-gradient(top,#444,#555);background:-webkit-gradient(linear,left top,left bottom,from(#444),to(#555))}.btn a:hover{border-top-color:#888;border-bottom-color:#777;background:#555;background:-moz-linear-gradient(top,#555,#666);background:-webkit-gradient(linear,left top,left bottom,from(#555),to(#666))}.btn a:active,.btn a:focus{border-top-color:#666;border-bottom-color:#555;background:#333;background:-moz-linear-gradient(top,#333,#444);background:-webkit-gradient(linear,left top,left bottom,from(#333),to(#444))}</style>\x3c!--[if IE]><style type="text/livechat-styles-1.0">#content{display:table}* html #body .time{margin-right:0}textarea{overflow:auto;width:95%}#message{width:100%}input{overflow:visible}#view-chat{padding-bottom:.1px}body.has-operators-bar #operators{display:block}#operators a{float:left!important}</style><![endif]--\x3e<style type="text/livechat-theme-2.0" id="theme-cloud">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px} #title-container,.footer,.operators-bar,.outline{background-color:#799bb3}#body,#textarea-wrapper,.operators-bar .wrapper,.outline{border-color:#547b99}#email_transcript_form .cancel,#email_transcript_form .cancel a,.footer{color:#fff}.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-font{color:#fff;text-shadow:1px 1px 0 #3c4d59}#email_transcript_form{border-top-color:#547b99;border-right-color:#799bb3;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -1px 0 #547b99}#email_transcript_form .text{border-color:#547b99}.btn a{background:#68a;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#68a),color-stop(1,#799bb3));background:-ms-linear-gradient(bottom,#68a,#799bb3);background:-moz-linear-gradient(center bottom,#68a 0,#799bb3 100%);border-color:#799bb3}.btn a:hover{background:#7695b3;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#7695b3),color-stop(1,#89a7bc));background:-ms-linear-gradient(bottom,#7695b3,#89a7bc);background:-moz-linear-gradient(center bottom,#7695b3 0,#89a7bc 100%);border-color:#89a7bc}.btn a:active,.btn a:focus{background:#587b9e;background:-webkit-gradient(linear,left bottom,left top,color-stop(0,#587b9e),color-stop(1,#698faa));background:-ms-linear-gradient(bottom,#587b9e,#698faa);background:-moz-linear-gradient(center bottom,#587b9e 0,#698faa 100%);border-color:#698faa}</style><style type="text/livechat-theme-2.0" id="theme-fire">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px} #title-container,.footer,.operators-bar,.outline{background-color:#d47553}#body,#textarea-wrapper,.operators-bar .wrapper,.outline{border-color:#c2613e}#email_transcript_form .cancel,#email_transcript_form .cancel a,.footer{color:#fff}.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-font{color:#fff;text-shadow:1px 1px 0 #B85131}#email_transcript_form{border-top-color:#c2613e;border-right-color:#d47553;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -1px 0 #c2613e}#email_transcript_form .text{border-color:#c2613e}</style><style type="text/livechat-theme-2.0" id="theme-grass">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px} #title-container,.footer,.operators-bar,.outline{background-color:#a3ab4f}#body,#textarea-wrapper,.operators-bar .wrapper,.outline{border-color:#949c41}#email_transcript_form .cancel,#email_transcript_form .cancel a,.footer{color:#fff}.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-font{color:#fff;text-shadow:1px 1px 0 #5E8A11}#email_transcript_form{border-top-color:#949c41;border-right-color:#a3ab4f;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -1px 0 #949c41}#email_transcript_form .text{border-color:#949c41}</style><style type="text/livechat-theme-2.0" id="theme-sun">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px} #title-container,.footer,.operators-bar,.outline{background-color:#cf992d}#body,#textarea-wrapper,.operators-bar .wrapper,.outline{border-color:#b37f19}#email_transcript_form .cancel,#email_transcript_form .cancel a,.footer{color:#fff}.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-font{color:#fff;text-shadow:1px 1px 0 #816E0C}#email_transcript_form{border-top-color:#b37f19;border-right-color:#cf992d;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -1px 0 #b37f19}#email_transcript_form .text{border-color:#b37f19}</style><style type="text/livechat-theme-2.0" id="theme-night">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px} #title-container,.footer,.operators-bar,.outline{background-color:#3b3b3b}#body,#textarea-wrapper,.operators-bar .wrapper,.outline{border-color:#000}#email_transcript_form .cancel,#email_transcript_form .cancel a,.footer{color:#fff}.ellipsis{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.title-font{color:#fff;text-shadow:1px 1px 0 #000}#email_transcript_form{border-top-color:#000;border-right-color:#3b3b3b;box-shadow:inset 0 1px 0 rgba(255,255,255,.2),inset 0 -1px 0 #000}#email_transcript_form .text{border-color:#000}</style><style type="text/livechat-theme-2.0" id="theme-classic">@font-face {    font-family: \'livechat-classic\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_2fa490e037.eot?uw2fw7#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_f726105e9a.ttf?uw2fw7\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_59701eb4b0.woff?uw2fw7\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/classic/livechat-classic_898ec71fdc.svg?uw2fw7#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-classic\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90a";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} .icon-close,.icon-minimize{text-shadow:1px 1px 0 rgba(0,0,0,.2)}.icon-minimize{font-size:10px}.icon-close{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#title-container #close-chat{margin-top:-4px;margin-right:-12px;padding:5px 13px 5px 6px}#operators a.rate-good .icon-thumbs-up{margin:2px 5px 0 0}.has-greeting-button #body{border-bottom:0}#survey-after-greeting td{border-left:1px solid;border-right:1px solid;border-bottom:1px solid;background-color:#fff;box-shadow:1px 0 0 rgba(255,255,255,.2),0 1px 0 rgba(255,255,255,.2)}#survey-after-greeting .submit input{display:inline-block;padding:0 1em;line-height:2.4em;-webkit-appearance:none;background-color:#AECF5F;color:#fff;border:0;border-radius:3px}#survey-after-greeting .submit input:hover{cursor:pointer}.last-seen-indicator{left:-2px}.rtl-lang #title-container #close-chat{padding:5px 6px 5px 13px;margin-left:-12px;margin-right:0}.rtl-lang #title-container #minimize{margin-right:0;margin-left:5px}</style><style type="text/livechat-theme-2.0" id="theme-modern">@font-face {    font-family: \'livechat-modern\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/modern/livechat-modern_fa44078c17.eot?ekgvz6\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/modern/livechat-modern_fa44078c17.eot?ekgvz6#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/modern/livechat-modern_7cf45543dc.ttf?ekgvz6\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/modern/livechat-modern_27a85e5f71.woff?ekgvz6\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/modern/livechat-modern_bfb0fd8212.svg?ekgvz6#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-modern\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e915";}.icon-leavemessage:before {    content: "\\e90b";}.icon-agentonline:before {    content: "\\e90c";}.icon-clip:before {    content: "\\e90d";}.icon-close:before {    content: "\\e90e";}.icon-email:before {    content: "\\e90f";}.icon-maximize:before {    content: "\\e910";}.icon-minimize:before {    content: "\\e911";}.icon-mobile:before {    content: "\\e912";}.icon-thumbs-down:before {    content: "\\e913";}.icon-thumbs-up:before {    content: "\\e914";} #title-container,.outline{background:0 0}#confirm-closing p.actions a:hover,#confirm-closing p.actions input:hover,#send-file:hover,.cancel-file-upload.only-bad-files:hover{text-decoration:none;opacity:.85}@font-face{font-family:Lato;font-style:normal;font-weight:300;src:local(\'Lato Light\'),local(\'Lato-Light\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/KT3KS9Aol4WfR6Vas8kNcg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:local(\'Lato Regular\'),local(\'Lato-Regular\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/9k-RPmcnxYEPm8CNFsH2gg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:700;src:local(\'Lato Bold\'),local(\'Lato-Bold\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/wkfQbvfT_02e2IWO3yYueQ.woff) format(\'woff\')}#body input,#body label,#body select,#body table,#body textarea,a,body,input,label,select,table,table#content,textarea{font-family:Lato,sans-serif!important}#wrapper{background:0 0!important}.outline{border:0;padding:15px 15px 0;box-shadow:none}#content{padding:0;background:#fff;border-radius:4px 4px 0 0!important;box-shadow:0 2px 25px rgba(0,0,0,.2)!important;background-clip:padding-box!important}.title{color:#fff;font-size:16px;font-weight:400;text-shadow:none}.title-bg,.title-button,.title-button:hover{background-color:#4781d9}#title-container #minimize{margin-top:0}#title-container #close-chat{margin-left:0;padding:6px 12px 5px 6px;box-sizing:content-box}#title{padding-top:10px;padding-bottom:10px;border-radius:3px 3px 0 0}#title #title-text{color:#fff;font-size:16px!important;font-weight:400!important;text-shadow:none!important}.title-bg{box-shadow:0 1px 0 #326bc0}.operator-name{color:#000;font-size:16px;font-weight:700}.operator-role{color:#000;font-size:12px}#operators td{background:#f6f6f6!important}.operator{border:none;color:#000;font-size:16px}.operator .author{color:#696969;font-size:12px;font-weight:300}#operators #rating{margin-right:0}#operators .rating-button{width:26px;overflow:hidden;border-right:1px solid #b3b3b3;height:15px!important;line-height:15px!important;position:static!important;margin-top:3px;margin-right:8px}#operators .rating-button span{height:15px;line-height:15px;position:static}#operators a.rate-good .icon-thumbs-up{margin:0 5px 0 0}.client{border:none;color:#2d75e0;font-size:16px}#body label,.client .author{font-size:12px;font-weight:300}.client .author{color:#5e98ee}#body-inner{background-color:#fff}.footer{background-color:#f5f5f5;color:#b4b4b4}#footer p{line-height:20px!important}#footer #social{margin-left:4px;margin-top:1px!important}#footer #social a{padding-top:1px!important}.message-wrapper{box-shadow:inset 0 6px 6px #444}.btn a{text-shadow:1px 1px 0 #06a;border-top:1px solid #4bf;border-bottom:1px solid #39f;box-shadow:0 1px 0 #39d,0 -1px 0 #39d,1px 0 0 #39d,-1px 0 0 #39d;background:#4ae;background:-moz-linear-gradient(top,#4ae,#28d);background:-webkit-gradient(linear,left top,left bottom,from(#4ae),to(#28d))}.btn a:hover{border-top-color:#5cf;border-bottom-color:#3af;background:#4bf;background:-moz-linear-gradient(top,#4bf,#39d);background:-webkit-gradient(linear,left top,left bottom,from(#4bf),to(#39d))}.btn a:active,.btn a:focus{border-top-color:#3af;border-bottom-color:#38f;background:#49d;background:-moz-linear-gradient(top,#49d,#17d);background:-webkit-gradient(linear,left top,left bottom,from(#49d),to(#17d))}#content{border:0!important;height:100%}#body,#body-inner,#operators .wrapper,#textarea-wrapper{border:none;border-radius:0;box-shadow:none}#body-container p{padding:12px 10px;line-height:18px}#message-wrapper{padding:0 0 4px;box-shadow:none}body.mobile #message-wrapper .btn-send{color:#000;padding:4px 6px 4px 2px;height:auto}#textarea .footer{border-top:1px solid #c9c9c9;height:10px}#body label{color:#686868}#body textarea,input.text{border:1px solid #696969;border-radius:3px;background-clip:padding-box;background-color:#fff;padding:8px 6px;width:100%}.submit input{-webkit-appearance:none;border-radius:2px;background-clip:padding-box;background-color:#aecf5f!important;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);font-size:14px;color:#fff;padding:9px 6px 11px;width:100%;border:0;cursor:pointer}.submit input:hover{opacity:.85}#content .form{width:80%;margin:0 auto}#content .form .form_header{margin:10px -20px}#content .form .form_header p{color:#000;font-size:14px;line-height:20px;text-align:center}#message{font-size:16px;padding:5px 0 0 5px;min-height:60px!important}#message-placeholder{color:#b3b3b3;font-size:16px;padding:5px;margin-right:30px}#email_transcript_form input[type=submit],#operators #rate_me_feedback_form input[type=submit]{background-color:#aecf5f;font-size:12px;padding:8px 18px;cursor:pointer;-webkit-appearance:none}#operators #rate_me_feedback_form{left:0;right:0}#operators #rate_me_feedback_form .cancel .or{margin-left:2px;color:inherit}#operators #rate_me_feedback_form .cancel a{color:#000}#operators #rate_me_feedback_form form{margin-right:5px;padding-bottom:5px}#operators #rate_me_feedback_form textarea.text{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}#operators #rate_me_feedback_form input[type=submit]{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;-moz-box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);-webkit-box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);color:#fff;margin-left:5px;border:0}#operators #rate_me_feedback_form input[type=submit]:hover{opacity:.85}#operators #rate_me_feedback_form input[type=submit]:disabled{background-color:#bcbcbc;-moz-box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 #acacac;-webkit-box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 #acacac;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 #acacac}#operators #rate_me_feedback_form input[type=submit]:disabled:hover{opacity:1}#operators #email_transcript_form{border:none;margin:0;left:0;right:0;box-shadow:none}#operators #email_transcript_form form{padding-bottom:5px;padding-right:5px}#operators #email_transcript_form input[type=text]{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0}#email_transcript_form .text{border-color:#abadb3}#operators #email_transcript_form .cancel span.or{color:#b4b4b4;margin-left:2px}#operators #email_transcript_form .cancel a{color:#000}#email_transcript_form input[type=submit]{border-radius:2px;background-clip:padding-box;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);color:#fff;margin:5px 0 0 5px;border:0}#email_transcript_form input[type=submit]:hover{opacity:.85}#confirm-closing p.actions{width:80%;margin:20px auto}#confirm-closing p.actions a,#confirm-closing p.actions input{display:block;width:46%;float:left;border-radius:2px;background-clip:padding-box;font-size:14px;line-height:14px;color:#fff;padding:9px 18px 11px;margin-top:0;border:0;cursor:pointer;white-space:normal}#confirm-closing p.actions input{-webkit-appearance:none;background-color:#e36959;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(192,80,64,.45);margin-right:0}#confirm-closing p.actions a{background-color:#a0a0a0;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(0,0,0,.1);text-transform:capitalize;float:right}#content img.avatar{border:none;padding:0;border-radius:0}body.has-operators-bar #body-inner{border:none}.ajax-loader{position:absolute;top:12px;right:20px}#title-container #close-chat{margin-top:-5px;margin-right:-5px}#title-container #minimize{height:29px;padding-top:3px;margin-right:8px}#popup-file a{display:block;margin-top:5px}#send-file,.cancel-file-upload.only-bad-files{width:45%;background-clip:padding-box;font-size:14px;color:#fff;padding:9px 18px 11px;margin-top:0;cursor:pointer;white-space:normal;display:inline-block}#send-file{-webkit-appearance:none;background-color:#aecf5f;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(129,163,48,.3);border-radius:2px;border:0}#popup-file #popup-file-confirm-bad-list li .file-meta,#popup-file #popup-file-confirm-list li .file-meta{height:30px;line-height:30px}#popup-file #popup-file-confirm-bad-list li,#popup-file #popup-file-confirm-list li{margin-bottom:6px}#popup-file #popup-file-confirm-bad-list li .reason{line-height:22px}#drag-and-drop-mask div{top:50px;bottom:35px}#send-file-clip{bottom:auto;top:6px;right:6px}.cancel-file-upload.only-bad-files{border-radius:2px;border:0;background-color:#a0a0a0;box-shadow:0 2px 0 rgba(0,0,0,.1),inset 0 -3px 0 rgba(0,0,0,.1)}#livechat-badge{top:14px!important;left:4px!important;height:30px!important;line-height:30px!important;padding:0 11px!important;font-size:14px!important;border:0!important;border-radius:30px!important;background-clip:padding-box!important;background-color:#de3625!important;box-shadow:none!important}body.pop-out .outline{padding:0}.icon-minimize{display:inline-block;width:20px;font-size:2px}.icon-close{font-size:17px}.icon-thumbs-down,.icon-thumbs-up{font-size:14px}.icon-email{font-size:11px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#body .url-preview .details .description{font-size:12px}#content p.client,#content p.operator,#content p.system{padding-top:6px}#notification{top:24px;left:24px;font-size:14px;text-shadow:none;line-height:26px}.last-seen-indicator{left:-2px} </style><style type="text/livechat-theme-2.0" id="theme-postmodern">@font-face {    font-family: \'livechat-circle\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/circle/livechat-circle_7d31e3ce2a.eot?boihvb\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/circle/livechat-circle_7d31e3ce2a.eot?boihvb#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/circle/livechat-circle_e24970c490.ttf?boihvb\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/circle/livechat-circle_b2f4faff07.woff?boihvb\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/circle/livechat-circle_fb831257c0.svg?boihvb#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-circle\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e90b";}.icon-leavemessage:before {    content: "\\e900";}.icon-agentonline:before {    content: "\\e901";}.icon-clip:before {    content: "\\e902";}.icon-close:before {    content: "\\e903";}.icon-email:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-menu:before {    content: "\\e906";}.icon-minimize:before {    content: "\\e907";}.icon-mobile:before {    content: "\\e908";}.icon-thumbs-down:before {    content: "\\e909";}.icon-thumbs-up:before {    content: "\\e90a";} @font-face{font-family:Lato;font-style:normal;font-weight:300;src:local(\'Lato Light\'),local(\'Lato-Light\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/KT3KS9Aol4WfR6Vas8kNcg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:local(\'Lato Regular\'),local(\'Lato-Regular\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/9k-RPmcnxYEPm8CNFsH2gg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:700;src:local(\'Lato Bold\'),local(\'Lato-Bold\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/wkfQbvfT_02e2IWO3yYueQ.woff) format(\'woff\')}#body input,#body label,#body select,#body table,#body textarea,a,body,button,input,label,select,table,table#content,textarea{font-family:Lato,sans-serif!important}#wrapper{background:0 0!important;border:0;border-radius:0;padding-top:50px!important}#body,#body-inner,#operators .wrapper,#textarea-wrapper{border:none;border-radius:0;box-shadow:none}.outline{border:none;background:0 0;padding:15px 15px 0;box-shadow:none}#content{padding:0;border:1px solid #F0F0F0;background:#fff;border-radius:4px 4px 0 0!important;box-shadow:0 2px 10px rgba(0,0,0,.1)!important;background-clip:padding-box!important}#title-container #minimize .icon-minimize{width:10px}#title-container #close-chat .icon-close,#title-container #minimize .icon-minimize{color:#5c5c5c}#operators .operator-info{background:0 0!important}#content img.avatar{border-radius:50%;left:140px;left:calc(50% - 43px);position:absolute;margin:0!important;top:-80px;border:3px solid #FFF;box-sizing:content-box;box-shadow:0 2px 2px rgba(0,0,0,.15);width:80px;height:80px;padding:0}#content p.client.same-author,#content p.operator.same-author{margin-top:0}.client,.operator{border-top:0;font-size:14px;color:#323232;padding-top:0!important;padding-bottom:0!important}body.has-operators-bar #body-inner{border-top:0}#body{margin-bottom:10px}.operator-name,.operator-role{text-align:center!important;overflow:hidden;text-overflow:ellipsis;max-width:100%}.operator-name{font-size:17px;font-weight:400}.operator-role{color:#000;font-size:13px;font-weight:300}#footer td{padding:0 16px;height:40px;line-height:40px}#footer p{line-height:30px}#footer #powered a{color:#D4D4D4}#operators #email_transcript .icon-email,#operators .icon-thumbs-down,#operators .icon-thumbs-up,.client .msg-text,.client .msg-text a{color:#fff}#operators .icon-thumbs-down,#operators .icon-thumbs-up{margin-right:4px;position:relative;right:2px;top:3px}#operators a.rate-good .icon-thumbs-up{float:none;top:2px}#operators #email_transcript .icon-email{position:relative;top:1px;margin:0 5px 0 1px}.icon-menu{font-size:10px}#mini-menu{margin-top:-6px;margin-left:-12px;cursor:pointer;float:left;background-repeat:no-repeat;display:none;padding:6px 6px 5px 12px}body.chat-ended #mini-menu,body.state-chatting #mini-menu{display:block}.chat-ended #menu-close-chat{display:none}.operators-bar .wrapper{background:#fff!important}#message-wrapper{border:1px solid #D4D4D4;margin:0 16px;padding:0}#message-placeholder{font-size:14px;letter-spacing:.01em;margin-right:25px;color:#6F6F6F}.operator .msg-text{background:#E8E8E8;padding:6px 9px;border-radius:3px;max-width:70%;margin-top:1px;display:inline-block;margin-left:0}.client .msg-text:before,.operator .msg-text:before{display:block;position:absolute;content:""}.operator .msg-text:before{border:5px solid transparent;border-color:transparent #E8E8E8 transparent transparent;left:0;margin-top:4px}.client .msg-text{background:#558EE7;padding:6px 9px;border-radius:3px;max-width:85%;margin-top:1px;float:right;margin-right:0}.client .msg-text:before{border:5px solid transparent;border-color:transparent transparent transparent #558EE7;right:0;margin-top:4px}#body .time,#operators #rate_me_feedback_form .cancel .or{display:none!important}.same-author .msg-text{margin-top:5px}.author{font-size:10px}.client .author{text-align:right}#operators #rate_me_feedback_form{top:94px;background:#3F3F3F;border-radius:3px;padding:10px;left:5px;right:5px}#operators #rate_me_feedback_form form{padding-right:5px}#operators #rate_me_feedback_form form label{color:#fff;text-transform:uppercase}#operators #rate_me_feedback_form span{white-space:normal}#operators #rate_me_feedback_form input[type=submit]{background:0 0;border:none;color:#FFF;text-transform:uppercase;font-size:.8em;letter-spacing:.08em}#operators #rate_me_feedback_form input[type=submit]:hover{cursor:pointer;cursor:hand}#operators #rate_me_feedback_form .cancel a{text-decoration:none!important;color:#FFF;text-transform:uppercase;letter-spacing:.08em}#email_transcript_form{display:block;background:#3F3F3F;left:5px!important;right:5px!important;color:#FFF;border-radius:3px;padding:10px!important;top:94px!important}#email_transcript_form span{white-space:normal!important}#email_transcript_form form label{color:#fff!important;text-transform:uppercase}#email_transcript_form input[type=submit]{background:0 0;border:none;color:#FFF;text-transform:uppercase;font-size:.8em;letter-spacing:.08em}#email_transcript_form input[type=submit]:hover{cursor:pointer;cursor:hand}#email_transcript_form .cancel a{text-decoration:none!important;color:#FFF;text-transform:uppercase;letter-spacing:.08em}#email_transcript_form .cancel .or{display:none!important}#rating-and-transcript{background:#3F3F3F;color:#FFF;border-radius:3px;width:auto;position:absolute;top:0;padding:5px;left:5px;display:none}#rating-and-transcript:before{border:5px solid transparent;border-color:transparent transparent #3F3F3F;display:block;left:4px;position:absolute;content:"";margin-top:-14px}#rating-and-transcript a{color:#fff!important;text-transform:uppercase;font-size:9px!important;padding:0 4px;height:34px!important;line-height:34px!important;text-align:center;letter-spacing:.08em}#rating-and-transcript #email_transcript,#rating-and-transcript #rating{float:none;display:block;height:auto!important}#rating-and-transcript #rating{overflow:hidden;margin-right:0!important;padding-bottom:6px}#rating-and-transcript .rating-button{width:50%;white-space:nowrap}#operators a.rate-good{margin-top:0}#operators a.rate-bad{margin-top:0;border-left:1px solid #656565}#operators span{white-space:nowrap;line-height:1.1em}#operators span.rate-good{height:inherit!important;line-height:inherit!important;font-size:9px!important;width:100%}#email_transcript{top:0!important;border-top:1px solid #656565;padding-bottom:1px;padding-top:4px}#popup-file{background:#3F3F3F;color:#FFF;border-radius:3px;width:78%;margin:30px 10px 10px;left:11%}#popup-file .file-action-container a,#popup-file .file-action-container button{display:block;float:left;width:50%;font-size:11px;margin:2px 0;line-height:16px;text-transform:uppercase}#popup-file h4{color:#9F9F9F;text-transform:uppercase;font-weight:400;font-size:11px;letter-spacing:.1em}#popup-file .file-action-container button{border:none;background:0 0;color:#FFF;border-right:1px solid #9F9F9F;padding:2px 10px 2px 5px}#popup-file .file-action-container a{padding:2px 10px;color:#9F9F9F;text-decoration:none!important}#popup-file ul{border-top:1px solid #787878;border-bottom:1px solid #787878;border-radius:0!important;padding:4px 0}#popup-file ul#popup-file-confirm-bad-list{margin-top:-15px}#popup-file ul#popup-file-confirm-bad-list li .file-name{color:#D14747!important}#popup-file ul li{overflow:hidden}#popup-file ul li .file-name{color:#fff!important;max-width:220px!important;font-size:11px!important}#view-chat{margin-left:8px}#view-chat .client .thumbnail{clear:both;float:right}.delivered-indicator,.last-seen-indicator{padding:2px 0;text-align:right;clear:both;float:right}#popup-file #popup-file-confirm-bad-list li .file-meta,#popup-file #popup-file-confirm-list li .file-meta{background:0 0;color:#fff}#popup-file #popup-file-confirm-bad-list,#popup-file #popup-file-confirm-list{background:0 0}body.mobile #message-wrapper .btn-send{color:#000;padding:4px 6px 4px 2px;height:auto;bottom:10px;line-height:26px}body.mobile #message-wrapper{padding-bottom:0;margin:0!important;border-left:0;border-right:0;height:50px;border-bottom:0}body.mobile #wrapper{padding-top:0!important}body.mobile #textarea-wrapper{height:50px}body.mobile #send-file-clip{bottom:15px}body.mobile.has-operators-bar #wrapper,body.mobile.state-chatting #wrapper,body.pop-out.has-operators-bar #wrapper,body.pop-out.state-chatting #wrapper{padding-top:50px!important}body.pop-out .outline{padding:0}body.pop-out #wrapper{padding-top:0!important}#confirm-closing{width:70%;background:#3F3F3F;margin-left:15%;border-radius:3px;box-shadow:0 2px 5px 0 rgba(0,0,0,.1);padding-top:15px;padding-bottom:10px;margin-top:40px}#confirm-closing a{color:#9F9F9F!important}#confirm-closing p{text-align:center;text-transform:uppercase;color:#9F9F9F;font-size:11px;font-weight:400;max-width:65%;margin:10px auto 0}#confirm-closing p.actions{max-width:100%;overflow:hidden;margin-top:0}#confirm-closing a,#confirm-closing p.actions input{display:block;float:left;font-size:11px;margin:2px 0;text-transform:uppercase}#confirm-closing p.actions input[type=button]:hover{cursor:pointer;cursor:hand;text-decoration:underline}#confirm-closing p.actions input{width:57%;border:none;background:0 0;color:#FFF;border-right:1px solid #9E9E9E;padding:2px 10px 2px 5px}#confirm-closing a{padding:2px 10px;width:40%}#drag-and-drop-mask div{background:rgba(255,255,255,.7);top:45px;bottom:0;right:15px;left:15px;z-index:99999999999999999}#content.popup-show{background:#FFF}#title-text{display:none}.title{background:#fff}#survey-after-greeting .submit input,.form .submit input{border:0;background:#3F3F3F;color:#fff;text-transform:uppercase;letter-spacing:.08em;border-radius:3px;padding:10px 15px;font-size:.8em;font-weight:400;margin:0 auto;display:block}#survey-after-greeting .submit input:hover,.form .submit input:hover{cursor:pointer;cursor:hand}.ajax-loader{display:block;margin:5px auto}#footer #social div{height:24px}#social #plusone-container{padding-top:4px}#social #plusone-container a{line-height:1em}#typing-indicator{float:none;clear:both}.icon-clip{font-size:15px}.icon-minimize{font-size:2px}.icon-close{font-size:10px}.icon-email{font-size:11px}.icon-thumbs-down,.icon-thumbs-up{font-size:14px}.icon-mobile{font-size:11px}.title-font{color:#5c5c5c}#body .url-preview{display:inline-block;max-width:100%}#body .url-preview .details .description{font-size:12px!important}#notification{top:58px;left:24px}.rtl-lang #confirm-closing{margin-left:auto;margin-right:15%}.rtl-lang #mini-menu{padding-left:6px;padding-right:12px;margin-right:-12px;margin-left:0;float:right}.rtl-lang #title-container #close-chat{margin-left:-12px;margin-right:0;padding:6px 6px 5px 12px}.rtl-lang #rating-and-transcript{right:5px;left:auto}.rtl-lang #rating-and-transcript:before{left:auto;right:4px}.rtl-lang #operators #email_transcript .icon-email{margin:0 1px 0 5px}.rtl-lang #operators .icon-thumbs-down,.rtl-lang #operators .icon-thumbs-up{margin-left:4px;margin-right:0;right:auto;left:2px}.rtl-lang .operator .msg-text:before{border-color:transparent transparent transparent #E8E8E8;right:0;left:auto}.rtl-lang .client .msg-text,.rtl-lang .delivered-indicator,.rtl-lang .last-seen-indicator{float:left}.rtl-lang .client .msg-text:before{left:0;right:auto}</style><style type="text/livechat-theme-2.0" id="theme-minimal">@font-face {    font-family: \'livechat-minimal\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/minimal/livechat-minimal_750d47d198.eot?i0ym10\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/minimal/livechat-minimal_750d47d198.eot?i0ym10#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/minimal/livechat-minimal_337558d286.ttf?i0ym10\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/minimal/livechat-minimal_56b8359e5a.woff?i0ym10\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/minimal/livechat-minimal_91c8f9da62.svg?i0ym10#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-minimal\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-agentonline:before {    content: "\\e900";}.icon-leavemessage:before {    content: "\\e901";}.icon-tick:before {    content: "\\e902";}.icon-clip:before {    content: "\\e903";}.icon-close:before {    content: "\\e904";}.icon-maximize:before {    content: "\\e905";}.icon-minimize:before {    content: "\\e906";}.icon-mobile:before {    content: "\\e907";}.icon-thumbs-down:before {    content: "\\e908";}.icon-thumbs-up:before {    content: "\\e909";} #operators,#social{display:none!important}#footer #powered a,#view-chat p .author{letter-spacing:.1em;text-transform:uppercase}#footer #powered a,#title-container,#view-chat p .author{text-transform:uppercase}@font-face{font-family:Lato;font-style:normal;font-weight:300;src:local(\'Lato Light\'),local(\'Lato-Light\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/KT3KS9Aol4WfR6Vas8kNcg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:local(\'Lato Regular\'),local(\'Lato-Regular\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/9k-RPmcnxYEPm8CNFsH2gg.woff) format(\'woff\')}@font-face{font-family:Lato;font-style:normal;font-weight:700;src:local(\'Lato Bold\'),local(\'Lato-Bold\'),url(https://themes.googleusercontent.com/static/fonts/lato/v6/wkfQbvfT_02e2IWO3yYueQ.woff) format(\'woff\')}#body input,#body label,#body select,#body table,#body textarea,a,body,input,label,select,table,table#content,textarea{font-family:Lato,sans-serif!important}#wrapper{background:0 0!important;border:0;border-radius:0}#title-container,.title{background:#E14A4D}#view-chat p .author{font-size:10px;font-weight:300}#message,#message-placeholder,.msg-text{letter-spacing:.01em}.client,.operator{border-top:0;font-size:14px;color:#323232}#title-container td{line-height:30px;height:30px}#title{color:#fff;font-weight:400;padding:0 7px 0 8px}#title #title-text{margin-left:3px;font-size:10px;letter-spacing:.13em;text-shadow:none;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block}#body,#body-inner,#operators .wrapper,#textarea-wrapper{border:none;border-radius:0;box-shadow:none}.outline{border:none;background:0 0;padding:15px 15px 0;box-shadow:none}#content{padding:0;background:#fff;border-radius:4px 4px 0 0!important;box-shadow:0 2px 10px rgba(0,0,0,.1)!important;background-clip:padding-box!important}#message-wrapper{border:1px solid #D4D4D4;margin:0 8px;padding:0}#message{font-size:14px}#footer #powered{float:left;margin-left:-8px}#footer #powered a{text-decoration:none;color:#9a9a9a;font-size:8px}#footer p{line-height:18px}#livechat-full{width:270px!important;height:290px!important}.msg-text{line-height:1.25em}#message-placeholder{font-size:11px;margin-right:25px;color:#6F6F6F}#content .form div p,#content .integration,#content p,#typing-indicator{padding-left:16px;padding-right:16px}#footer td{padding:0;line-height:11px;height:18px}#title-container #close-chat{margin-top:-1px;margin-right:1px;height:30px;margin-left:0;padding:0 4px}#title-container #minimize{margin-right:3px;padding-bottom:0;line-height:25px;height:25px}#title-container #minimize .icon-minimize{width:11px}.footer{background:0 0!important}#confirm-closing p.actions input,#send-file,.submit input{background:#000;color:#FFF;border:0;font-size:10px;font-weight:400;text-transform:uppercase;letter-spacing:.13em;padding:7px 13px;cursor:pointer}.rating-component .rating-button,input.text,textarea{border-radius:0}.submit input{margin:0 auto;display:block}body.mobile #message-wrapper{padding-bottom:0;margin:0!important;border-left:0;border-right:0;height:50px;border-bottom:0}body.mobile #message-wrapper .btn-send{background:#000!important;bottom:10px;line-height:23px}body.mobile #wrapper{padding-top:0!important}body.mobile #textarea-wrapper{height:50px}body.mobile #send-file-clip{bottom:15px}body.mobile #textarea td{padding-bottom:5px}#send-file{margin-right:15px}#drag-and-drop-mask div{background:rgba(255,255,255,.7);top:45px;bottom:0;right:15px;left:15px;z-index:99999999999999999}#content .form div p,#content .integration,#content p,#typing-indicator{line-height:1.25em}body.has-operators-bar #body-inner{border-top:0}#popup-file ul li .file-name{max-width:155px!important}#popup-file #popup-file-confirm-bad-list li,#popup-file #popup-file-confirm-list li{overflow:hidden}.pop-out #livechat-full{height:460px!important}.pop-out #wrapper{padding:0!important}.icon-minimize{display:inline-block;font-size:2px}.icon-close{font-size:10px}.icon-clip{font-size:15px}.icon-mobile{font-size:11px}#notification{top:21px;left:21px}.delivered-indicator,.last-seen-indicator{display:none!important}.rating-component{padding-left:16px!important}.rtl-lang #footer #powered{float:right}</style><style id="color-css"></style><style id="mobile-css"></style><style id="skin-css"></style><style id="custom-css"></style>',
body:'\x3c!--\'outline\' color will be used only for <div> containing the iframe,otherwise border-radius on the whole <div> would not work properlySo we must use "outline" style for the below DOM elementto let JavaScript access this property and send it back to <div>--\x3e<div id="css-container" class="outline"></div><div id="wrapper" class="outline style-background-color style-border-color">\t<table id="content" cellspacing="0" cellpadding="0">\t<tbody>\t<tr id="title-container" class="style-background-color">\t<td>\t<a id="title" href="#" class="title title-bg title-font style-text-shadow">\t\t<span id="mini-menu" class="animate" title="{%Theme_options%}"><span class="icon-menu"></span></span>\t\t<span id="close-chat" class="title-button" title="{%Close_chat%}"><span class="icon-close"></span></span>\t\t<span id="minimize" class="title-button" title="{%Embedded_minimize_window%}"><span class="icon-minimize"></span></span>\t\t<span id="title-text">{%Welcome_title%}</span>\t</a>\t</td>\t</tr>\t<tr id="operators">\t<td class="deprecated-top-bg deprecated-top-font operators-bar style-background-color">\t<div class="wrapper style-border-color"></div>\t</td>\t</tr>\t<tr id="body-container">\t<td>\t<div id="body" class="style-border-color">\t\t<div class="top-shadow"></div>\t\t<div id="body-inner">\t\t\t<div class="view" id="view-loading">\t\t\t\t<p id="loading-indicator">{%Loading%}&hellip;</p>\t\t\t</div>\t\t\t<div class="view" id="view-offline-message-sent">\t\t\t\t<p>{%Offline_message_sent%}</p>\t\t\t</div>\t\t\t<div class="view" id="view-connection-lost">\t\t\t\t<p>{%Lost_Connection%}</p>\t\t\t</div>\t\t\t<div class="view" id="view-not-working-cookies-and-local-storage">\t\t\t\t<p>Cookies are not enabled in your browser. Please enable cookies before starting a chat.</p>\t\t\t</div>\t\t\t<div class="view" id="view-confirm-closing">\t\t\t\t<div id="confirm-closing">\t\t\t\t\t<p>{%Leave_chat_confirm%}</p>\t\t\t\t\t<p class="actions">\t\t\t\t\t\t<input type="button" id="leave-chat" value="{%Button_leave_chat_confirm%}">\t\t\t\t\t\t<a href="" id="dont-leave-chat">{%Button_leave_chat_cancel%}</a>\t\t\t\t\t</p>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="view" id="view-prechat-survey"></div>\t\t\t<div class="view" id="view-chat">\t\t\t\t<div id="typing-indicator"><span class="typing-author"></span><span class="typing-dots">...</span></div>\t\t\t</div>\t\t\t<div class="view" id="view-invitation"></div>\t\t\t<div class="view" id="view-postchat-survey"></div>\t\t\t<div class="view" id="view-offline-form"></div>\t\t\t<div class="view" id="view-queued-form"></div>\t\t\t<div class="view" id="view-information"></div>\t\t</div>\t</div>\t</div>\t</td>\t</tr>\t<tr id="textarea">\t<td class="deprecated-secondary-bg deprecated-secondary-font footer style-background-color textarea-inner-container">\t\t<span id="message-wrapper" class="message-wrapper">\t\t\t<a href="" class="btn-send">{%Send%}</a>\t\t\t<span id="textarea-wrapper" class="textarea-bg style-border-color">\t\t\t\t<textarea name="message" id="message" class="textarea-bg textarea-font" maxlength="3000"></textarea>\t\t\t\t<a href="#" id="send-file-clip">\t\t\t\t\t<span class="icon-clip"></span>\t\t\t\t</a>\t\t\t\t<input type="file" name="files" id="input-file">\t\t\t\t<span id="message-placeholder" class="textarea-font">{%Embedded_textarea_placeholder%}</span>\t\t\t</span>\t\t</span>\t</td>\t</tr>\t<tr id="survey-after-greeting">\t<td class="submit style-border-color">\t\t<p><input type="button" value="{%Embedded_greeting_accept%}"></p>\t</td>\t</tr>\t<tr id="footer">\t<td class="deprecated-secondary-bg deprecated-secondary-font footer style-background-color">\t<div id="social"></div>\t<p id="powered"><a href="https://www.livechatinc.com/powered-by-livechat/?partner=lc_%%license&amp;utm_source=chat_window&amp;utm_medium=referral&amp;utm_campaign=lc_%%license" target="_blank" class="deprecated-secondary-font footer style-background-color">Powered by LiveChat</a></p>\t</td></tr>\t</tbody>\t</table></div>\x3c!-- prevent "fb-root" auto-creating warnings from Facebook SDK --\x3e<div id="fb-root"></div>'},parse:function(e){var t=App.useLC2Theme()?"2.0":"1.0";return e=e.replace('type="text/livechat-theme-'+t+'" id="theme-'+App.THEME+'"','type="text/css" id="theme-'+App.THEME+'"'),"deprecated"!==App.THEME&&(e=e.replace('type="text/livechat-theme-'+t+'" id="theme-not-deprecated"','type="text/css" id="theme-not-deprecated"')),e=e.replace('type="text/livechat-styles-'+t+'"','type="text/css"'),e=e.replace(/%%license/g,App.LICENSE),e=e.replace(/<style type="text\/livechat-(.*?)<\/style>/g,"")},get:function(e){return Translate.translate(this.parse(this._templates[e]))}},Translate={phrases:null,init:function(){document.title=__tran("Welcome_title")},setLangPhrases:function(e){this.phrases=e},getLangPhrasesDefined:function(){return null!==this.phrases},translateCallback:function(e,t){if(e=e.substring(2,e.length-2),void 0===Translate.phrases[e]){if(void 0===LangDef[e])return"";Translate.phrases[e]=LangDef[e]}return e=Translate.phrases[e],t&&(e=App.escapeString(e)),e=e.replace(/\n/g,"<br>")},translateEscapedCallback:function(e){return Translate.translateCallback(e,!0)},getPhrase:function(e){return void 0===Translate.phrases[e]?"":Translate.phrases[e]},translate:function(e,t){var t;return t=$.extend({escape:!1},t),t.escape?"translateEscapedCallback":"translateCallback",e=e.replace(/{%(.*?)%}/g,this.translateCallback)},get:function(e,t,i){var o="{%"+e+"%}",n=Translate.translateCallback(o);if(t)for(var r in t)i&&(t[r]=App.escapeString(t[r])),n=n.replace("%"+r+"%",t[r]),n=n.replace("%"+r,t[r]);return n}},__tran=Translate.get,LangDef=[];LangDef.Welcome_title="Welcome to LiveChat",LangDef.Offline_form="Leave a message",LangDef.Embedded_new_message="New message from %operator%",LangDef.Embedded_chat_ended="Chat ended",LangDef.Embedded_chat_with="Chat with %operator%",LangDef.Embedded_chat_now="Chat now",LangDef.Embedded_leave_message="Leave a message",LangDef.Embedded_waiting_for_operator="Waiting for operator",LangDef.Survey_fill_in_required_fields="Please fill in required fields.",LangDef.Invalid_email="Invalid e-mail",LangDef.Role_Support_Angel="Support Operator",LangDef.Welcome_to_chat="Hello %name%. How may I help you?",LangDef.Client="Client",LangDef.Embedded_textarea_placeholder="Type in your message here and press Enter to send",LangDef.Leave_chat_confirm="Do you really want to leave the chat?",LangDef.Loading="Please wait",LangDef.Message_delivered="Delivered",LangDef.Message_read="Read",LangDef.Rate_me_confirmation_good="You rated our customer service as good.",LangDef.Rate_me_confirmation_bad="You rated our customer service as bad.",LangDef.Rate_me_postchat_info_good="You rated the chat as good.",LangDef.Rate_me_postchat_info_bad="You rated the chat as bad.",LangDef.Change_your_rate="Change your rate.",LangDef.Rate_me_comment_added="You left the following comment:",LangDef.Rate_me_cancel="Your vote has been cancelled.",LangDef.Rate_me_add_comment="Thank you for the rating! You can also leave a comment:",LangDef.Operator_joined_conference="%operator% has joined the conference.",LangDef.Operator_left_conference="%operator% has left the conference.",LangDef.Chat_session_closed="Chat closed.",LangDef.Embedded_start_chat_again="Start the chat again",LangDef.User_Transfer="You have been transferred to: %operator%.",LangDef.Operator_closed_session="%operator% has closed the chat.",LangDef.Client_inactive="The chat has been closed due to long user inactivity.",LangDef.User_in_queue_unknown_time="One of our representatives will be with you shortly. You are number %number% in the queue.",LangDef.User_in_queue="One of our representatives will be with you shortly. You are number %number% in the queue. Your wait time will be approximately %minutes% minute(s). Thank you for your patience.",LangDef.Lost_Connection="Connection lost. Please check your internet connection and then try again.",LangDef.Operator_is_typing="%operator% is typing...",LangDef.Push_page_requested="%operator% wants to open this page in your browser:",LangDef.Push_page_accepted="You have been navigated to the page.",LangDef.Push_page_refused="You refused to open the page.",LangDef.Chat_transcript_sent="Chat transcript will be sent to %s once the chat is finished.",LangDef.You_are_banned_message="You have been temporarily prohibited from entering this chat.",LangDef.Offline_message_sent="Thank you! Your message has been sent. Our support team will contact you soon.",LangDef.Offline_message_failed="We were unable to leave your message. Please try again later.",LangDef.Button_allow="Allow",LangDef.Button_link_or="or",LangDef.Button_link_cancel="cancel",LangDef.Push_page_accept="Open this page",LangDef.Push_page_or="or",LangDef.Push_page_cancel="cancel",LangDef.Send="Send",LangDef.Button_add_feedback="Leave a comment",LangDef.Button_link_skip="skip",LangDef.Rate_me_placeholder="Type in your comment…",LangDef.Button_leave_chat_confirm="Leave the chat",LangDef.Button_leave_chat_cancel="cancel",LangDef.Prechat_submit_label="Start the chat",LangDef.Embedded_invitation_accept="Start the chat",LangDef.Embedded_invitation_refuse="close the window",LangDef.Offline_form_submit_label="Leave a message",LangDef.Skill_status_online="online",LangDef.Skill_status_offline="offline",LangDef.Submit="Submit",LangDef.Embedded_read_chat_transcript="Read the chat transcript",LangDef.Rate_me_good="Good",LangDef.Embedded_minimize_window="Minimize window",LangDef.Close_chat="Stop the chat",LangDef.Rate_me_good_tooltip="Rate as good",LangDef.Rate_me_bad_tooltip="Rate as bad",LangDef.Rate_me_cancel_tooltip="Cancel rating",LangDef.Send_transcript_to_email="Send the chat transcript to your email",LangDef.Send_chat_transcript_to="Send chat transcript to:",LangDef.Send_transcript="Send transcript",LangDef.Agents_not_available="Our agents are not available at the moment.",LangDef.Freshbooks_invoice_created="A new invoice for <strong>%amount%</strong> has just been created. <br>Please check that all the details are correct.",LangDef.Freshbooks_click_here="Click here",LangDef.Freshbooks_to_download="for direct download.",LangDef.Zendesk_ticket_created="A support ticket has been created for your case.",LangDef.Zendesk_ticket_notification="You will be emailed at %email% when it's resolved.",LangDef.Assistly_ticket_created="A support ticket has been created for your case.",LangDef.Assistly_ticket_notification="You will be emailed at %email% when it's resolved.",LangDef.Joinme_info="<strong>%sender%</strong> wants you to <strong>share your desktop</strong>. <br> Sharing is <strong>secured</strong> by LogMeIn.",LangDef.Joinme_session_started="Remote desktop session has started.",LangDef.Joinme_session_rejected="Remote desktop session was rejected.",LangDef.Facebook_login_button="Login with Facebook",LangDef.Facebook_login_refuse="I don't want to login with Facebook",LangDef.Firefly_info="<strong>%sender%</strong> wants you to start a <strong>co-browsing session</strong> with you.",LangDef.Firefly_session_started="Please wait for the agent to enter the co-browsing session.",LangDef.Firefly_session_rejected="Co-browsing session was rejected.",WindowsCommunicator.prototype.init=function(){this.startCheckingForMainWindow(),this.startCheckingForMainWindowInGroup(),this.startReceivingMessages()},WindowsCommunicator.prototype.isMainWindow=function(){return this._isMainWindow},WindowsCommunicator.prototype.isMainWindowInGroup=function(){return!0===this._isMainWindowInGroup[App.SKILL]},WindowsCommunicator.prototype._getTimestamp=function(){return+new Date},WindowsCommunicator.prototype.startCheckingForMainWindow=function(){var e,t=this,i=null;e=setInterval(function(){var o=Store.get("main_window_timestamp");if(null===o||i===o)return t.actAsMainWindow(),clearInterval(e),e=null,t._isMainWindow=!0,!0;i=o},500)},WindowsCommunicator.prototype.startCheckingForMainWindowInGroup=function(){var e,t=this,i=null;e=setInterval(function(){var o=Store.get("main_window_timestamp_"+App.SKILL);if(null===o||i===o)return t.actAsMainWindowInGroup(),clearInterval(e),e=null,t._isMainWindowInGroup[App.SKILL]=!0,!0;i=o},500)},WindowsCommunicator.prototype.actAsMainWindow=function(){var e=this;Store.set("main_window_timestamp",this._getTimestamp()),App.notifyParent.send("main_window"),setInterval(function(){Store.set("main_window_timestamp",e._getTimestamp())},200)},WindowsCommunicator.prototype.actAsMainWindowInGroup=function(){var e=this;Store.set("main_window_timestamp_"+App.SKILL,this._getTimestamp()),this.main_window_previous_group=App.SKILL,this.main_window_group_interval=setInterval(function(){if(e.main_window_previous_group!==App.SKILL)return clearInterval(e.main_window_group_interval),e.startCheckingForMainWindowInGroup(),!1;Store.set("main_window_timestamp_"+App.SKILL,e._getTimestamp())},200)},WindowsCommunicator.prototype.startReceivingMessages=function(){var e=this;setInterval(function(){e.receiveMessages(["new_messages","personal_invitation","status_ping"])},1e3),setInterval(function(){e.receiveCommonIWCS()},5e3)},WindowsCommunicator.prototype.broadcast=function(e,t,i){var o;i=i||{},o={timestamp:this._getTimestamp(),message:t,group:App.SKILL},i.singleMessage&&(o.expires=this._getTimestamp()+1e3),Store.set("notification["+e+"]",$.toJSON(o))},WindowsCommunicator.prototype.clearBroadcast=function(e){Store.remove("notification["+e+"]")},WindowsCommunicator.prototype.broadcastCommonIWCS=function(e,t){var i;if(!0!==this.isMainWindowInGroup())return!1;i=Store.get("common_iwcs_"+App.SKILL),i=null===i||void 0===i?{}:$.extend({},JSON.parse(i)),i[e]={timestamp:App.getTimestamp(),responseCommand:t.responseCommand,originalRequest:t.originalRequest,response:t.response},Store.set("common_iwcs_"+App.SKILL,$.toJSON(i))},WindowsCommunicator.prototype.registerObserver=function(e){this.observers.push(e)},WindowsCommunicator.prototype.receiveMessages=function(e){var t,i,o,n;for(t=0,i=e.length;t<i;t++)if(o=e[t],null!==(n=Store.get("notification["+o+"]"))&&void 0!==n&&""!==n){try{n=JSON.parse(n)}catch(e){return void App.events.track("chat_window_parse_error",n)}n.expires&&n.expires<this._getTimestamp()?Store.remove("notification["+o+"]"):this.last_received_message_timestamps[o]&&this.last_received_message_timestamps[o]>=n.timestamp||(this.last_received_message_timestamps[o]=n.timestamp,$.each(this.observers,function(e,t){t(o,n.message,n.group)}))}},WindowsCommunicator.prototype.receiveCommonIWCS=function(){var e,t;return!0!==this.isMainWindowInGroup()&&(null!==(e=Store.get("common_iwcs_"+App.SKILL))&&void 0!==e&&(e=JSON.parse(e),null!==(t=e[App.SKILL])&&void 0!==t&&(this.last_received_iwcs_timestamp>=t.timestamp||(this.last_received_iwcs_timestamp=t.timestamp,void App.request.invokeAction(t.responseCommand,t.originalRequest,t.response)))))};var utf8CharactersRegExp="A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";ChatSurvey.prototype=new Form,ChatSurvey.prototype.constructor=ChatSurvey,window.ChatSurvey=ChatSurvey,ChatSurvey.prototype.load=function(e){var t,i,o=this;if(e=e||{},!1===this.isLoaded()){if(App.observers.register("window_maximize",function(){o.trackAnalyticsIntegrations()}),"PrechatSurvey"==(i=this.getClassName()))t="0";else{if("PostchatSurvey"!=i)return App.alert("No such survey type: "+i),!1;t="1"}if(App.showLoadingIndicator(),e.ignoreRequestingSurvey)return;o.request(t,e)}else this.displayView()},ChatSurvey.prototype.displayView=function(){var e;e=this.getContent(),"PrechatSurvey"==this.getClassName()&&!0===this.hasFacebookConnect&&!1===this.facebookConnectLoaded?(App.showLoadingIndicator(),App.renderView(this.view_class,e)):App.displayView(this.view_class,e),App.hideOperatorsBar(),this.init(),App.focus(),this.trackAnalyticsIntegrations()},ChatSurvey.prototype.isDisplayed=function(){return App.viewIsVisible(this.view_class)},ChatSurvey.prototype.submit=function(e){return!0===Form.prototype.submit.call(this)&&(this.setFilledIn(),!0)},ChatSurvey.prototype.trackAnalyticsIntegrations=function(){var e;if(!0===this.isLoaded()&&App.getWindowMode()!==App.WINDOW_MINIMIZED&&!0!==this.getFormGATracked()){if("PrechatSurvey"==(e=this.getClassName())){if(App.getState()!==App.STATE_PRE_CHAT)return!1;ga_page="Pre-chat survey"}else if("PostchatSurvey"==e){if(App.getState()!==App.STATE_POST_CHAT)return!1;ga_page="Post-chat survey"}App.ga.trackPageView(ga_page),this.setFormGATracked()}},ChatSurvey.prototype.request=function(e,t){return App.request.send(["IWCS0121C",e,App.LICENSE,"$",App.SKILL],t)},ChatSurvey.prototype.setFilledIn=function(e){var t=this,i=["name","email","question","textarea"],o=["header","facebookConnect","rating"],n=$(this._surveyJSON.fields).filter(function(e,t){return-1===$.inArray(t.type,o)}),r=$(this.getFields()).filter(function(e,t){return t.providesValue()}),a=$.map(n,function(e,o){var n=e.type,a={id:e.id,label:e.label,order:e.order,type:n};if(-1!==$.inArray(n,i))a.answer=$.trim(r[o].getValue());else{var s=function(e){switch(e){case"checkbox":case"checkbox_for_email":return"checkboxes";case"select":return"radios";default:return e+"s"}}(n);a.answers=$.map(r[o][s],function(e,t){var i=r[o],a={label:e.value||e.description,index:t};switch(n){case"radio":case"select":a.chosen=i.getValue()===t;break;case"checkbox":case"checkbox_for_email":a.chosen=-1!==$.inArray(t,i.getValue());break;case"skill":a.group_id=e.id,a.chosen=i.getValue()===t}return a}),t.includeAllAnswers||(a.answers=$.grep(a.answers,function(e){return e.chosen}))}return a});return this.filledIn={survey_id:this._surveyJSON.id,fields:a},this},ChatSurvey.prototype.getFilledIn=function(){return this.filledIn},PostchatSurvey.prototype=new ChatSurvey,PostchatSurvey.prototype.constructor=PostchatSurvey,window.PostchatSurvey=PostchatSurvey,PostchatSurvey.prototype.load=function(e){e=$.extend({whoClosed:App.CLIENT,displayStartAgainLink:!1,closedManually:!1},e),this.who_closed_chat=e.whoClosed,this.display_start_again_link=e.displayStartAgainLink,this.chat_closed_manually=e.closedManually,ChatSurvey.prototype.load.call(this)},PostchatSurvey.prototype.parseJSON=function(e){ChatSurvey.prototype.parseJSON.call(this,e),this.properties.enabled=e.enabled,this.properties.id=e.id,this._surveyJSON=e},PostchatSurvey.prototype.displayView=function(){!0===this.properties.enabled?(App.hideTextarea(),App.hideOperatorsBar(),App.setState(App.STATE_POST_CHAT),ChatSurvey.prototype.displayView.call(this),App.scrollTop()):(App.setState(App.STATE_CHAT_ENDED),App.showView("chat"),App.updateBodyHeight(),App.showOperatorsBar(),App.scrollBottom(),this.init(),this.chat_closed_manually&&App.getWindowMode()===App.WINDOW_MAXIMIZED&&App.minimizeWindow())},PostchatSurvey.prototype.init=function(){if(!1===ChatSurvey.prototype.init.call(this))return!0;this.who_closed_chat===App.CLIENT?App.displayNewMessage({message:__tran("Chat_session_closed")}):App.chat.displayOperatorClosedMessage(),App.addBodyClass("chat-ended"),!0===this.display_start_again_link&&App.displayStartAgainLink()},PostchatSurvey.prototype.submit=function(e){if(!1===ChatSurvey.prototype.submit.call(this,e))return!1;App.request.sendJSON("post_chat_survey_data",{conference_id:App.chat.getConferenceID(),survey:this.getFilledIn()},{method:"post"}),App.notifyParent.send("postchat_sent;"+encodeURIComponent(JSON.stringify(this.getFieldsPairsJson()))),App.ga.trackPageView("Post-chat survey filled in"),App.setState(App.STATE_CHAT_ENDED),App.displayChatView(),App.scrollBottom(),this.sendRating()},PostchatSurvey.prototype.sendRating=function(){var e=Utils.find(this.fields,function(e){return"rating"===e.field_type});if(e){var t=$.trim(e.$field.find(".rating-comment-wrapper textarea").val());t!==App.rateMe.latestVoteComment&&App.rateMe._sendRatingComment(t)}},PrechatSurvey.prototype=new ChatSurvey,PrechatSurvey.prototype.constructor=PrechatSurvey,window.PrechatSurvey=PrechatSurvey,PrechatSurvey.prototype.getDestinationSkill=function(e){var t,i;return e=$.extend({using_facebook_connect:!1},e),i=App.SKILL,!0===e.using_facebook_connect?i:(t=this.getFields(),$(t).each(function(e,t){var o;if("FormFieldSkill"!==t.getClassName())return!0;o=t.getTextValue(),/[0-9]+/.test(o)&&(i=t.getTextValue())}),parseInt(i,10))},PrechatSurvey.prototype.load=function(e){return(e=e||{})&&e.showAfterGreeting&&this.startOnMaximize?App.startChat({using_facebook_connect:!0,source:"facebook connect"}):App.getState()!==App.STATE_INVITATION_WITH_AGENT||e.showAfterGreeting?(App.setState(App.STATE_PRE_CHAT),!1!==App.popout.isPopOut()||!1!==App.popout.isInIframe()||App.getWindowMode()===App.WINDOW_MAXIMIZED||e.forceLoad?void ChatSurvey.prototype.load.call(this,e):(App.startCheckingForStateChange(),!1)):(App.startCheckingForStateChange(),!1)},PrechatSurvey.prototype.isEnabled=function(){return this.properties.enabled},PrechatSurvey.prototype.parseJSON=function(e){var t,o,n;if(ChatSurvey.prototype.parseJSON.call(this,e),t=e.enabled,1===parseInt($.getUrlParam("autologin"),10)&&(o=$.getUrlParam("name"),n=$.getUrlParam("email"),null!==o?App.client.setName(o):App.client.setName(__tran("Client")),null!==n&&App.client.setEmail(n),t=!1),this.properties.enabled=t,this.properties.id=e.id,null!=e.fields){for(i=0;i<e.fields.length;i++)"skill"===e.fields[i].type&&(0!=e.fields[i].skills.length&&null==e.fields[i].skills[0].status||(this._supportBackwardsSkillsFormat=!1));this._surveyJSON=e}},PrechatSurvey.prototype.displayView=function(e){return!0!==App.chat.getStarted()&&!0!==App.chat.getStartedByOperator()&&App.getState()!==App.STATE_INVITATION&&App.getState()!==App.STATE_INVITATION_WITH_AGENT&&(App.setState(App.STATE_PRE_CHAT,App.STATE_DONT_NOTIFY_PARENT),!1===this.properties.enabled?(!1!==App.popout.isInIframe()||App.getWindowMode()!==App.WINDOW_MINIMIZED)&&(this.startChat(),!1):(ChatSurvey.prototype.displayView.call(this),this.prepopulateFields(),!0!==this.displayViewEventsBound&&(this.displayViewEventsBound=!0,!0===this._supportBackwardsSkillsFormat&&this.preloadSkillStatuses()),!0===this.facebookConnectLoaded&&(this.facebookConnectParsed=!0,FB.XFBML.parse()),void App.scrollTop()))},PrechatSurvey.prototype.prepopulateFields=function(){var e,t;e=this.getFieldByClassName("FormFieldName"),e&&App.client.getName({omitDefault:!0})&&e.setTextValue(App.client.getName()),(t=this.getFieldByClassName("FormFieldEmail"))&&App.client.getEmail()&&t.setTextValue(App.client.getEmail())},PrechatSurvey.prototype.startChat=function(){var e,t;if(!1===this.properties.enabled)return App.ensurePing(function(){App.request.sendJSON("get_predicted_agent")}),!1;e=$.getUrlParam("name"),null!==e&&App.client.setName(e),t=$.getUrlParam("email"),null!==t&&App.client.setEmail(t),App.startChat({source:this.getSource()})},PrechatSurvey.prototype.init=function(){if(App.setTitle(__tran("Welcome_title")),!1===ChatSurvey.prototype.init.call(this))return!0;App.sendInfoToParent(),App.startCheckingForStateChange()},PrechatSurvey.prototype.submit=function(e){var t;if(!ChatSurvey.prototype.submit.call(this,e))return!1;this.formSubmitted=!0,this.rememberVisitorDetails(),t=this.getDestinationSkill(),App.notifyParent.send("prechat_sent;"+encodeURIComponent(JSON.stringify(this.getFieldsPairsJson()))),App.ga.trackPageView("Pre-chat survey filled in"),t?this.checkSkillAvailability(t):App.startChat({loading_indicator:!1,source:this.getSource()})},PrechatSurvey.prototype.rememberVisitorDetails=function(){var e,t;e=$("#name"),e.length>0&&(t=e.val(),t=$.trim(t),t.length>0&&App.client.setName(t)),$("#email").length&&$.trim($("#email").val())&&App.client.setEmail($.trim($("#email").val()))},PrechatSurvey.prototype.preloadSkillStatuses=function(){$('#skill option[value!=""]').each(function(){var e=$(this).val();App.request.send(["IWCS0099C",App.LICENSE,e])})},PrechatSurvey.prototype.checkSkillAvailability=function(e){App.request.send(["IWCS0099C",App.LICENSE,e])},PrechatSurvey.prototype.skillAvailability=function(e,t){var i,o,n;if(!1===this.formSubmitted)return this.displaySkillsStatus(e,t),!0;"online"===t?App.startChat({loading_indicator:!1,source:this.getSource()}):(n={force_reload:!0},App.SKILL=parseInt(e,10),App.notifyParent.send("chose_destination_skill"),i=Utils.find(this._surveyJSON.fields,function(e){return"skill"===e.type}),i&&(o=Utils.find(i.skills,function(e){return e.skill_id===App.SKILL}),n.destination_skill_form_disabled=o.embedded_chat_hide_when_offline,App.setSkillFormDisabledFlag(App.SKILL,o.embedded_chat_hide_when_offline)),App.offlineForm.load(n))},PrechatSurvey.prototype.displaySkillsStatus=function(e,t){$("#skill option[value="+e+"]").each(function(){if(!0===$(this).data("loaded"))return!0;"online"===t?$(this).data("loaded",!0).addClass("online").append(" ("+__tran("Skill_status_online")+")"):$(this).data("loaded",!0).addClass("offline").append(" ("+__tran("Skill_status_offline")+")")})},PrechatSurvey.prototype.connectToFacebookApi=function(){var e,t=this;e=function(){this._errorCallbackInvoked||(this._errorCallbackInvoked=!0,t.removeFields("FormFieldFacebookConnect"),t.hasFacebookConnect=!1,App.getWindowMode()!==App.WINDOW_MAXIMIZED&&App.getWindowMode()!==App.WINDOW_POPOUT||t.showPrechatSurvey())},require.onError=function(t){e()},setTimeout(function(){!0!==t.facebookConnectLoaded&&e()},5e3),require([App.PROTOCOL+"connect.facebook.net/en_US/sdk.js"],function(){FB.Event.subscribe("auth.login",function(){t.logInToFacebook.apply(t,arguments)}),/\.net$/.test(document.domain)?appId="254953707848342":appId="128450527232960",$("body").append('\t\t<script>\t\t\tFB._https = true;\t\t\tFB.init({\t\t\t\tappId: "'+appId+'",\t\t\t\tcookie: true,\t\t\t\txfbml: false,\t\t\t\tversion: "v2.8"\t\t\t});\t\t<\/script>'),FB.getLoginStatus(function(e){t.logInToFacebook(e)})})},PrechatSurvey.prototype.logInToFacebook=function(e){var t=this;this.facebookConnectLoaded=!0,void 0!==e?this.parseLoginStatusResponse(e):FB.getLoginStatus(function(e){t.parseLoginStatusResponse(e)})},PrechatSurvey.prototype.parseLoginStatusResponse=function(e){if("connected"!==e.status)return!0===App.chat.getStartedByOperator()?App.startChat({source:"LC_API"}):App.getWindowMode()===App.WINDOW_MAXIMIZED||App.getWindowMode()===App.WINDOW_POPOUT||App.popout.isInIframe()?(this.facebookConnectParsed=!0,FB.XFBML.parse(null,App.prechatSurvey.showPrechatSurvey)):FB.XFBML.parse(),!1;FB.api("/me?fields=id,email,name,first_name,middle_name,last_name,gender,locale,link",function(e){if(void 0!==e.error)return!0===App.chat.getStartedByOperator()&&App.startChat({source:"LC_API"}),!1;App.client.setName(e.name),App.client.setEmail(e.email);var t={},i=["id","name","first_name","middle_name","last_name","gender","locale","link","username","email"];for(var o in i)e[i[o]]&&(t["facebook."+i[o]]=e[i[o]]);void 0===t["facebook.username"]&&(t["facebook.username"]=t["facebook.id"]),t=$.param(t),t=t.replace(/\+/g,"%20"),App.setIntegrationVariables(t),!1===App.popout.isInIframe()&&App.getWindowMode()===App.WINDOW_MINIMIZED||App.getState()===App.STATE_INVITATION||App.getState()===App.STATE_INVITATION_WITH_AGENT?App.prechatSurvey.startOnMaximize=!0:App.getState()!==App.STATE_CHATTING&&App.getState()!==App.STATE_QUEUE&&App.startChat({using_facebook_connect:!0,source:"facebook connect"})})},PrechatSurvey.prototype.showPrechatSurvey=function(e){App.prechatSurvey.displayView(),App.isNewMobile()&&App.scaleFacebookButton()},PrechatSurvey.prototype.onWindowOpened=function(){if(!App.supportsChatting())return void App.showView("not-working-cookies-and-local-storage");!1===this.isLoaded()?this.load():!0===this.hasFacebookConnect&&!0===this.startOnMaximize?App.startChat({source:"facebook connect"}):!1===this.isEnabled()?this.startChat():(!1===this.isDisplayed()&&this.displayView(),!0===this.facebookConnectLoaded&&(this.facebookConnectParsed=!0,FB.XFBML.parse()))},PrechatSurvey.prototype.getSource=function(){return App.displayedAutoInvitation?"automatic invitation with prechat":"prechat"},Assistly.prototype=new Integration,Assistly.prototype.constructor=Assistly,Assistly.prototype.show=function(e){var t=e.email||"",i='<div class="assistly">'+__tran("Assistly_ticket_created")+" "+__tran("Assistly_ticket_notification",{email:t})+"</div>";App.displayNewMessage({message:i,who:App.INTEGRATION}),App.getHistoryLoading()||App.request.sendJSON("send_message",{author:"system",message:__tran("Assistly_ticket_created")})},EmailTranscript.prototype=new Integration,EmailTranscript.prototype.constructor=EmailTranscript,EmailTranscript.prototype.FADE_OUT=1,EmailTranscript.prototype.HIDE_INSTANTLY=2,EmailTranscript.prototype.sent=!1,EmailTranscript.prototype.getHtml=function(){var e="";return e+='<div id="email_transcript"><a href="#" title="'+__tran("Send_transcript_to_email")+'"><span class="icon i-email icon-email"></span></a></div>'},EmailTranscript.prototype.getFormHtml=function(){var e="";return App.useLC2Theme()?e+='<div id="email_transcript_form" class="footer operators-bar"><form><label for="transcript_email_input">'+__tran("Send_transcript_to_email")+'</label><input value="" id="transcript_email_input" type="text" class="text"> <input type="submit" value="'+__tran("Send")+'"> <span class="cancel"> <span class="or">'+__tran("Button_link_or")+'</span> <a href="">'+__tran("Button_link_cancel")+'</a></span></form><div class="top-shadow"></div></div>':e+='<div id="email_transcript_form" class="footer operators-bar"><form><input value="" type="text" class="text"> <input type="submit" value="'+__tran("Send")+'"></form><div class="top-shadow"></div></div>',e},EmailTranscript.prototype.bind=function(){var e=this,t=App.$operatorsBar.find("#email_transcript"),i=App.$operatorsBar.find("#email_transcript_form"),o=i.find("input.text");App.tooltip.set($("#email_transcript a")),o.val(App.client.getEmail()),t.find("a").bind(App.clickEvent,function(){return App.$operatorsBar.find("#rate_me_feedback_form").is(":visible")&&App.rateMe.toggleForm(0),App.isNewMobile()&&$("#rating-and-transcript").hide(),$(this).find(".icon").toggleClass("i-email-focused focused"),$("body").toggleClass("email-transcript-form-visible",!i.is(":visible")),i.is(":visible")?(i.hide(),!1):(i.data("displayed_manually","1"),App.tooltip.hide(),i.show(),App.isNewMobile()&&e.sent&&setTimeout(function(){i.fadeOut()},4e3),App.isNewMobile()&&!App.isIOS()||o.focus().select(),!1)}),i.find("form .cancel a").bind(App.clickEvent,function(){if(App.$operatorsBar.find("#email_transcript .icon").removeClass("i-email-focused focused"),$("body").toggleClass("email-transcript-form-visible",!i.is(":visible")),i.is(":visible"))return i.hide(),App.isNewMobile()&&o.blur(),!1}),i.find("form").submit(function(){var t,n;return t=new EmailValidator,n=o.val(),!1===t.validate(n)?(App.notification.show({message:__tran("Invalid_email"),fadeOut:!0}),App.isNewMobile()||o.focus().select(),!1):!1!==App.request.send(["IWCS0069C",App.SESSION_ID,n,App.chat.getGUID(),"$",App.chat.getConferenceID()])&&(e.displayConfirmation(n,e.FADE_OUT),e.sent=!0,$("body").toggleClass("email-transcript-form-visible",!i.is(":visible")),App.focus(),!1)})},EmailTranscript.prototype.setEmail=function(e){this.email=e},EmailTranscript.prototype.getEmail=function(){return this.email},
EmailTranscript.prototype.displayConfirmation=function(e,t){var i,o;e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),i=App.$operatorsBar.find("#email_transcript_form"),o=App.$operatorsBar.find("#email_transcript"),i.html(""),i.append("<span>"+__tran("Chat_transcript_sent",{s:e})+'</span><div class="top-shadow"></div>'),i.addClass("transcript-email-set"),o.find(".i-email").removeClass("i-email").addClass("i-email-ok active"),t===this.FADE_OUT?(i.data("displayed_manually","0"),setTimeout(function(){"0"==i.data("displayed_manually")&&i.fadeOut()},4e3)):t===this.HIDE_INSTANTLY&&(i.data("displayed_manually","1"),i.hide())},Firefly.prototype=new Integration,Firefly.prototype.constructor=Firefly,Firefly.prototype.inited=function(e){return null!=e&&(this._inited=e),this._inited},Firefly.prototype.show=function(e){var t=e.link||"",i=e.sender||"",o=e.requestID||"",n='<div class="firefly" url="'+t+'" request-id="'+o+'"><p>'+__tran("Firefly_info",{sender:i})+'</p><p class="buttons"><button class="accept">'+__tran("Button_allow")+"</button> "+__tran("Button_link_or")+' <a href="#" class="cancel">'+__tran("Button_link_cancel")+"</a></p></div>";App.displayNewMessage({message:n,who:App.INTEGRATION}),$(".firefly:last button.accept:last").click(function(){var e=__tran("Firefly_session_started"),t=$(this).parent().parent().attr("request-id");$(this).parent().html(e),App.request.sendJSON("send_message",{author:"system",message:__tran("Firefly_session_started")}),App.notifyParent.send("firefly_request_url;"+encodeURIComponent(t))}),$(".firefly:last a.cancel:last").click(function(){var e=__tran("Firefly_session_rejected");return $(this).parent().html(e),!1})},Firefly.prototype.sendLinkToAgent=function(e,t){var i,o=['<?xml version="1.0" encoding="utf-8"?>',"<livechat_integration>","<api-version>1.0</api-version>","<name>firefly</name>","<version>1.0</version>","<result>","<success>1</success>","<actions>",'<action type="messagebox" name="Co-browsing session link" conferenceID="'+App.chat.getConferenceID()+'" url="'+e+'">',"<message>Open this link to start the co-browsing session: &#xA; "+e+"</message>","<box-type>info</box-type>","</action>","</actions>","</result>","</livechat_integration>"];o=o.join(""),i={name:"pass_on_to_chat_room",visitor_id:App.SESSION_ID,chat_room:parseInt(App.chat.getID(),10),data:App.escapeForIWCS("LCOP0024C-firefly-"+t+"-"+App.escapeForIWCS(o))},App.request.send(["IWCSJSONC",JSON.stringify(i)]),this.inited(!0)},Freshbooks.prototype=new Integration,Freshbooks.prototype.constructor=Freshbooks,Freshbooks.prototype.show=function(e){var t,i,o=e.amount||"",n=e.currency||"",r=e.link||"",a="";switch(n){case"USD":a="$"+o;break;case"EUR":a="€"+o;break;case"GBP":a="£"+o;break;default:a=o+" "+n}t='<div class="freshbooks">'+__tran("Freshbooks_invoice_created",{amount:a})+' <div class="buttons"><a href="'+r+'" target="_blank">'+__tran("Freshbooks_click_here")+"</a> "+__tran("Freshbooks_to_download")+"</div>",App.displayNewMessage({message:t,who:App.INTEGRATION}),App.getHistoryLoading()||(i=__tran("Freshbooks_invoice_created",{amount:a}),i=i.replace(/<\/?strong>/g,"").replace(/<br>/g,""),App.request.sendJSON("send_message",{author:"system",message:i}))},GoogleAnalytics.prototype=new Integration,GoogleAnalytics.prototype.constructor=GoogleAnalytics,GoogleAnalytics.prototype.setEnabled=function(e){Integration.prototype.setEnabled.call(this,e),App.notifyParent.send("ga_enabled;"+(e?"1":"0"))},GoogleAnalytics.prototype.trackPageView=function(e,t,i){var o,n;t=t||{},t.skill=App.SKILL,o=JSON.stringify(t),i=i||{},n=JSON.stringify(i),App.notifyParent.send("ga;"+encodeURIComponent(e)+";"+encodeURIComponent(o)+";"+encodeURIComponent(n))},JoinMe.prototype=new Integration,JoinMe.prototype.constructor=JoinMe,JoinMe.prototype.show=function(e){var t=e.link||"",i=e.sender||"",o='<div class="joinme" url="'+t+'"><p>'+__tran("Joinme_info",{sender:i})+'</p><p class="buttons"><button class="accept">'+__tran("Button_allow")+"</button> "+__tran("Button_link_or")+' <a href="#" class="cancel">'+__tran("Button_link_cancel")+"</a></p></div>";App.displayNewMessage({message:o,who:App.INTEGRATION}),$(".joinme:last button.accept:last").click(function(){var e=__tran("Joinme_session_started"),t=$(this).parent().parent().attr("url");$(this).parent().html(e),App.request.sendJSON("send_message",{author:"system",message:__tran("Joinme_session_started")}),window.open(t,"_blank")}),$(".joinme:last a.cancel:last").click(function(){var e=__tran("Joinme_session_rejected");return $(this).parent().html(e),App.request.sendJSON("send_message",{author:"system",message:__tran("Joinme_session_rejected")}),!1})},PushPage.prototype=new Integration,PushPage.prototype.constructor=PushPage,PushPage.prototype.REGEXP=/([^\.\/]+\.[^\/\.]+)(\/.*)?$/,PushPage.prototype.showConfirmation=function(e){var t,i,o=this,n=e.url||"",r=e.operator_id;t=App.getOperatorByID(r).getDisplayName(),i='<div class="pushpage" url="'+encodeURIComponent(n)+'"><p>'+__tran("Push_page_requested",{operator:t},!0)+"<br><strong>"+n+'</strong></p><p class="buttons"><button class="accept">'+__tran("Push_page_accept")+"</button> "+__tran("Push_page_or")+' <a href="#" class="cancel">'+__tran("Push_page_cancel")+"</a></p></div>",App.displayNewMessage({message:i,who:App.INTEGRATION}),$(".pushpage:last button.accept:last").click(function(){var e=__tran("Push_page_accepted"),t=decodeURIComponent($(this).parent().parent().attr("url"));$(this).parent().html(e),o.acceptPushedPage(t,r),window.open(t,"_blank")}),$(".pushpage:last a.cancel:last").click(function(){var e=__tran("Push_page_refused");return $(this).parent().html(e),o.rejectPushedPage(n,r),!1})},PushPage.prototype.showPushPageAccepted=function(){var e='<div class="pushpage">'+__tran("Push_page_accepted")+"</div>";App.displayNewMessage({message:e,who:App.INTEGRATION})},PushPage.prototype.showPushPageRefused=function(){var e='<div class="pushpage">'+__tran("Push_page_refused")+"</div>";App.displayNewMessage({message:e,who:App.INTEGRATION})},PushPage.prototype.push=function(e,t){var i,o,n,r;return!0===App.getHistoryLoading()||(!1===/^https?:\/\//.test(e)&&(e="http://"+e),null!==(i=e.match(this.REGEXP))&&(n=i[1],r=App.getParentUrl().match(this.REGEXP),r=!(!r||!r.length)&&r[1],n!=r?(App.pushPage.showConfirmation({url:e,operator_id:t}),!0):(App.windowsCommunicator.isMainWindow()?(this.acceptPushedPage(e,t),o=500):o=0,void setTimeout(function(){if(!1===App.recentWindow.isRecent())return!1;try{window.opener.location.href=e}catch(t){App.openURL(e)}},o))))},PushPage.prototype.acceptPushedPage=function(e,t){this.sendPushPageResult("1",e,t)},PushPage.prototype.rejectPushedPage=function(e,t){this.sendPushPageResult("0",e,t)},PushPage.prototype.sendPushPageResult=function(e,t,i){App.request.send(["IWCS0004P",App.chat.getID(),"LCOP0023C-"+App.SESSION_ID+"-"+App.escapeForIWCS(t)+"-"+e,App.SESSION_ID,App.chat.getGUID()])},RateMe.prototype=new Integration,RateMe.prototype.constructor=RateMe,RateMe.prototype.NOT_RATED=0,RateMe.prototype.RATED_BAD=1,RateMe.prototype.RATED_GOOD=2,RateMe.prototype.OMIT_MESSAGE=!0,RateMe.prototype.RATE_LIMIT=500,RateMe.prototype.setLatestVote=function(e){this.latestVote=e},RateMe.prototype.getLatestVote=function(){return this.latestVote},RateMe.prototype.getHtml=function(){return'<div id="rating">'+this.getBadRateHTML()+this.getGoodRateHTML()+"</div>"},RateMe.prototype.getGoodRateHTML=function(e){return e=e||{},'<a class="rating-button rate-good" href="#" title="'+__tran("Rate_me_good_tooltip").replace(/"/g,"&quot;")+'"><span class="rate-good"><span class="icon-thumbs-up"></span>'+(e.dontIncludeText?"":__tran("Rate_me_good"))+"</span></a>"},RateMe.prototype.getBadRateHTML=function(){return'<a class="rating-button rate-bad" href="#" title="'+__tran("Rate_me_bad_tooltip").replace(/"/g,"&quot;")+'"><span class="icon-thumbs-down"></span></a>'},RateMe.prototype.getFormHtml=function(){var e="";return e+='<div id="rate_me_feedback_form" class="footer operators-bar"><form><label for="rate_me_feedback_message">'+__tran("Rate_me_add_comment")+'</label><textarea id="rate_me_feedback_message" class="text" placeholder="'+__tran("Rate_me_placeholder")+'"></textarea><input type="submit" value="'+__tran("Button_add_feedback")+'"> <span class="cancel"> <span class="or">'+__tran("Button_link_or")+'</span> <a href="#">'+__tran("Button_link_skip")+'</a></span></form><div class="top-shadow"></div></div>'},RateMe.prototype.bind=function(){var e=this,t=App.$operatorsBar.find("#rate_me_feedback_form");t.find("textarea.text");App.tooltip.set($("#rating a")),App.$operatorsBar.find(".rate-good").bind(App.clickEvent,function(){var t=e.vote("good");return!1!==t&&(e.displayRate(t),!1)}),App.$operatorsBar.find(".rate-bad").bind(App.clickEvent,function(){var t=e.vote("bad");return!1!==t&&(e.displayRate(t),!1)}),t.find(".cancel a").bind(App.clickEvent,function(){if(t.is(":visible"))return e.toggleForm(0),App.isNewMobile()&&$email.blur(),App.focus(),!1}),t.find("form").keyup(function(){var e=App.$operatorsBar.find("#rate_me_feedback_form input[type=submit]");$.trim(App.$operatorsBar.find("#rate_me_feedback_message").val()).length>0?e.removeAttr("disabled"):e.attr("disabled","disabled")}),t.find("form").submit(function(){var t=App.$operatorsBar.find("#rate_me_feedback_message").val();return e.latestVoteComment=t,e._sendRatingComment(t),e.displayRatingComment(t),App.focus(),!1})},RateMe.prototype.displayRate=function(e,t){var i,o=App.$operatorsBar.find(".rate-good"),n=App.$operatorsBar.find(".rate-bad");switch(i={},i[this.NOT_RATED]=__tran("Rate_me_cancel"),i[this.RATED_GOOD]=__tran("Rate_me_confirmation_good"),i[this.RATED_BAD]=__tran("Rate_me_confirmation_bad"),e=parseInt(e,10)){case this.NOT_RATED:o.removeClass("rated-good"),n.removeClass("rated-bad"),o.attr("title",__tran("Rate_me_good_tooltip")),n.attr("title",__tran("Rate_me_bad_tooltip"));break;case this.RATED_GOOD:o.addClass("rated-good"),n.removeClass("rated-bad"),o.attr("title",__tran("Rate_me_cancel_tooltip")),n.attr("title",__tran("Rate_me_bad_tooltip"));break;case this.RATED_BAD:o.removeClass("rated-good"),n.addClass("rated-bad"),o.attr("title",__tran("Rate_me_good_tooltip")),n.attr("title",__tran("Rate_me_cancel_tooltip"))}"postmodern"===App.THEME||App.isNewMobile()||(App.tooltip.set(o),App.tooltip.set(n)),"undefined"!==t&&t===this.OMIT_MESSAGE||(App.displayNewMessage({message:i[e],who:App.SYSTEM}),this.toggleForm(e)),this.latestVote=e},RateMe.prototype.displayRatingComment=function(e){e=App.parseIncomingMessage(e),e=' <span class="rating-comment">'+e+"</span>";var t=__tran("Rate_me_comment_added").replace("%comment%",e);this.toggleForm(0),App.displayNewMessage({message:t,who:App.SYSTEM})},RateMe.prototype.toggleForm=function(e){if(!0===App.getHistoryLoading())return!1;App.$operatorsBar.find("#email_transcript_form").is(":visible")&&(App.$operatorsBar.find("#email_transcript .icon").removeClass("i-email-focused focused"),App.$operatorsBar.find("#email_transcript_form").hide()),App.$operatorsBar.find("#rate_me_feedback_message").val(""),App.tooltip.hide(),e?(e===this.RATED_BAD?App.$operatorsBar.find("label[for=rate_me_feedback_message]").text(__tran("Rate_me_add_comment")):e===this.RATED_GOOD&&App.$operatorsBar.find("label[for=rate_me_feedback_message]").text(__tran("Rate_me_add_comment")),App.$operatorsBar.find("#rate_me_feedback_form").show(),App.isNewMobile()&&!App.isIOS()||App.$operatorsBar.find("#rate_me_feedback_message").focus(),App.$operatorsBar.find("#rate_me_feedback_form input[type=submit]").attr("disabled","disabled")):(App.$operatorsBar.find("#rate_me_feedback_form").hide(),"ontouchstart"in window==!1&&$("#message").focus()),$("body").toggleClass("rate-comment-form-visible",$("#rate_me_feedback_form").is(":visible"))},RateMe.prototype.vote=function(e){return!!this.checkIfRateAllowed()&&(this.latestVoteTimestamp=+new Date,"good"===e&&this.isRatedGood()||"bad"===e&&this.isRatedBad()?(this._sendOperatorRating("none"),this.NOT_RATED):"good"===e?(this._sendOperatorRating("good"),this.RATED_GOOD):"bad"===e?(this._sendOperatorRating("bad"),this.RATED_BAD):"none"===e?(this._sendOperatorRating("none"),this.NOT_RATED):void 0)},RateMe.prototype._sendRatingComment=function(e){App.notifyParent.send("rating_comment_sent;"+e),App.request.sendJSON("send_rating_comment",{comment:e,conference_id:App.chat.getConferenceID()})},RateMe.prototype._sendOperatorRating=function(e){var t;t={none:this.NOT_RATED,good:this.RATED_GOOD,bad:this.RATED_BAD},this.setLatestVote(t[e]),App.notifyParent.send("rating_sent;"+e),App.request.send(["IWCS0113C",App.SESSION_ID,App.chat.getConferenceID(),this.getLatestVote()])},RateMe.prototype.checkIfRateAllowed=function(){return!(+new Date-this.latestVoteTimestamp<this.RATE_LIMIT)},RateMe.prototype.isRatedGood=function(){return this.getLatestVote()===this.RATED_GOOD},RateMe.prototype.isRatedBad=function(){return this.getLatestVote()===this.RATED_BAD},Zendesk.prototype=new Integration,Zendesk.prototype.constructor=Zendesk,Zendesk.prototype.show=function(e){var t=e.email||"",i='<div class="zendesk">'+__tran("Zendesk_ticket_created")+" "+__tran("Zendesk_ticket_notification",{email:t})+"</div>";App.displayNewMessage({message:i,who:App.INTEGRATION}),App.getHistoryLoading()||App.request.sendJSON("send_message",{author:"system",message:__tran("Zendesk_ticket_created")})},EmailValidator.prototype=new Validator,EmailValidator.prototype.constructor=EmailValidator,EmailValidator.prototype.validate=function(e){return this.regexp.test(e)},Invitation.prototype.isAllowed=function(){return null===App.getState()||App.getState()===App.STATE_PRE_CHAT||App.getState()===App.STATE_CHAT_ENDED},Invitation.prototype.getHTMLContent=function(){var e=__tran("Embedded_invitation_accept");App.LC2&&(e=e.toLowerCase());var t="";return t+=["<table><tr><td>","<form>",'<div id="invitation">','<p id="invitation-message">'+this.message+"</p>",'<p id="invitation-buttons"><span class="btn"><a href="#" id="accept-chat">'+e+'</a></span><span class="cancel">'+__tran("Button_link_or")+' <a href="#" id="cancel-chat">'+__tran("Embedded_invitation_refuse")+"</a></span></p>","</div>","</form>","</td></tr></table>"].join("\n")},Invitation.prototype.bindButtons=function(){$("#accept-chat").click(function(){return App.chat.getStarted()?(App.reloadWindow(),!1):(App.showLoadingIndicator(),App.getPreviousState()===App.STATE_OFFLINE?App.offlineForm.load():App.prechatSurvey.load(),!1)}),$("#cancel-chat").click(function(){return App.refuseInvitation(),!1})},Invitation.prototype.surveyAfterGreeting=function(){return App.prechatSurveyAfterInvitation()},Invitation.prototype.display=function(e){App.setState(App.STATE_INVITATION),this.message=e,$("#view-invitation").html(this.getHTMLContent()),this.bindButtons(),App.hideOperatorsBar(),App.showView("invitation")},Invitation.prototype.displayWithAgent=function(e,t,i){App.notifyParent.send("autoinvitation_data;"+encodeURIComponent(e)+";"+encodeURIComponent(JSON.stringify(t))),App.setState(App.STATE_INVITATION_WITH_AGENT),App.removeAllOperators(),App.addOperator({id:t.login,display_name:t.name,job_title:t.job_title,avatar_url:t.avatar_url}),App.updateOperatorsInfoBar(),this.surveyAfterGreeting()||App.showTextarea(),App.clearMessages(),e=App.parseIncomingMessage(e,{greeting:!0}).replace(/%agent%/g,t.name),App.displayNewMessage({message:e,who:App.OPERATOR,operator_id:t.login,timestamp:Math.round(+new Date/1e3)}),App.getState()===App.STATE_QUEUE&&(App.startPing(),App.disableTextarea()),App.displayChatView(),this.surveyAfterGreeting()&&App.showGreetingSurveyButton(),i&&App.$message.focus()};var App={CONFIG:null,VERSION:"Embedded",DEBUG:"object"==typeof Debug,DEBUGGED_LICENSES:[],PROTOCOL:"https://",SERVER_ADDRESS:null,LANG:null,SKILL:null,LICENSE:null,SESSION_ID:null,SECRET_ID:null,THEME:null,OPERATORS_ONLINE:null,LC2:null,BETA:null,CLIENT_LIMIT_EXCEEDED:!1,API_ADDRESS:"https://api.livechatinc.com",QUEUE_ADDRESS:"queue.livechatinc.com",SOURCE_INVITATION:!1,CLIENT:0,OPERATOR:1,SYSTEM:2,INTEGRATION:3,CHAT_MODE_QUEUE:0,CHAT_MODE_SINGLE:1,CHAT_MODE_CONFERENCE:2,CHAT_MODE_FINISHED:3,WINDOW_MINIMIZED:0,WINDOW_MAXIMIZED:1,WINDOW_POPOUT:2,windowMode:0,re:{creditCards:/\b(?:\d[ -]*?){9,12}((?:\d[ -]*?){4})\b/g},cauliflowerOpts:{},state:null,previousState:null,STATE_DONT_NOTIFY_PARENT:!1,STATE_OFFLINE:0,STATE_PRE_CHAT:1,STATE_QUEUE:2,STATE_CHATTING:3,STATE_POST_CHAT:4,STATE_CHAT_ENDED:5,STATE_INVITATION:6,STATE_INVITATION_WITH_AGENT:7,DO_NOT_UPDATE_SCROLL:!1,TRIGGER_UNIQUE_ID:"",lastActivity:null,maximumActivityTime:1800,lastStatePingTime:0,_parentWindowFocused:null,messages:[],parentCommunicationInited:!1,uniqueID:null,uniqueIDLength:8,pingObserver:null,stateChangedObserver:null,$textarea:null,$surveyAfterGreeting:null,$operatorsContainer:null,$operatorsBar:null,$message:null,$messageWrapper:null,$bodyContainer:null,$body:null,$titleContainer:null,$titleText:null,$title:null,$footerContainer:null,$footer:null,$social:null,$typingIndicator:null,$typingIndicatorDots:null,$sound:null,selectorsSetUp:!1,_supports3rdPartyCookies:null,hasAudioSupport:!!document.createElement("audio").canPlayType,previousSoundTime:0,template:null,request:null,lang:null,client:null,chat:null,integrationVariables:"",operators:[],lastMessageAuthorType:null,lastMessageAuthorOperatorID:null,lastMessageTime:null,lastMaximizeTime:0,lastClientTypingStatus:null,lastClientKeypressTime:null,clientTypingObserverId:null,typingIndicatorAnimationObserver:null,typingIndicatorDotsCounter:0,mobileFooterOffset:0,trackingIsNewMobile:null,tabIsActive:null,chatIFrameIsActive:null,socialNetworks:{displayed:!1},_soundPreloadedOnMobile:!1,_chatBetweenGroups:!1,pageUnloaded:!1,jsErrorsCount:0,jsPrevErrorTimestamp:0,jsPreviousError:null,clickEvent:"click",mobileBackground:!1,queuedUrlDetails:[],userAgent:null,isSafari:function(){return-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")}(),ratingAndTranscriptDisabled:!0,browser:function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:parseInt(t[2])||"0"},o={};return i.browser&&(o[i.browser]=!0,o.version=i.version),o.chrome?o.webkit=!0:o.webkit&&(o.safari=!0),o}(navigator.userAgent),scriptVersion:{embedded_env:"production",embedded_version:"20181114111011"},regexp:{},getFeatureValue:function(e){var t=App.CONFIG&&Utils.isArray(App.CONFIG.custom_licence_properties)&&App.CONFIG.custom_licence_properties;if(t){var i=Utils.find(t,function(e){return"chat_widget_features"===e.category});return i&&i.properties?i.properties[e]:void 0}},isAmplitudeDisabled:function(){return!0},shouldTrackToAmplitude:function(){if(this.isAmplitudeDisabled())return!1;var e=Store.get("__lc_amplitude",{storage:"localStorage"});if("true"===e)return!0;if("false"===e)return!1;var t=Math.random()<=1e-5||100000334===App.LICENSE;return Store.set("__lc_amplitude",t,{storage:"localStorage"}),t},shouldTrackFirstTimeInit:function(){var e=0===parseInt(App.CONFIG.visitor.visit_number,0);return this.shouldTrackToAmplitude()&&e},getLicenseNumber:function(){var e,t=document.location.toString();return null!=(e=t.match(/licence\/g?(\d+)/))?parseInt(e[1],10):null!=(e=t.match(/license=(\d+)/))?parseInt(e[1],10):(App.DEBUG&&alert("License number not provided.\nAppend ?license=... to the URL."),!1)},getServerAddress:function(){var e=$.getUrlParam("server");return e||("1520"===String(App.LICENSE)?"secure-lc.livechatinc.com":"secure.livechatinc.com")},getSkillNumber:function(){var e;return e=document.location.toString().match(/groups=(\d+)/),null==e?0:parseInt(e[1],10)},setUserAgent:function(){navigator&&navigator.userAgent&&(App.userAgent=navigator.userAgent)},isEmbedded:function(){return null!==$.getUrlParam("embedded")},preload:function(){if(App.LICENSE=this.getLicenseNumber(),!App.LICENSE)return!1;Store.setModifyKeyFn(this.getStorageKey),App._chatBetweenGroups=this.calculateChatBetweenGroupsValue(),App.SERVER_ADDRESS=this.getServerAddress(),App.SKILL=this.getSkillNumber(),App.notifyParent=NotifyParent,App.popout=new PopOut,App.observers=new Observers,App.request=new Request,App.chat=new Chat,App.file=new File,App.draggable=new Draggable,App.client=new Client,App.tooltip=new Tooltip,App.shortener=new Shortener,App.notification=new Notification,App.windowsCommunicator=new WindowsCommunicator,App.windowsCommunicator.init(),App.recentWindow=new RecentWindow,App.recentWindow.init(),App.readMessage=new ReadMessage,App.invitation=new Invitation,App.prechatSurvey=new PrechatSurvey,App.postchatSurvey=new PostchatSurvey,App.offlineForm=new OfflineForm,App.queuedForm=new QueuedForm,App.rateMe=new RateMe,App.emailTranscript=new EmailTranscript,App.freshbooks=new Freshbooks,App.zendesk=new Zendesk,App.assistly=new Assistly,App.joinme=new JoinMe,App.firefly=new Firefly,App.pushPage=new PushPage,App.googleAnalytics=new GoogleAnalytics,App.ga=App.googleAnalytics,App.events=new Events,App.setUserAgent(),App.notifyParent.init(),App.parallel=Parallel,App.setupSessionID(),App.isDirectLink()?this._preloadedDirectLink():App.isEmbedded()?this._preloadedEmbedded():this._preloadedPopup()},requestConfig:function(e,t,i,o,n,r,a,s){var r="//"+App.SERVER_ADDRESS,p=[].slice.call(arguments),l={},c={},d="",u=e.match(/[^.]*/)[0],f=function(e){return void 0!==e.error?s("error",e):(Utils.get(e,"embedded_chat.hide_when_offline")&&App.setSkillFormDisabledFlag(App.SKILL,e.embedded_chat.hide_when_offline),Utils.get(e,"global_properties")&&App.parseGlobalProperties(e.global_properties),s(null,e))},h=function(){App.scriptDataError||(App.scriptDataError=!0,App.requestConfig.apply(App,p))};App.requestsDistributor&&App.requestsDistributor[u]&&(d="v2/"),"get_dynamic_config"===e&&-1===App.SERVER_ADDRESS.indexOf("-fra")&&(d="v2/"),r+=!1===a&&void 0!==i?"/licence/g"+t+"_"+i+"/"+d+e+".js":"/licence/"+t+"/"+d+e+".js",void 0!==i&&(l.groups=i),"get_dynamic_config"===e?Utils.extend(l,{t:+new Date,referrer:encodeURIComponent(IncorrectCharactersStripper.strip(n)),url:encodeURIComponent(document.location),params:encodeURIComponent(CustomVariablesParser.getArrayByString(o)),jsonp:"?"}):(Utils.extend(c,{cache:!0,jsonpCallback:"static_config_callback"}),l.jsonp="?",window.static_config_callback=f),r=r+"?"+Utils.encodeQueryParams(l),Utils.extend(c,{url:r,dataType:"jsonp",error:h,success:f}),$.ajax(c)},requestLangPhrases:function(e,t){var i=[].slice.call(arguments);$.ajax({url:"//"+App.SERVER_ADDRESS+e+"?jsonp=?",dataType:"jsonp",success:function(e){if(void 0!==e.error)return t("error");t(null,e)},error:function(){App.langPhrasesError||(App.langPhrasesError=!0,App.requestLangPhrases.apply(App,i))}})},requestConfigAndLang:function(e){var t,i=this,o=function(i,o){if(i)return"incorrect region"===o.error&&o.region&&(App.SERVER_ADDRESS=Utils.getServiceAddress("secure",App.SERVER_ADDRESS,o.region),App.API_ADDRESS=Utils.getServiceAddress("api",App.API_ADDRESS,o.region),App.QUEUE_ADDRESS=Utils.getServiceAddress("queue",App.QUEUE_ADDRESS,o.region),App._loadConfig(e)),App.popout.isPopOut()&&"License expired"===o.error&&window.location.replace("https://www.livechatinc.com/powered-by-livechat/?utm_source=expired_chat_link&utm_medium=referral&utm_campaign=expired"),!1;var r=o.static_config_version,a="get_static_config."+App.SKILL+"."+r,s=function(){App.requestConfig(a,App.LICENSE,App.SKILL,$.getUrlParam("params"),document.referrer,document.location,App.chatBetweenGroups(),n)},p=function(){$.ajax({url:"https://accounts.livechatinc.com/licence/"+App.LICENSE,dataType:"jsonp",success:s,error:s})};if(t=o,App.requestsDistributor&&App.requestsDistributor.accounts&&!1!==App.chatBetweenGroups()){if(Utils.callOnceEveryHours(p,8,"lc_sso",Store.set,Store.get))return}s()},n=function(o,n){if(o)return!1;App.CONFIG=Utils.extend({},n,t),App.CONFIG.status=Utils.isSkillOnline(App.CONFIG.visitor.groups,App.CONFIG.skills_online)?"online":"offline",App.CONFIG.chat_window=Utils.parseChatWindowTheme(App.CONFIG),void 0!==App.CONFIG.t&&!1===App.CONFIG.t&&App.parseGlobalProperties(App.CONFIG.global_properties,!0),e&&e(n),App.setSkillFormDisabledFlag(App.SKILL,App.CONFIG.embedded_chat.hide_when_offline),i.requestLangPhrases(n.localization_url,function(e,t){if(e)return!1;i.setLangPhrases(t.localization)})};App.requestConfig("get_dynamic_config",App.LICENSE,App.SKILL,$.getUrlParam("params"),document.referrer,document.location,App.chatBetweenGroups(),o)},_loadConfig:function(e){var t=this;void 0===e&&(e=function(){});var i=function(t){App.popout.isInIframe()&&t.domain_whitelist&&t.domain_whitelist.length&&!1===Utils.checkDomainWhitelist(t.domain_whitelist,App.popout.getParentHostname())||e(t)};!1===App.chatBetweenGroups()?App.requestConfig("get_dynamic_config",App.LICENSE,App.SKILL,$.getUrlParam("params"),document.referrer,document.location,App.chatBetweenGroups(),function(e,o){if(e)return!1;App.SKILL=o.visitor.groups,t.requestConfigAndLang(i)}):t.requestConfigAndLang(i)},_initPing:function(e){return this.pinger=Pinger.init({config:App.CONFIG,app:App,chatBetweenGroups:this.chatBetweenGroups(),hostname:App.CONFIG.serv,skill:App.SKILL,embedded:e,pingRatio:this.pingRatio,newWebserv:App.requestsDistributor&&App.requestsDistributor.ping})},_preloadedPopup:function(){var e,t=this,i=(new Date).getTime();this._loadConfig(function(){t._initPing(!1),e=(new Date).getTime()-i,t.trackFirstTimeInit(e)})},_preloadedDirectLink:function(){var e=this;this._loadConfig(function(t){var i=t.license_properties.lc_version;if(!Utils.weakEq(i,2)&&!Utils.weakEq(i,1))return Store.set("__lc_vv",i,{storage:"cookie"}),void window.location.reload(!0);e._initPing(!1).set_force_reload(!0)})},_preloadedEmbedded:function(){Store.set("__lc_vv",2,{storage:"cookie"}),"1"===$.getUrlParam("langSkillUpdated")?this._loadConfig():(App.notifyParent.send("load_window_config"),App.notifyParent.send("load_languages"))},init:function(){if(!0!==Translate.getLangPhrasesDefined()||!this.isEmbedded()&&!this.pinger)return setTimeout(function(){App.init()},100),!1;App.setWindowConfig(),this.isEmbedded()||this.pinger.ping(),Translate.init(),$("head").html(Template.get("head")),$("body").html(Template.get("body"));var e=function(){App.$bodyContainer=$("#body-container"),App.$body=$("#body"),App.$bodyInner=$("#body-inner"),App.$operatorsContainer=$("#operators td"),App.$operatorsBar=$("#operators .wrapper"),App.$textarea=$("#textarea"),App.$surveyAfterGreeting=$("#survey-after-greeting"),App.$typingIndicator=$("#typing-indicator"),App.$typingIndicatorDots=App.$typingIndicator.find(".typing-dots"),App.$message=$("#message"),App.$messageWrapper=$("#message-wrapper"),App.$titleContainer=$("#title-container td"),App.$titleText=$("#title-text"),App.$title=$("#title"),App.$footerContainer=$("#footer"),App.$footer=$("#footer td"),App.$social=$("#social"),App.selectorsSetUp=!0,App.readMessage.init(),App.preloadSurveys(),App.displaySocialNetworks();var e=function(){App.updateBodyHeight({force:!0})?App.onInit():setTimeout(e,100)};e(),App.isMobile()&&(App.$footer.remove(),App.bindMobileLinkClick()),App.isNewMobile()&&(App.clickEvent="ontouchend"in window?"touchend click":"click",$("#wrapper").addClass("minimized"),$("#message-placeholder").remove(),$("#wrapper").css("margin-top","4rem")),App.requireLibConfig(),App.bindWindowResize(),App.bindTimeHover(),App.bindSendMessageEvent(),App.bindMinimizeButton(),("postmodern"===App.THEME||App.isNewMobile())&&App.bindHamburgerMenu(),App.bindMinimizeOnEscape(),App.bindCloseChatButton(),App.bindTextareaFocus(),App.bindTextareaPlaceholderClick(),App.bindTextareaRememberMessage(),App.bindSurveyAfterGreeting(),App.bindChatIFrameFocus(),App.bindChatScrolling(),App.addOtherBodyClasses(),App.runClientIsTypingObserver(),App.draggable.set(App.$titleContainer),App.prechatSurveyAfterInvitation()||App.hideGreetingSurveyButton()};setTimeout(e,10)},supports3rdPartyCookies:function(){return null!==this._supports3rdPartyCookies?this._supports3rdPartyCookies:(this._supports3rdPartyCookies=Store.supports3rdPartyCookies(),this._supports3rdPartyCookies||Store.supportsLocalStorage()||this.notifyParent.send("supports_chatting;false"),this._supports3rdPartyCookies)},preloadSurveys:function(){App.CONFIG.pre_chat_survey&&App.prechatSurvey.parseJSON(App.CONFIG.pre_chat_survey),App.CONFIG.offline_form&&App.offlineForm.parseJSON(App.CONFIG.offline_form)},supportsLocalStorage:function(){return Store.supportsLocalStorage()},alert:function(e){if(!0!==App.DEBUG)return!1;window.alert(e)},setState:function(e,t){switch(App.previousState=App.state,App.state=e,App.state===App.STATE_CHATTING?this.addBodyClass("state-chatting"):(this.removeBodyClass("state-chatting"),App.unBindDragAndDrop()),void 0!==t&&!1===t||App.notifyParentAboutState(e),App.state){case App.STATE_OFFLINE:case App.STATE_CHAT_ENDED:case App.STATE_POST_CHAT:App.chat.setInitializing(!1)}App.state===App.STATE_PRE_CHAT?App.setTitle(__tran("Welcome_title")):App.state===App.STATE_OFFLINE&&App.setTitle(__tran("Embedded_leave_message"))},getState:function(){return App.state},getStateString:function(){return["offline","prechat","queue","chatting","post chat","chat ended","invitaiton","invitation with agent"][this.getState()]},getPreviousState:function(){return App.previousState},notifyParentAboutState:function(e){App.notifyParent.send("state;"+e)},addBodyClass:function(e){$("body").addClass(e)},bodyHasClass:function(e){return $("body").hasClass(e)},removeBodyClass:function(e){$("body").removeClass(e)},addOtherBodyClasses:function(){App.isMobile()&&$("body").addClass("mobile")},isMobileDetected:function(){return App.userAgent&&/mobile/gi.test(App.userAgent)},isMobile:function(){return!this.isNewMobile()&&this.isMobileDetected()},isNewMobile:function(){return!0!==App.popout.isPopOut()&&App.CONFIG.chat_window.beta&&App.LC2&&!App.popout.isInIframe()&&this.isMobileDetected()&&!this.isWindowsPhone()&&!this.isOldAndroid()&&App.getTrackingdIsNewMobile()&&(/(Chrome).*(Mobile)/gi.test(App.userAgent)||/(Android).*/gi.test(App.userAgent)||/(iPhone|iPod).*Apple.*Mobile/g.test(App.userAgent)||/(Android).*(Mobile)/gi.test(App.userAgent))},setTrackingdIsNewMobile:function(e){var t="true"===e;App.trackingIsNewMobile=t},getTrackingdIsNewMobile:function(){return!(!1===App.trackingIsNewMobile)},getAppleWebkitVersion:function(){var e=new RegExp(/AppleWebKit\/([\d.]+)/);return null===e.exec(App.userAgent)?null:parseFloat(e.exec(App.userAgent)[1])},getChromeVersion:function(){var e=new RegExp(/Chrome|CriOS\/([\d.]+)/);return null===e.exec(App.userAgent)?null:parseFloat(e.exec(App.userAgent)[1])},isWindowsPhone:function(){return App.userAgent&&/Windows Phone/gi.test(App.userAgent)},isIOS:function(){return App.userAgent&&!this.isWindowsPhone()&&/(?!.*IEMobile).*(iPad|iPhone|iPod)/g.test(App.userAgent)},isIOS8:function(){return App.userAgent&&/Apple(?!.*CriOS).*Mobile/g.test(App.userAgent)&&(/OS 8_/g.test(App.userAgent)||/Version\/8\./g.test(App.userAgent))},isIOS7:function(){return App.userAgent&&/Apple(?!.*CriOS).*Mobile/g.test(App.userAgent)&&(/OS 7_/g.test(App.userAgent)||/Version\/7\./g.test(App.userAgent))},isSafari:function(){return App.userAgent&&-1!==App.userAgent.indexOf("Safari")},isDesktopSafari:function(){return-1!=App.userAgent.indexOf("Safari")&&-1==App.userAgent.indexOf("Chrome")},isiOSSafari:function(){return App.userAgent&&/(iPad|iPhone|iPod).*Apple(?!.*CriOS).*Mobile/g.test(App.userAgent)},isFirefox:function(){return App.userAgent&&-1!==App.userAgent.indexOf("Firefox")},isiOSChrome:function(){return App.userAgent&&/(iPad|iPhone|iPod).*Apple.*CriOS/g.test(App.userAgent)},getAndroidVersion:function(){var e=App.userAgent.toLowerCase(),t=e.match(/android\s([0-9\.]*)/);return!!t&&t[1]},isAndroid:function(){return App.userAgent&&/android/gi.test(App.userAgent)},isSamsung:function(){return App.userAgent&&/samsung/i.test(App.userAgent)},isOldAndroid:function(){if(!this.isAndroid())return!1
;var e=(parseInt(App.getAndroidVersion(),10),parseFloat(App.getAndroidVersion()));return App.userAgent&&App.isAndroid()&&e<4.4&&(App.getAppleWebkitVersion()<537||App.isSamsung())},soundPreloadedOnMobile:function(e){if(null==e)return this._soundPreloadedOnMobile;this._soundPreloadedOnMobile=e},calculateChatBetweenGroupsValue:function(){return-1===document.location.toString().indexOf("unique_group=1")},chatBetweenGroups:function(e){if(null==e)return this._chatBetweenGroups;this._chatBetweenGroups=e},getStorageKey:function(e){return!App.supports3rdPartyCookies()&&App.supportsLocalStorage()&&(e+=".license"+App.LICENSE),!1===App.chatBetweenGroups()?e+".group"+(App.SKILL||0):e},getWindowHeight:function(e){return $("body").height()},updateBodyHeight:function(e){if(!App.selectorsSetUp)return!1;var t=!1,i=App.getWindowHeight(e),o=App.isNewMobile();App.isIOS(),App.isiOSSafari();return i-=parseInt($("#wrapper").css("border-top-width"),10),i-=parseInt($("#wrapper").css("padding-top"),10),i-=parseInt($("#wrapper").css("margin-top"),10),i-=parseInt($("#body").css("margin-bottom"),10),i-=App.$titleContainer.outerHeight(),App.$footer.is(":visible")&&(i-=App.$footer.outerHeight()),App.$operatorsContainer.is(":visible")&&(i-=App.$operatorsContainer.outerHeight()),App.$textarea.is(":visible")&&(App.isMobile()&&!App.popout.isInIframe()?i-=App.$messageWrapper.outerHeight()+1:i-=App.$textarea.outerHeight()),App.$surveyAfterGreeting.is(":visible")&&(i-=App.$surveyAfterGreeting.outerHeight()),i>10&&!o?(App.$body.height(i),t=!0):o&&(i=Math.max(1.6*$("#textarea-wrapper").height(),i),App.$body.height(i),t=!0),App.isMobile()&&$("#textarea-wrapper").data("resized")&&this.calculateTextareaWrapperWidth(),App.state===App.STATE_CHATTING&&App.scrollBottom(),t},updateFontHeight:function(e){$("html").css("font-size",e+"px"),App.scaleFacebookButton()},calculateTextareaWrapperWidth:function(){$("#textarea-wrapper").css({width:$("#message-wrapper").outerWidth()-$(".btn-send").outerWidth()-4})},requireLibConfig:function(){require.config({waitSeconds:5})},bindWindowResize:function(){var e,t={};$(window).on("resize",function(i){if(clearTimeout(e),t.programatically)return void(t.programatically=!1);e=setTimeout(function(){App.updateBodyHeight(),App.isPopOut()&&App.isDesktopSafari()&&window.resizeTo&&(t.programatically=!0,window.resizeTo(window.outerWidth+1,window.outerHeight+1)),App.isMobile()&&setTimeout(App.updateBodyHeight,400)},200)})},bindTimeHover:function(){$("#view-chat").on("mouseenter mouseleave","p",function(e){var t="mouseenter"===e.type,i=$(this);if(i.hasClass("same-author"))var o=i.prevUntil(":not(.same-author)"),n=$(o[o.length-1]||i).prev();var r=i.nextUntil(":not(.same-author)");i.add(n).add(o).add(r).find(".time").toggleClass("visible",t)})},bindMobileLinkClick:function(){$("#view-chat").on("mouseenter mouseleave","p a",function(e){e.stopPropagation()})},bindTextareaResize:function(){App.isMobile()&&(this.calculateTextareaWrapperWidth(),$("#textarea-wrapper").data("resized",!0),App.updateBodyHeight()),App.$message.autogrow()},renderView:function(e,t){$("#view-"+e).html(t)},showView:function(e){App.viewShown=e;var t=$("#view-"+e);App.$body.find(".view").hide(),App.hideGreetingSurveyButton(),App.notification.hide(),t.show(),App.displayBody()},displayView:function(e,t){this.renderView(e,t),this.showView(e)},viewIsVisible:function(e){$("#view-"+e).is(":visible")},clearChatMessages:function(){$("#view-chat").find("p.system, p.operator, p.client, p.integration").remove(),App.lastMessageAuthorType=null,App.lastMessageAuthorOperatorID=null},clearSystemMessages:function(){$("#view-chat").find("p.system").remove(),App.lastMessageAuthorType=null,App.lastMessageAuthorOperatorID=null},displayChatView:function(){return this.showOperatorsBar(),"queued-form"===this.viewShown&&App.playSound(),this.showView("chat"),this.supportsChatting()?this:(this.notWorkingCookiesAndLocalStorage(),!1)},supportsChatting:function(){return Store.supports3rdPartyCookies()||Store.supportsLocalStorage()},viewIsVisible:function(e){return $("#view-"+e).is(":visible")},hideView:function(e){App.$body.find("#view-"+e).hide()},displayInformation:function(e){App.hideOperatorsBar(),App.hideTextarea(),App.displayView("information","<p>"+e+"</p>")},tryToContinueChat:function(){"1"!==App.chat.running()&&"1"!==App.chat.waitingInQueue()?App.request.omitFirstPing():App.sendSinglePing()},onInit:function(){App.sendToMobileNativeWrapper({messageType:"uiReady"}),App.catchJavaScriptErrors(),App.setupSecretID(),App.lastActivity=App.getTimestamp(),App.updateLayoutBasedOnConfiguration(),App.tryToContinueChat(),App.resizeTooSmallWindow(),App.bindMinimize(),App.intelligentPoweredByLink(),App.mobileDevicesHacks(),App.setupTriggerUniqueID(),$(window).on("load",function(){App.preloadSound()}),"complete"===document.readyState&&App.preloadSound(),App.bindUnloadEvent()},catchJavaScriptErrors:function(){var e,t,i=this;e=function(){var e,t,i;return i={UAChrome:/(chrome)[ Chrome\/]([\w.]+)?/,UAwebkit:/(safari)[ \/]([\w.]+)/,UAopera:/(opera)(?:.*version)?[ \/]([\w.]+)/,UAmsie:/(ie) ([\w.]+)/,UAmozilla:/(firefox)(?:.*? rv:([\w.]+))?/},void 0===(e=App.userAgent)?{browser:"",version:""}:(e=e.toLowerCase(),t=i.UAChrome.exec(e)||i.UAwebkit.exec(e)||i.UAopera.exec(e)||i.UAmsie.exec(e)||e.indexOf("compatible")<0&&i.UAmozilla.exec(e)||[],{browser:t[1]||"",version:t[2]||""})},t=function(){var e,t,i;return i={OSwindows:/(windows)/,OSmac:/(macintosh)/,OSlinux:/(linux)/,OSiOS:/(iphone)/,OSiPad:/(ipad)/},void 0===(e=App.userAgent)?{os:""}:(e=e.toLowerCase(),t=i.OSwindows.exec(e)||i.OSmac.exec(e)||i.OSlinux.exec(e)||i.OSiOS.exec(e)||i.OSiPad.exec(e)||[],{os:t[1]})},window.onerror=function(o,n,r,a,s){var p,l,c,d,u;return p=null!=s&&null!=s.stack?s.stack:null,!/^script error/i.test(o)&&(!/^Error loading script/i.test(o)&&(!(i.jsErrorsCount>100)&&(!((l=(new Date).getTime())-self.jsPrevErrorTimestamp<2e3)&&(null!=o&&(o=o.substr(0,1024)),(!o||0!==o.length)&&(o!==i.jsPreviousError&&(i.jsErrorsCount++,i.jsPreviousError=o,i.jsPrevErrorTimestamp=l,c=e(App.userAgent),d=t(App.userAgent),c=c.browser+"/"+c.version+","+d.os,u=null!=p?"browser:"+c+" "+p:"browser:"+c+" "+o,App.events.track("chat_window_window_onerror",u),!0))))))}},setupSessionID:function(){$.getUrlParam("session_id")&&!this.isDirectLink()&&(App.SESSION_ID=$.getUrlParam("session_id"))},setupSecretID:function(){!1===App.supports3rdPartyCookies()&&(App.SECRET_ID=Store.get("lc."+App.LICENSE+".secret_id"))},getParentCommunicationInited:function(){return this.parentCommunicationInited},sendInfoToParent:function(e){var t;if(e=$.extend({state:"",operator_display_name:"",operator_avatar_url:""},e),!0===this.getParentCommunicationInited())return""!==e.state&&App.notifyParentAboutState(e.state),!0;this.parentCommunicationInited=!0,t=$(".title"),App.notifyParent.send("init;"+t.css("background-color")+";"+t.css("color")+";"+t.css("text-shadow")+";"+$(".title-button").css("background-color")+";"+$("#css-container").css("border-top-color")+";"+(App.OPERATORS_ONLINE?"1":"0")+";"+e.state+";"+encodeURIComponent(e.operator_display_name)+";"+$("#css-container").css("background-color")+";"+encodeURIComponent(e.operator_avatar_url))},focus:function(){return!(!App.windowMode&&!App.isPopOut())&&(!App.isNewMobile()&&void(App.state===App.STATE_OFFLINE?App.offlineForm.focusFirstField():App.state===App.STATE_PRE_CHAT?App.prechatSurvey.focusFirstField():App.state===App.STATE_CHATTING||App.state===App.STATE_INVITATION_WITH_AGENT?App.$message.focus():App.state===App.STATE_POST_CHAT&&App.postchatSurvey.focusFirstField()))},bindChatIFrameFocus:function(){$(window).focus(function(){App.focusChatIFrame()}).blur(function(){App.blurChatIFrame()})},focusChatIFrame:function(){this.tabIsActive=!0,this.chatIFrameIsActive=!0,App.updateLastActivityTime(),App.chat.findLastSeenMessage()},blurChatIFrame:function(){this.chatIFrameIsActive=!1,App.tabIsActive=!1},setCustomCSS:function(e){App.isNewMobile()&&(e=NewMobile.parseMobileCss(e));var t=$("#custom-css");t.length&&(t.after("<style>"+e+"</style>"),t.remove())},setSkinCSS:function(e){App.isNewMobile()&&(e+=NewMobile.parseMobileCss(e));var t=$("#skin-css");t.length&&(t.after("<style>"+e+"</style>"),t.remove())},setColorCSS:function(e){var t=$("#color-css");t.length&&(t.after("<style>"+e+"</style>"),t.remove())},setMobileCSS:function(e){var t=$("#mobile-css");t.length&&(t.after("<style>"+e+"</style>"),t.remove())},enableRatingAndTranscript:function(){this.ratingAndTranscriptDisabled=!1,this.updateRatingAndTranscriptClass()},disableRatingAndTranscript:function(){this.ratingAndTranscriptDisabled=!0,this.updateRatingAndTranscriptClass()},updateRatingAndTranscriptClass:function(){$("#rating-and-transcript").toggleClass("disabled",this.ratingAndTranscriptDisabled)},onMobileFormsFocus:function(){var e=$(this);e.parents(".view").css({"padding-top":.5*window.innerHeight+"px","padding-bottom":"10rem"});var t=e.offset().top-e.parents(".view").offset().top-e[0].offsetTop-10;App.isAndroid()&&(t-=.4*window.innerHeight),App.$bodyInner[0].scrollTop=t,App.notifyParent.send("message_input_focus")},onMobileFormsBlur:function(){$(this).parents(".view").css({"padding-top":0,"padding-bottom":0}),App.notifyParent.send("message_input_blur")},onTranscriptFormFocus:function(){this.storedWrapperMargin=$("#wrapper").css("margin-top"),$("#wrapper")[0].style.setProperty("margin-top","60%","important"),App.notifyParent.send("message_input_focus")},onTranscriptFormBlur:function(){$("#wrapper")[0].style.setProperty("margin-top",this.storedWrapperMargin,"important"),App.notifyParent.send("message_input_blur")},onOrientationChange:function(){!window.orientation||-90!==window.orientation&&90!==window.orientation?App.removeBodyClass("mobile-landscape"):App.addBodyClass("mobile-landscape")},receiveMessageFromParent:function(e){var t;if(/^ping_sent;/.test(e)){var i=e.split(";");App.setPingSent("true"===i[1])}else if(/^language_phrases;/.test(e)){var i=e.match(/^language_phrases;(.+)$/),o=JSON.parse(i[1]);App.setLangPhrases(o)}else if(/^region;/.test(e)){var n=e.split(";")[1];App.API_ADDRESS=App.API_ADDRESS.replace("api","api-"+n),App.QUEUE_ADDRESS=App.QUEUE_ADDRESS.replace("queue","queue-"+n)}else if(/^window_config;/.test(e)){var i=e.split(";");App.CONFIG=JSON.parse(decodeURIComponent(i[1])),i[2]&&(this.cauliflowerOpts=JSON.parse(decodeURIComponent(i[2]))),App.setSkillFormDisabledFlag(App.SKILL,App.CONFIG.embedded_chat.hide_when_offline);var r=void 0!==App.CONFIG.t&&!1===App.CONFIG.t;this.parseGlobalProperties(App.CONFIG.global_properties,r)}else if(/^maximize/.test(e)){var i=e.split(";");t=!0,null!=i&&("0"===i[1]&&(t=!1),i[2]&&"stored chat window state"!==i[2]&&this.trackEngagement("Chat widget maximized",{time_after_load:(new Date).getTime()-Utils.getNavigationStart(),source:i[2],state:App.getStateString()})),App.setWindowMode(App.WINDOW_MAXIMIZED),App.lastMaximizeTime=App.getTimestamp(),t&&!App.isNewMobile()&&App.focus(),App.observers.notify("window_maximize"),App.readMessage.notifyAboutReadMessage(),App.isNewMobile()&&(App.mobileBackground&&App.addMobileBackground(),App.scaleFacebookButton(),$("#wrapper").addClass("minimized"),$("#wrapper").removeClass("minimized"),setTimeout(function(){App.updateBodyHeight({force:!0})},400)),App.chat.findLastSeenMessage()}else if("tab_active"===e)App.tabIsActive=!0,App.getWindowMode()===App.WINDOW_MAXIMIZED&&(App.readMessage.notifyAboutReadMessage(),App.chat.findLastSeenMessage());else if("tab_inactive"===e){if(!0===App.chatIFrameIsActive)return!1;App.tabIsActive=!1}else if("client_limit_exceeded"===e)App.CLIENT_LIMIT_EXCEEDED=!0,App.stopCheckingForStateChange();else if(/^invitation;/.test(e)){if(!1===App.invitation.isAllowed())return!0;e=e.split(";"),App.TRIGGER_UNIQUE_ID=decodeURIComponent(e[1]),""!==e[2]&&(App.SKILL=parseInt(e[2],10)),App.invitation.display(decodeURIComponent(e[3]))}else if(/^invitation_with_agent;/.test(e)){var a=function(){if(!App.isOffline()){e=e.split(";");var t=decodeURIComponent(e[1]),i=decodeURIComponent(e[2]),o=JSON.parse(decodeURIComponent(e[3])),n="0"!==decodeURIComponent(e[4]);App.incomingInvitationWithAgent(t,i,o,n),App.windowsCommunicator.broadcast("personal_invitation",{trigger_unique_id:t,message:i,agent:o},{singleMessage:!0})}},s=function(e){return!(!App.isPreChatSurveyAfterGreetingSet||App.prechatSurvey.isLoaded())&&(App.prechatSurvey.load(e),!0)};if(!App.isOffline()){var p=s({callback:a,forceLoad:!0,source:"invitation_with_agent"});if(p)return;return void a()}App.parallel.run([{fn:App._sendCheckForState,opts:{ignoreRequestingSurvey:!0,reloadCheckState:!0}},{fn:function(e){s({forceLoad:!0,source:"invitation_with_agent",callback:e.callback})||e.callback()}}],a)}else if(/^source_invitation;/.test(e))App.TRIGGER_UNIQUE_ID=decodeURIComponent(e.split(";")[1]);else if(/^custom_css;/.test(e))e=e.split(";"),App.setCustomCSS(decodeURIComponent(e[1]));else if(/^skin_css;/.test(e))e=e.split(";"),App.THEME=e[1],App.setSkinCSS(decodeURIComponent(e[2]));else if(/^nick;/.test(e)){e=e.split(";");var l=decodeURIComponent(e[1]);l!==__tran("Client")&&(App.client.setName(l),App.notifyParent.send("visitor_name;"+l))}else if(/^email;/.test(e))e=e.split(";"),App.client.getEmail()||App.client.setEmail(decodeURIComponent(e[1]));else if("start_chat"===e){if(!App.supportsChatting())return;App.chat.setStartedByOperator(!0),App.setSourceInvitation(),App.chat.setWelcomeMessage(null),App.startChat({playSound:!0,source:"LC_API"})}else if(/^start_chat;/.test(e)){if(!App.supportsChatting())return;e=e.split(";"),App.chat.setStartedByOperator(!0),App.chat.setWelcomeMessage(decodeURIComponent(e[1])),App.setSourceInvitation(),App.startChat({playSound:!0,source:"LC_API with message"})}else if("close_chat"===e){var c;(App.chat.running()||App.chat.waitingInQueue())&&(App.chat.waitingInQueue()&&(c={successFn:function(){App.removeSecretTokens(),App.chat.setFinished(!0),App.reloadWindow()}}),App.request.sendJSON("close_chat",{source:"api_js"},c))}else if(/^welcome_message;/.test(e))e=e.split(";"),App.chat.setWelcomeMessage(decodeURIComponent(e[1]));else if(/^params;/.test(e))e=e.split(";"),App.chat.setCustomVariables(decodeURIComponent(e[1]));else if("reload_window"===e)App.reloadWindow({manually:!0});else if(/^firefly_url;/.test(e))e=e.split(";"),App.firefly.sendLinkToAgent(decodeURIComponent(e[1]),decodeURIComponent(e[2]));else if(/^wix;/.test(e))e=e.split(";"),App.WIX={url:decodeURIComponent(e[1])};else if("always_start_chat"===e)App.ALWAYS_START_CHAT=!0;else if("update_body_height"===e)App.updateBodyHeight({force:!0});else if("window_focus"===e)App.parentWindowFocused(!0),App.updateLastActivityTime();else if("window_blur"===e)App.parentWindowFocused(!1);else if(/^window_state;/.test(e))e=e.split(";"),"minimized"===e[1]?App.setWindowMode(App.WINDOW_MINIMIZED):"maximized"===e[1]&&App.setWindowMode(App.WINDOW_MAXIMIZED);else if("mobile_input_blur"===e)$("#message").blur();else if(/^new_font_height/.test(e))e=e.split(";"),App.updateFontHeight(e[1]),App.updateBodyHeight({force:!0}),"true"===e[2]?(App.mobileBackground=!0,App.getWindowMode()===App.WINDOW_MAXIMIZED&&App.addMobileBackground()):(App.mobileBackground=!1,App.removeMobileBackground());else if(/^is_new_mobile/.test(e))e=e.split(";"),App.setTrackingdIsNewMobile(e[1]);else if("manual_invitation"===e)this.setSourceInvitation(),this.startChat({source:"manual invitation"});else if(/^visitor_interaction;/.test(e)){var i=e.split(";");App.setVisitorInteraction("true"===i[1])}else if("disable_sounds"===e)App.disabledSounds=!0;else if(/^track_engagement;/.test(e)){var d=e.split(";")[1];this.trackEngagementFromTracking(JSON.parse(d))}else if(/^navigation_start;/.test(e)){var i=e.split(";");this._navigationStart=parseInt(i[1],10)}},parentWindowFocused:function(e){if(null!=e){if(!0===App.popout.isPopOut())return!1;this._parentWindowFocused=e}return this._parentWindowFocused},incomingInvitationWithAgent:function(e,t,i,o){if(!1===App.invitation.isAllowed()||App.getState()===App.STATE_INVITATION_WITH_AGENT||App.prechatSurvey.isDisplayed())return!0;t=t.replace(/&gt;/g,">").replace(/&lt;/g,"<"),t=t.replace(/%name%/g,App.client.getName()),App.TRIGGER_UNIQUE_ID=e,App.invitation.displayWithAgent(t,i,o),App.chat.setWelcomeMessage(t),t=App.chat.getParsedWelcomeMessage(),App.chat.displayedGreeting({trigger_unique_id:e,message:t,agent:i,focus_textarea:o}),App.displayedAutoInvitation=!0},predictedAgent:function(e,t){var i;if(App.removeAllOperators(),App.addOperator({id:t.login,display_name:t.name,job_title:t.job_title,avatar_url:t.avatar_url}),i=App.chat.displayedGreeting())return App.incomingInvitationWithAgent(i.trigger_unique_id,i.message,i.agent,i.focus_textarea),!0;App.clearMessages(),e=e.replace(/%name%/g,App.client.getName()),App.setState(App.STATE_INVITATION_WITH_AGENT),App.updateOperatorsInfoBar(),App.showTextarea(),App.chat.setWelcomeMessage(e),e=App.chat.getParsedWelcomeMessage(),e=App.parseIncomingMessage(e,{greeting:!0}),App.displayChatView()&&(App.isNewMobile()||App.popout.isInIframe()||App.$message.focus(),App.bindTextareaResize()),App.displayNewMessage({message:e,who:App.OPERATOR,operator_id:t.login,timestamp:Math.round(+new Date/1e3)})},setLangPhrases:function(e){Translate.setLangPhrases(e)},setDisplayAvatar:function(e){this.displayAvatar=e},getDisplayAvatar:function(){return this.displayAvatar},setDisplayLogo:function(e){this.displayLogo=e},getDisplayLogo:function(){return this.displayLogo},setLogoPath:function(e){e=UrlsUtils.convertUrlToCdn(e),e=e.replace(/^\/\//,""),this.logoPath=e},getLogoPath:function(){return"//"+this.logoPath},setWindowConfig:function(){App.socialNetworks.facebook=App.CONFIG.chat_window.social.facebook,App.socialNetworks.twitter=App.CONFIG.chat_window.social.twitter,App.socialNetworks.plusone=App.CONFIG.chat_window.social.plusone,App.rateMe.setEnabled("1"===App.CONFIG.chat_window.display_rating||!0===App.CONFIG.chat_window.display_rating),App.emailTranscript.setEnabled("1"===App.CONFIG.chat_window.display_transcript_button||!0===App.CONFIG.chat_window.display_transcript_button),App.setDisplayAvatar("1"===App.CONFIG.chat_window.display_avatar||!0===App.CONFIG.chat_window.display_avatar),App.setDisplayLogo("1"===App.CONFIG.chat_window.logo.display||!0===App.CONFIG.chat_window.logo.display),App.setLogoPath(App.CONFIG.chat_window.logo.path),"1"!==App.CONFIG.chat_window.display_mobile_icon&&!0!==App.CONFIG.chat_window.display_mobile_icon||App.addBodyClass("display-mobile-icon"),!1===App.LC2&&App.addBodyClass("lc-1"),App.updateLayoutBasedOnConfiguration(),App.LANG=App.CONFIG.lang,-1!==["ar","he","fa"].indexOf(App.LANG)&&App.addBodyClass("rtl-lang"),App.SESSION_ID=App.SESSION_ID||App.CONFIG.visitor.session,App.THEME=App.CONFIG.chat_window.theme.name||"deprecated",App.COLOR=App.CONFIG.chat_window.theme.color,App.OPERATORS_ONLINE="online"===App.CONFIG.status,App.LC2=App.CONFIG.lc2,App.BETA=App.CONFIG.beta,App.isPreChatSurveyAfterGreetingSet="1"===App.CONFIG.group_properties.pre_chat_survey_after_greeting,App.setLinksUnfurling(!!parseInt(App.CONFIG.group_properties.links_unfurling)),this.isAmplitudeDisabled()||(App.loadAmplitude(),App.amplitude.setUserId(App.SESSION_ID),App.amplitude.setUserProperties({license:App.LICENSE}))},prechatSurveyAfterInvitation:function(){return App.isPreChatSurveyAfterGreetingSet&&(App.CONFIG.pre_chat_survey&&App.CONFIG.pre_chat_survey.enabled||App.prechatSurvey._surveyJSON&&App.prechatSurvey.properties.enabled)},useLC2Theme:function(){return!0===App.CONFIG.chat_window.use_lc2_theme},updateLayoutBasedOnConfiguration:function(){var e,t,i;if(!0===this.getDisplayAvatar()&&this.addBodyClass("avatar-enabled"),null!==this.$operatorsBar&&!0===this.getDisplayLogo()&&this.$operatorsBar.addClass("logo"),App.CONFIG&&(App.googleAnalytics.setEnabled(null!=App.CONFIG.integrations.analytics||"1"===App.CONFIG.analytics_enabled||!0===App.CONFIG.analytics_enabled),App.CONFIG.chat_window.theme.color&&(t=this.styleForColor(App.CONFIG.chat_window.theme.name,App.CONFIG.chat_window.theme.color),App.setColorCSS(t)),App.CONFIG.chat_window.theme.skin_css&&(App.THEME=App.CONFIG.chat_window.theme.skin_base,App.setSkinCSS(App.CONFIG.chat_window.theme.skin_css)),App.CONFIG.chat_window.theme.css&&(!App.useLC2Theme()||"0"!==App.CONFIG.chat_window.theme.customized&&!1!==App.CONFIG.chat_window.theme.customized)&&(e=App.CONFIG.chat_window.theme.css,App.setCustomCSS(e)),App.isNewMobile())){var o,n=function(e){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};i=App.styleForMobile(App.CONFIG.chat_window.theme.name),App.setMobileCSS(i),$("#body").bind("touchstart",function(e){o=e.originalEvent.touches[0].clientY}),$("#body-inner").bind("touchmove",function(e){n(e);var t=o-e.originalEvent.touches[0].clientY;o=e.originalEvent.touches[0].clientY,this.scrollTop=this.scrollTop+t}),$("#operators").bind("touchmove",function(e){n(e)}),$("#footer").bind("touchmove",function(e){n(e)}),$("#textarea").bind("touchmove",function(e){n(e)}),$("body").bind("touchmove",function(e){n(e)}),$(window).bind("orientationchange",function(){App.onOrientationChange()}),App.onOrientationChange(),App.isIOS()||($("#view-prechat-survey, #view-postchat-survey, #view-offline-form").on("focus","input.text, textarea",App.onMobileFormsFocus),$("#content").on("focus","#email_transcript_form input.text",App.onTranscriptFormFocus),$("#view-prechat-survey, #view-postchat-survey, #view-offline-form").on("blur","input.text, textarea",App.onMobileFormsBlur),$("#content").on("blur","#email_transcript_form input.text",App.onTranscriptFormBlur))}},modifyColor:function(e,t){var i,o;e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0,i="#";for(var n=0;n<3;n++)o=parseInt(e.substr(2*n,2),16),o=Math.round(Math.min(Math.max(0,o+o*t),255)).toString(16),i+=("00"+o).substr(o.length);return i},styleForColor:function(e,t){var i=this.modifyColor(t,-.1);return styles={classic:".style-background-color {background-color: "+t+" !important;} .style-border-color {border-color: "+i+" !important;} .style-text-shadow { text-shadow: 1px 1px 0 "+i+"} .title { background: "+t+" } #email_transcript_form { border-top-color: "+i+"; border-right-color: "+t+"; .box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), inset 0 -1px 0 "+i+"; } #email_transcript_form .text { border-color: "+i+"; } #email_transcript_form .cancel,  #email_transcript_form .cancel a { color: #fff;} .operators-bar {background-color:"+t+"}",modern:".title-bg {background-color: "+t+" !important;} .title-button {background-color: "+t+" !important;} .title-button:hover { background-color: "+t+" !important} .client, .client .author { color: "+t+" !important }",minimal:".title { background: "+t+" } #title-container { background: "+t+" }",postmodern:".client .msg-text{background:"+t+"!important} .client .msg-text:before{ border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) "+t+"!important } .rtl-lang .client .msg-text:before{ border-color: rgba(0, 0, 0, 0) "+t+" rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) !important }"},styles[e]},styleForMobile:function(e){var t={fonts:'@font-face {    font-family: \'livechat-mobile\';    src:    url(\'//cdn.livechatinc.com/widget/fonts/mobile/livechat-mobile_cdfaf5185d.eot?3i1s7d\');    src:    url(\'//cdn.livechatinc.com/widget/fonts/mobile/livechat-mobile_cdfaf5185d.eot?3i1s7d#iefix\') format(\'embedded-opentype\'),        url(\'//cdn.livechatinc.com/widget/fonts/mobile/livechat-mobile_fbd9d3a5be.ttf?3i1s7d\') format(\'truetype\'),        url(\'//cdn.livechatinc.com/widget/fonts/mobile/livechat-mobile_2972642f7a.woff?3i1s7d\') format(\'woff\'),        url(\'//cdn.livechatinc.com/widget/fonts/mobile/livechat-mobile_9f69825941.svg?3i1s7d#icomoon\') format(\'svg\');    font-weight: normal;    font-style: normal;}[class^="icon-"], [class*=" icon-"] {    /* use !important to prevent issues with browser extensions that change fonts */    font-family: \'livechat-mobile\' !important;    speak: none;    font-style: normal;    font-weight: normal;    font-variant: normal;    text-transform: none;    line-height: 1;    /* Better Font Rendering =========== */    -webkit-font-smoothing: antialiased;    -moz-osx-font-smoothing: grayscale;}.icon-tick:before {    content: "\\e900";}.icon-leavemessage:before {    content: "\\e90a";}.icon-agentonline:before {    content: "\\e90b";}.icon-clip:before {    content: "\\e90c";}.icon-close:before {    content: "\\e90d";}.icon-email:before {    content: "\\e90e";}.icon-maximize:before {    content: "\\e90f";}.icon-menu:before {    content: "\\e910";}.icon-minimize:before {    content: "\\e911";}.icon-mobile:before {    content: "\\e912";}.icon-thumbs-down:before {    content: "\\e913";}.icon-thumbs-up:before {    content: "\\e914";}',
common:'#body input,#body label,#body select,#body table,#body textarea,a,body,button,input,label,select,table,table#content,textarea{font-size:1rem}body{background:rgba(0,0,0,0)}body.iframe-background{background:rgba(0,0,0,.5)}input.text,textarea{border:.1rem solid #ABADB3;padding:.1rem;border-radius:.2rem}#body input.checkbox,#body input.radio{margin-right:.3rem;width:1.5rem;height:1.5rem}#body form span.group label{margin-top:.1rem}form span.group{line-height:1.9rem}.form .submit input,.submit input{font-size:1.1rem!important;float:none;width:100%;box-shadow:none;border-radius:.5rem;line-height:1.1rem;padding:1.8rem 0;border:0;text-transform:uppercase;margin:.5rem 0 0;display:block;text-decoration:none!important;background-color:#AECF5F!important;color:#fff;-webkit-appearance:none}#drag-and-drop-mask,#title-container #close-chat,.s-cancel,.s-email,.s-file,.s-menu,.s-minimize,.s-thumb-down,.s-thumb-up{display:none!important}.ajax-loader{width:1rem;height:1rem;margin:.1rem 0;position:absolute;top:12px;right:20px}#content .form div p,#content .integration,#content p,#typing-indicator{padding-left:2rem;padding-right:2rem}#content .integration,#content p,#typing-indicator{padding:.9rem}#livechat-full{position:fixed!important;bottom:0!important;left:0!important;padding:1em!important;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform-origin:0 100%}#title #title-text{font-size:1.2rem!important;margin-left:1rem}#operators #email_transcript_form form,.state-chatting #title #title-text{margin-left:0}.operator-name{max-width:100%;height:1.7rem;font-size:1.5rem!important;line-height:1.5rem!important;margin-top:.1rem;left:6.15rem!important;padding-top:.1rem}.msg-text,.msg-text a,.operator-role{font-size:1rem!important;line-height:1rem}.operator-role{left:6.15rem!important;top:2.9rem;max-width:none}#body{margin-bottom:0}#operators .wrapper{height:6rem;padding:1rem}#operators td{height:5rem}.author,.time{font-size:1rem!important;line-height:1.1rem}.author{padding-bottom:.1rem}#title{padding:0;height:2.5rem;line-height:2.5rem;box-shadow:none!important}#title-container #minimize{margin:0;padding:0;height:3.5rem;width:3.5rem;text-align:center;line-height:3.5rem}#content{border:0!important}#content .form{padding:.1rem 0;width:80%;margin:0 auto}#content .form .form_header p{font-size:1.1rem;line-height:1.5rem}#content .form div{padding:.2rem 0}#content .form div p{padding:0 .1rem}#content img.avatar{width:4rem!important;height:4rem!important;background:#fff;left:1rem}#content p{margin-top:.7rem}#content p.client.same-author,#content p.operator.same-author,#content p.system.same-author{margin-top:0}#operators a.rate-bad{border-left:.1rem solid #656565}#operators span.rate-good{float:none;margin-right:0;padding:0}#mini-menu{width:3.5rem;height:3.5rem;text-align:center;left:0;top:0;padding:0;margin:0;border-radius:50%;z-index:99999999999999;position:relative;display:none}#menu-close-chat a,.state-chatting #mini-menu{display:inline-block}#operators .operator-info.retina{background-size:auto 3rem;height:4rem}#operators .operator-info{background-size:auto 2rem;height:4rem}#title-container td{height:2.5rem;line-height:2.5rem;font-size:1rem}#message-placeholder{font-size:1rem!important;line-height:1rem;height:2rem}#message{font-size:1.1rem!important;line-height:1.1rem;height:1.5rem;min-height:1.5rem!important;padding:.3rem 0 0 .3rem}#view-chat{margin:.6rem}#send-file-clip{line-height:3rem;width:2rem;padding:0;right:.5rem;text-align:center;bottom:0;top:0}#rating-and-transcript{background:#3F3F3F;color:#FFF;width:auto;position:absolute;display:none;left:0;right:0;top:-.02rem;border-radius:0;padding:0}#rating-and-transcript:before{border:.5rem solid transparent;border-color:transparent transparent #3f3f3f;display:block;position:absolute;content:"";margin-top:-.9rem;left:1.2rem}#rating-and-transcript a{color:#fff!important;text-transform:uppercase;text-align:center;height:4rem!important;line-height:4rem!important;padding:0 .2rem;letter-spacing:normal;font-size:.9rem!important}#rating-and-transcript #email_transcript,#rating-and-transcript #rating{float:none;display:block;height:auto!important;padding-bottom:0;overflow:hidden;margin-right:0!important}#rating-and-transcript #rating{overflow:hidden;margin-right:0!important;float:none;display:block;height:auto!important}#rating-and-transcript .rating-button{width:50%;white-space:nowrap;border-right:0;margin:0!important;height:4rem!important;line-height:4rem!important}#operators a.rate-good{margin-top:0;top:0}#operators a.rate-bad{margin-top:0}#operators span{white-space:nowrap;line-height:1.2em}#operators span.rate-good{font-size:.9rem!important;height:inherit!important;line-height:inherit!important;width:100%}#operators #rating{top:0}#email_transcript{top:0!important;border-top:.1rem solid #656565;padding-bottom:.1rem;padding-top:.1rem}#popup-file{width:90%;left:5%;top:13%;margin:0;border-radius:0;padding:1.5rem}#popup-file #popup-file-confirm-bad-list,#popup-file #popup-file-confirm-list{margin:1rem 0;border-radius:.2rem}#popup-file #popup-file-confirm-bad-list li,#popup-file #popup-file-confirm-list li{padding:.1rem}#popup-file #popup-file-confirm-bad-list li .file-meta,#popup-file #popup-file-confirm-list li .file-meta{height:4rem;line-height:4rem;padding:0 .5rem;border-radius:.5rem}#popup-file h4{font-size:1.1rem;line-height:1.1rem;margin-bottom:1.5rem}#popup-file .file-action-container{padding:0}#popup-file .file-action-container a,#popup-file .file-action-container button{float:none;width:100%;box-shadow:none;border-radius:.5rem;font-size:1.1rem;line-height:1.1rem;padding:1.8rem 0;border:0;text-transform:uppercase;margin:0;display:block;text-decoration:none!important}#popup-file .file-action-container button{background:#61c26d}#popup-file .file-action-container a,#popup-file .file-action-container button.cancel-file-upload{background:#ebebeb;color:#000;margin-top:1rem}#popup-file ul{border-radius:0!important;padding:.2rem 0;max-height:none}#popup-file ul li{overflow:hidden}#popup-file ul li .file-name{max-width:70%!important;font-size:.9rem!important;text-transform:uppercase}.client .msg-text:before,.operator .msg-text:before{border:.2rem solid transparent}.same-author .msg-text{margin-top:.4rem}#message-placeholder{padding:.4rem;top:0;right:0;margin-right:2rem;left:0}#wrapper{padding:.5rem 0 0}#content-container{padding:0!important}#textarea td.footer{font-size:3rem;height:3rem;border-top:0;box-shadow:none}#message-wrapper{padding:0 5rem 0 0;box-sizing:content-box;-webkit-box-sizing:content-box;position:relative;height:3rem;border:.1rem solid #D4D4D4;margin:0 1rem}#message-wrapper .btn-send{display:inline-block;font-size:1rem;z-index:100;position:absolute;height:3rem;line-height:3rem;right:0;text-align:center;width:5rem;color:#1F65CD;border:0;border-left:.1rem solid #D4D4D4;border-top:0;text-transform:uppercase;background:0 0;text-overflow:ellipsis;overflow:hidden}#textarea-wrapper{padding:.4rem}body.has-operators-bar #body-inner{padding-bottom:.1rem;border-top:0}body.filesharing-enabled #message{padding-right:2rem;min-height:2rem!important;height:2rem!important}#body-container p{padding:.2rem .3rem;line-height:1.5rem}#body-container p.same-author{padding:0 .3rem}#footer td{height:2rem;line-height:2rem;padding:0}#footer #powered{line-height:2rem!important;font-size:.8rem;float:none;text-align:center;padding:0;margin-left:0}#footer #social{display:none!important;margin-top:0}.outline{padding:1rem 1rem 0}#menu-close-chat{text-align:center;border-top:.1rem solid #656565}#menu-close-chat a{width:100%}#confirm-closing{width:90%;left:5%;margin:0;position:absolute;top:10%;border-radius:.2rem;padding:1.5rem!important}#confirm-closing a{font-size:.9rem;padding:.1rem 1rem .1rem .5rem;margin:0;line-height:2rem}#confirm-closing p{max-width:100%;font-size:1.1rem;margin:.5rem auto 1.5rem}#confirm-closing p.actions input{background:#e7433f;color:#fff;-webkit-appearance:none}#confirm-closing p.actions a,#confirm-closing p.actions input{font-size:1.1rem!important;float:none;width:100%;box-shadow:none;border-radius:.5rem;line-height:1.1rem;padding:1.8rem 0;border:0;text-transform:uppercase;margin:0;display:block;text-decoration:none!important}#confirm-closing p.actions a{margin-top:1rem;background:#ebebeb;color:#000}#wrapper{position:fixed;bottom:auto}#wrapper.mobile-keyboard-shown{padding-top:0!important}#wrapper.minimized{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}#wrapper.minimized .avatar{width:5rem!important;height:5rem!important;border:.3rem solid #fff;position:absolute;border-radius:50%;-webkit-transform:translate3d(100vw,10%,0);transform:translate3d(100vw,10%,0)}#operators #email_transcript_form{top:0!important;left:0!important;right:0!important;height:33rem;border-width:0;border-radius:0;padding:1rem .5rem!important;background:#fff;overflow:scroll}#operators #email_transcript_form.transcript-email-set{padding:2rem .5rem!important;min-height:0;background:#E8E8E8}#operators #email_transcript_form input.text{margin:0 auto!important;display:block;width:93%;height:3.5rem;line-height:1.1rem;padding:1.2rem .2rem;font-size:1.1rem;border-color:#c6c6c6}#operators #email_transcript_form .cancel a,#operators #email_transcript_form input[type=submit]{margin-top:1rem;font-size:1.1rem;line-height:1.1rem;display:block;float:left;text-align:center;padding:1.8rem 0;margin-left:.8rem;text-transform:uppercase;text-decoration:none;border-radius:.5rem;box-shadow:none;border:0}#operators #email_transcript_form input[type=submit]{background:#61c26d;width:45%;color:#FFF;-webkit-appearance:none}#operators #email_transcript_form .cancel{width:45%;display:inline-block;text-align:center}#operators #email_transcript_form .cancel .or,body.form-invalid #mini-menu,body.form-invalid #title-text{display:none}#operators #email_transcript_form .cancel a{margin-left:.5rem;width:100%;background:#ececec}#operators #email_transcript_form span{white-space:normal;text-align:center;font-size:1rem;line-height:1.1rem}#operators #email_transcript_form .transcript_label{text-align:center;color:#000;font-size:1.1rem;margin-bottom:1rem}#body textarea,input.text{border-radius:.3rem;border:.1rem solid #c6c6c6;height:3.5rem;line-height:1.1rem;padding:1.2rem .2rem;font-size:1.1rem;width:100%}.icon-menu,.icon-minimize{font-size:1rem}.rating-button.rated-bad,.rating-button.rated-good{background:rgba(0,0,0,.3)}#notification{margin-top:4.3rem;height:4rem;line-height:4rem;right:4rem!important;top:0;left:1rem}#notification.error{background:0 0;text-shadow:none}#notification-content{padding:0}body.form-invalid #title{background:-webkit-linear-gradient(-45deg,#eb3528 0,#f54a3d 5%,#eb3528 5%,#eb3528 10%,#f54a3d 10%,#f54a3d 15%,#eb3528 15%,#eb3528 20%,#f54a3d 20%,#f54a3d 25%,#eb3528 25%,#eb3528 30%,#f54a3d 30%,#f54a3d 35%,#eb3528 35%,#eb3528 40%,#f54a3d 40%,#f54a3d 45%,#eb3528 45%,#eb3528 50%,#f54a3d 50%,#f54a3d 55%,#eb3528 55%,#eb3528 60%,#f54a3d 60%,#f54a3d 65%,#eb3528 65%,#eb3528 70%,#f54a3d 70%,#f54a3d 75%,#eb3528 75%,#eb3528 80%,#f54a3d 80%,#f54a3d 85%,#eb3528 85%,#eb3528 90%,#f54a3d 90%,#f54a3d 95%,#eb3528 95%,#eb3528 100%,#f54a3d 100%)!important}body.form-invalid .title-button{background-color:transparent!important}.icon-minimize{width:auto;max-height:none}#title-container #minimize .icon-minimize{width:auto}#operators a.rate-bad .icon-thumbs-down,#operators a.rate-good .icon-thumbs-up{font-size:1rem;height:1rem;line-height:1rem;margin:0 .3rem 0 0;float:none}#operators #email_transcript .icon-email{font-size:.8em;line-height:.8rem;margin:0 .3rem 0 0}.icon-close{font-size:.9rem;line-height:.9rem;display:inline-block;color:#BFBFBF}.icon-clip{font-size:1rem}.delivered-indicator,.icon-tick,.last-seen-indicator{font-size:.6rem}.icon-tick{top:.05rem}.rating-component{font-size:1rem;padding-left:.1rem!important}.rating-component span{font-size:1.5rem}.rating-component .rating-button{height:3rem;line-height:3rem;margin-right:.3rem;border-radius:.3rem}.rating-component .rating-button .rate-good,.rating-component .rating-button.rate-bad{padding:0 2.2rem}.rating-component .icon-thumbs-down{top:.4rem;left:-.05rem}.rating-component .icon-thumbs-up{top:.15rem;left:.05rem}.postchat-rated-info{padding-bottom:0!important}.postchat-rated-info .icon-thumbs-down,.postchat-rated-info .icon-thumbs-up{font-size:1rem}.postchat-rated-info .icon-thumbs-up{top:.05rem}.postchat-rated-info .icon-thumbs-down{top:.2rem}#body input[type=email],#body input[type=text],#body textarea,input[type=email],input[type=text],textarea{font-size:16px}.rtl-lang #message-wrapper{padding-left:5rem;padding-right:0}.rtl-lang #message-wrapper .btn-send{left:0;right:auto;border-right:.1rem solid #D4D4D4;border-left:0}.rtl-lang #footer #powered{float:none}',postmodern:"#footer #social,#title-container #close-chat{display:none!important}.ajax-loader{width:1rem;height:1rem;marign:.1rem 0}#livechat-full{position:fixed!important;bottom:0!important;left:0!important;padding:1em!important;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transform-origin:0 100%}#title #title-text{margin-left:.5rem}.operator-name{max-width:100%;height:1.8rem;font-size:1.8rem!important;line-height:2rem;margin-top:.1rem}.msg-text,.operator-role{font-size:1rem!important}#body{margin-bottom:0}#operators .wrapper{height:5rem;padding:.5rem}#operators td{height:5rem}.operator-role{line-height:1rem;max-width:none}#content img.avatar{width:5rem!important;height:5rem!important;left:calc(50% - 2.5rem)!important;top:-6rem!important;border:.3rem solid #fff;box-shadow:0 .1rem .1rem rgba(0,0,0,.15),0 0 0 0 rgba(255,255,255,.8)}#content{border-radius:0!important;border:0}.msg-text{line-height:1.1rem}#title-container #minimize{width:2.5rem;line-height:3rem}#content .form div p{padding:0 .1rem}#email_transcript{border-top:.1rem solid #656565;padding-bottom:.1rem;padding-top:.1rem}#operators a.rate-bad{border-left:.1rem solid #656565}#operators #email_transcript_form .cancel a{color:#000}#mini-menu{left:0;width:2.5rem}#view-chat{margin-left:.3rem}.client .msg-text:before,.operator .msg-text:before{border:.2rem solid transparent}.same-author .msg-text{margin-top:.4rem}.client .msg-text,.operator .msg-text{padding:.4rem .8rem;border-radius:.2rem}#content-container{padding:0!important}#footer #social{margin-top:0}body.filesharing-enabled #message{padding-right:2rem;min-height:2rem!important;height:2rem!important}#popup-file{background:0 0}#popup-file ul{border-top:0;border-bottom:0}#popup-file ul li .file-name{color:#909090!important}#popup-file #popup-file-confirm-bad-list li .file-meta,#popup-file #popup-file-confirm-list li .file-meta{background:#F2F2F2;color:#909090}#mini-menu:before,#minimize:before{color:#7B7B7B}#menu-close-chat a:before{color:#FFF}#confirm-closing{background:0 0;box-shadow:none}#confirm-closing p{color:#000}#wrapper{padding:2.5rem 0 0!important}#wrapper.mobile-keyboard-shown{padding-top:0!important}#wrapper.minimized{top:100%!important}#wrapper.minimized .avatar{left:85%!important;margin-top:-5rem!important}.form .submit input{background-color:#AECF5F!important}#notification{top:1.4rem}.delivered-indicator,.last-seen-indicator{padding-top:.4rem}.rtl-lang #rating-and-transcript{right:0;left:0}.rtl-lang #mini-menu{margin-right:0;margin-left:0}",modern:"#title{height:3.5rem;line-height:3.5rem;border-radius:.3rem .3rem 0 0;overflow:hidden}.footer{background:#fff}#content{border-radius:.3rem .3rem 0 0!important}#confirm-closing p.actions{margin:0!important;font-size:1rem;width:100%}#dont-leave-chat{float:right!important}.operator-role{max-width:60%;text-overflow:ellipsis;overflow:hidden}.delivered-indicator,.last-seen-indicator{padding-bottom:.4rem;left:0}",classic:"body,input,select,table,textarea{font-size:1rem!important;font:12px/16px Arial,Verdana,sans-serif}#body input[type=email],#body input[type=text],#body textarea,input[type=email],input[type=text],textarea{font-size:16px!important}#title,#title-container #minimize{height:2rem;line-height:2rem}#wrapper{margin:.5rem 0 0;padding:.5rem 0}.state-chatting #body-container{background:#fff}#title #title-text{font-size:1rem!important}.outline{border-radius:.8rem .8rem 0 0;box-shadow:inset .1rem .1rem .1rem rgba(255,255,255,.2);border:.1rem solid}#content img.avatar{margin-right:1rem;border-radius:.3rem;-webkit-border-radius:.3rem;padding:.1rem;border:.1rem solid #DDD}#body,.operators-bar .wrapper{border-left:0;border-right:0}.operator-name{font-size:1.5rem!important;height:1.7rem}#operators span{line-height:1.5em}#content p.client.same-author,#content p.operator.same-author{margin-top:0}.client,.operator{border-top:.1rem solid #E8E8E8;color:#333}#operators .wrapper{border-radius:.4rem .4rem 0 0;-webkit-border-radius:.4rem .4rem 0 0;border-bottom:.1rem solid #DBDBDB!important}#footer #powered a,#footer td,#textarea td{background:#fff!important}#footer #powered a{color:#bbb}#textarea-wrapper{border:0!important}#body{border-bottom:0!important;box-shadow:none}#body-container p{padding-top:1rem}#view-chat{margin:.6rem 1.1rem}#notification{height:2.5rem;line-height:2.5rem}.delivered-indicator,.last-seen-indicator{padding:.1rem 0;left:0}",minimal:".s-close{display:none!important}#title-container #minimize{height:3rem;line-height:3rem;width:3rem}#footer #powered a{font-size:1rem;text-transform:none;letter-spacing:normal}#mini-menu{height:2.5rem}body.state-chatting #title-container #close-chat{display:block!important;float:right;height:3rem;line-height:3.2rem;width:2.5rem;text-align:center;margin:0;padding:0}.state-chatting #title #title-text{margin-left:1rem!important}body.state-chatting #title-container .icon-close{font-size:1.2rem;color:#FFF;display:inline-block;margin-right:.2rem}#mini-menu{display:none!important}#title #title-text{font-size:1rem!important;margin-left:1rem}#title{height:3rem;line-height:3rem}#body-inner{padding:.5rem}#wrapper{margin-top:9rem!important;padding:.5rem 0 0}.mobile-landscape #wrapper{margin-top:2rem!important}"},i="";return i=i+t.fonts+t.common,i+=t[e]?t[e]:t.classic},resizeTooSmallWindow:function(){if(!0!==App.popout.isPopOut())return!0;($(window).width()<150||$(window).height()<200)&&window.resizeTo(530,520)},setWindowMode:function(e){if(e!==this.getWindowMode()){if(e!=App.WINDOW_POPOUT&&!0===App.popout.isPopOut())return void(this.windowMode=App.WINDOW_POPOUT);this.windowMode=e,e!==App.WINDOW_MAXIMIZED&&e!==App.WINDOW_POPOUT||(App.getState()!==App.STATE_PRE_CHAT||this.cauliflowerOpts.skipPrechat?App.getState()===App.STATE_OFFLINE&&!0===App.getSourceInvitation()?!1===App.chat.getStartedByOperator()&&(App.showLoadingIndicator(),App.prechatSurvey.load()):App.getState()===App.STATE_OFFLINE&&App.offlineForm.load():App.prechatSurvey.onWindowOpened(),delete this.cauliflowerOpts.skipPrechat)}},getWindowMode:function(){return null!=App.popout&&!0===App.popout.isPopOut()?App.WINDOW_POPOUT:this.windowMode},bindMinimize:function(){App.mobileBridgeType?($("#minimize").show().bind(App.clickEvent,function(){return App.sendToMobileNativeWrapper({messageType:"hideChatWindow"}),!1}),App.$title.bind(App.clickEvent,function(){return!1})):App.isMobile()||App.isNewMobile()?($("#minimize").bind(App.clickEvent,function(e){return e.preventDefault(),e.stopPropagation(),App.minimizeWindow(),!1}),App.$title.bind(App.clickEvent,function(){return!1})):App.$title.bind(App.clickEvent,function(){return App.minimizeWindow(),!1})},minimizeWindow:function(){App.setWindowMode(App.WINDOW_MINIMIZED),App.isNewMobile&&($("#wrapper").addClass("minimized"),App.mobileBackground&&App.removeMobileBackground()),App.notifyParent.send("minimize"),App.tooltip.hide()},setSourceInvitation:function(){App.SOURCE_INVITATION=!0,App.TRIGGER_UNIQUE_ID=""},getSourceInvitation:function(){return App.SOURCE_INVITATION},refuseInvitation:function(){App.TRIGGER_UNIQUE_ID="",App.setWindowMode(App.WINDOW_MINIMIZED),App.notifyParent.send("invitation_refused")},invitationOperatorsOffline:function(){App.notifyParent.send("invitation_operators_offline")},intelligentPoweredByLink:function(){var e,t;App.notifyParent.parent_url&&(e=document.createElement("a"),e.href=App.notifyParent.parent_url,t=e.host),t&&$("#powered a").attr("href","https://www.livechatinc.com/powered-by-livechat/?partner="+t+"&utm_source=chat_window&utm_medium=referral&utm_campaign="+t),$("#powered").bind("click",function(){if(App.isNewMobile()||App.getTimestamp()-App.lastMaximizeTime<1)return!1})},setTitle:function(e){var t=e;App.isMobile()&&(t="LiveChat"),document.title=t,App.$titleText.text(e)},startChat:function(e){var t,i;if(e=$.extend({loading_indicator:!0,using_facebook_connect:!1,playSound:!1},e),!0===App.chat.getInitializing())return!1;if(App.chat.setInitializing(!0),!0===App.chat.getFinished())return App.reloadWindow({manualInvitation:!0}),!1;if(!0===e.loading_indicator&&App.showLoadingIndicator(),t=App.SKILL,App.SKILL=App.prechatSurvey.getDestinationSkill({using_facebook_connect:e.using_facebook_connect}),$.getUrlParam("params")){var o=$.getUrlParam("params");i={},$.each(o.split("&"),function(e,t){var o=t.split("="),n=decodeURIComponent(o[0]),r=decodeURIComponent(o[1]);i[n]=r})}else i=App.chat.getCustomVariables();App.setTitle(__tran("Welcome_title")),this.enableRatingAndTranscript(),this.ensurePing(function(){var o={visitor:{nick:App.client.getName(),email:App.client.getEmail()},group:App.SKILL,source_group:t,version:App.VERSION,custom_variables:i||{},details:App.prechatSurvey.getFieldsPairs(),details_labels:"",integration_params:App.getIntegrationVariables(),from_manual_invitation:App.getSourceInvitation(),trigger_unique_id:App.TRIGGER_UNIQUE_ID,welcome_message:App.chat.getWelcomeMessage({escape:!1}),is_mobile:App.isMobile()||App.isNewMobile(),return_secured_session_id:!App.supports3rdPartyCookies(),script_version:App.scriptVersion},n=App.prechatSurvey.getFilledIn();n&&(o.pre_chat_survey=n),e.visitor_message&&(o.visitor_message=e.visitor_message.message,o.visitor_message_id=e.visitor_message.id),App.startChatSource=!0;var r=new Error("start_chat");App.events.track("start_chat "+App.LICENSE+" "+App.SESSION_ID," visitor: "+App.CONFIG.visitor.session+" state: "+App.getState()+" url: "+NotifyParent.original_parent_url+" start chat message: "+o.visitor_message+" options message: "+e.message+" cookies: "+App.supports3rdPartyCookies()+" chatting: "+App.supportsChatting()+" 3rdparty: "+$.cookie("3rdparty")+" storageKey: "+App.getStorageKey("test")+" userAgent: "+App.userAgent+" group: "+App.SKILL+" chat_between_groups: "+App.chatBetweenGroups()+" stack: "+r.stack),App._startingChat=!0,App.request.sendJSON("start_chat",o,{omitSecrets:!0,method:"post",successFn:function(){App._startingChat=!1,e.playSound&&App.playSound()}}),App.trackEngagement("Start Chat",{visitor_id:App.SESSION_ID,license:App.LICENSE,source:e.source,group:App.SKILL,chat_between_groups:App.chatBetweenGroups(),chat_window_type:App.getChatType(),platform:App.getPlatformName()})})},endChat:function(e){e=$.extend({who:App.CLIENT,closed_manually:!1},e);var t=this.getOperator();return t&&this.setOperatorWhoClosed(t.getDisplayName()),this.removeAllOperators(),App.chat.updateMode(),!1===App.chat.getStarted()&&!App.chat.wasRunning()||(!0===App.chat.getFinished()||(App.chat.setFinished(!0),App.hideOperatorIsTyping(),App.hideTextarea(),void App.postchatSurvey.load({whoClosed:e.who,displayStartAgainLink:!0,closedManually:e.closed_manually})))},showConfirmClosing:function(){App.hideOperatorsBar(),App.hideTextarea(),App.showView("confirm-closing")},displayStartAgainLink:function(){var e;if($("#start-again").length>0)return!0;e=__tran("Embedded_start_chat_again"),e='<a href="#" id="start-again">'+e+"</a>",App.displayNewMessage({message:e}),$("#start-again").bind(App.clickEvent,function(){return App.reloadWindow({manually:!0}),!1})},reloadWindow:function(e){var t;e=$.extend({manually:!1},e),t="",!1===e.manually&&(t=App.chat.getParsedWelcomeMessage());var i=["chat_reload",encodeURIComponent(t)];e.manualInvitation&&i.push(!0),App.notifyParent.send(i.join(";")),App.notifyParent.reloadWindow()},addOperator:function(e){var t;return App.removeOperator(e.id),t=new Operator,t.id=e.id,t.display_name=e.display_name,t.avatar_url=e.avatar_url,t.job_title=e.job_title,App.operators.push(t),App.notifyParent.send("operator;"+encodeURIComponent(App.unescapeForIWCS(t.display_name))+";"+encodeURIComponent(App.unescapeForIWCS(t.avatar_url))),t},removeOperator:function(e){var t=0;for(var i in App.operators){if(App.operators[i].getId()==e){var o=App.operators[i];return App.operators.splice(t,1),App.chat.updateMode(),o}t++}return!1},removeAllOperators:function(){var e=this.getOperator();e&&this.setPreviousOperator(e),App.operators=[]},getPreviousOperator:function(){return this._previousOperator},setPreviousOperator:function(e){return this._previousOperator=e,this},unsetPreviousOperator:function(){return delete this._previousOperator,this},refreshOperatorsListAfterTransfer:function(){if(App.getOperatorsNumber()>=2)return App.operators.splice(0,1),!0;App.chat.setMode(App.CHAT_MODE_SINGLE)},updateOperatorsInfoBar:function(){var e,t,i,o,n,r,a,s,p,l=this;if(!1===(e=App.getOperator()))return!1;if(t='<img src="'+e.getAvatarUrl()+'" height="56" width="56" class="avatar">',i='<span class="operator-name">'+App.escapeString(e.getDisplayName())+"</span>",o='<span class="operator-role">'+App.escapeString(e.getJobTitle())+"</span>",n="",p="",!0===App.rateMe.isEnabled()?(n=App.rateMe.getHtml(),this.addBodyClass("rating-enabled")):this.removeBodyClass("rating-enabled"),App.isMobile()||App.isNewMobile()||!App.useLC2Theme()||(p=App.rateMe.getFormHtml()),r="",email_transcript_form="",!0===App.emailTranscript.isEnabled()&&(r=App.emailTranscript.getHtml(),email_transcript_form=App.emailTranscript.getFormHtml()),App.$operatorsBar.html('<div class="operator-info">'+t+i+o+'<div id="rating-and-transcript">'+n+r+"</div></div>"+p+email_transcript_form),this.updateRatingAndTranscriptClass(),!0===App.getDisplayLogo()&&(s=$("<img />"),s.load(function(e){var t=e.currentTarget.height>52;if(a=App.useLC2Theme()?App.$operatorsBar.find(".operator-info"):App.$operatorsBar,App.isNewMobile()&&e.currentTarget.width/e.currentTarget.height>2.25&&$("#operators .operator-info").css("background-size","8rem auto"),t&&"backgroundSize"in document.documentElement.style!=!0)return s.remove(),!1;a.toggleClass("retina",t),a.css("background-image","url("+l.getLogoPath()+")"),s.remove()}),s.attr("src",this.getLogoPath())),App.updateBodyHeight(),App.rateMe.bind(),null!==App.rateMe.getLatestVote()&&App.rateMe.displayRate(App.rateMe.getLatestVote(),App.rateMe.OMIT_MESSAGE),App.emailTranscript.bind(),null!==App.emailTranscript.getEmail()&&App.emailTranscript.displayConfirmation(App.emailTranscript.getEmail(),App.emailTranscript.HIDE_INSTANTLY),"postmodern"===App.THEME||App.isNewMobile()){var c;$(".rate-good").contents(":not(*)").length>0&&($(".rate-good").contents(":not(*)")[0].nodeValue=__tran("Rate_me_good_tooltip")),App.isNewMobile()?c=__tran("Send_transcript"):(c=__tran("Send_transcript_to_email"),c=c.replace(/\.$/,"")),$(".rate-good").contents(":not(*)").length>0&&($(".rate-good").contents(":not(*)")[0].nodeValue=__tran("Rate_me_good_tooltip")),$("#rating .rate-bad").append(__tran("Rate_me_bad")),$("#email_transcript a").append("<span>"+c+"</span>"),App.tooltip.unset("#rating a"),App.tooltip.unset("#email_transcript a")}App.isNewMobile()&&($("#email_transcript_form form").prepend('<p class="transcript_label">'+__tran("Send_chat_transcript_to")+"</p>"),$("#email_transcript_form form input[type=text]").attr("placeholder","E-mail"),App.draggable.set($(".avatar")),$("#rating-and-transcript").append('<div id="menu-close-chat"><a href="#"><span class="icon i-close icon-close"></span> '+__tran("Close_chat")+"</a></div>"),$("#menu-close-chat a").bind(App.clickEvent,function(e){return e.preventDefault(),App.closeMiniMenu(),App.file.hideConfirmationAndCancelFiles(),App.showConfirmClosing(),!1}))},displaySocialNetworks:function(){var e,t,i;if(!0===this.socialNetworks.displayed)return!0;this.socialNetworks.displayed=!0,e=this._generatePlusoneFor(this.socialNetworks.plusone),t=this._generateFacebookFor(this.socialNetworks.facebook),i=this._generateTwitterFor(this.socialNetworks.twitter),App.$social.hide().append(e).append(i).append(t).show()},_generatePlusoneFor:function(e){if(void 0===e||0===e.length)return $("");var t=screen.width/2-250,i=$('<div><div id="plusone-container"><a class="s-google" href="https://plus.google.com/share?url='+e+'" onclick="javascript:window.open(\'https://plus.google.com/share?url='+e+"','', 'menubar=no,left="+t+',top=33,centerscreen=yes,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=500\'); return false;" target="_blank"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" width="30px" height="17px" viewBox="-10 -6 60 34"><path d="M32 8.2h-3v4h-4V15h4v4h3v-4h4v-2.9h-4V8.2zm6-2V8h3v15h3V4l-6 2.2z"></path><path d="M11.4 11.3v4.5h6c-.4 2.6-2.7 4.5-6 4.5-3.6 0-6.6-3.1-6.6-6.7s2.9-6.7 6.6-6.7c1.7 0 3.1.5 4.3 1.7l3.2-3.2c-2-1.8-4.5-2.9-7.5-2.9C5.3 2.5.3 7.5.3 13.6s5 11.1 11.1 11.1c6.5 0 10.7-4.6 10.7-10.9 0-.8-.1-1.7-.2-2.5H11.4z"></path></svg></a> </div></div>');return $(i.html())},_generateFacebookFor:function(e){return void 0===e||0===e.length?$(""):$('<iframe id="fb_like_iframe" src="'+App.PROTOCOL+"www.facebook.com/plugins/like.php?ref=LiveChat&amp;href="+encodeURIComponent("http://www.facebook.com/"+e)+'&amp;layout=button_count&amp;show_faces=false&amp;width=130&amp;action=like&amp;font=trebuchet+ms&amp;colorscheme=light&amp;height=20" scrolling="no" style="border:none;overflow:hidden;width:130px;height:20px;visibility:hidden" allowTransparency="false" onload="this.style.visibility=\'visible\';"></iframe>')},_generateTwitterFor:function(e){if(void 0===e||0===e.length)return $("");var t=$('<div class="twitter-follow-div">');return window.twttr=function(e,t,i){var o,n=e.getElementsByTagName("body")[0],r=/^http:/.test(e.location)?"http":"https",a=window.twttr||{};return e.getElementById(i)?a:(o=e.createElement("script"),o.id=i,o.src=r+"://platform.twitter.com/widgets.js",n.parentNode.insertBefore(o,n),a._e=[],a.ready=function(e){a._e.push(e)},a)}(document,0,"twitter-wjs"),window.twttr.ready(function(){window.twttr.widgets.createFollowButton(e,t[0],{showScreenName:!1,showCount:!1}).then(function(){t.css("display","inline-block"),t.find("iframe").css({height:"20px",width:"64px",position:"static",visibility:"visible"})})}),t},updateOperatorPhotoAndName:function(e){if(void 0===e&&!1===(e=App.getOperator()))return!1;!0===this.getDisplayAvatar()&&App.$operatorsBar.find(".avatar").attr("src",e.getAvatarUrl()),App.$operatorsBar.find(".operator-name").text(e.getDisplayName())},getOperatorsNumber:function(){return App.operators.length},addMobileBackground:function(){$("body").addClass("iframe-background")},removeMobileBackground:function(){$("body").removeClass("iframe-background")},setIntegrationVariables:function(e){App.integrationVariables=e},getIntegrationVariables:function(){return App.integrationVariables},getOperatorByID:function(e){for(var t in App.operators)if(App.operators[t].getId()==e)return App.operators[t];return!1},getOperator:function(){return 0!==App.operators.length&&App.operators[0]},setHistoryLoading:function(e){this.historyLoading=e},getHistoryLoading:function(){return this.historyLoading},updateLastActivityTime:function(){this.lastActivity=this.getTimestamp(),this._sendCheckForState()},getLastActivityTime:function(){return this.lastActivity},sendSinglePing:function(){var e,t;e={active_session_id:App.getUniqueID(),version:1},t=App.request.lastMessageUniqueID(),null!=t&&(e.last_unique_id=t),App.request.sendJSON("get_pending_messages",e)},startCheckingForStateChange:function(){return!0!==App.CLIENT_LIMIT_EXCEEDED&&(App.stopPing(),null!==App.stateChangedObserver||void App._startCheckingForStateChange())},_startCheckingForStateChange:function(){App.stateChangedObserver=setInterval(function(){App._sendCheckForState()
},5e3*this.operatorsAndChatStateRatio)},_sendStatusPing:function(e){App.requestsDistributor&&App.requestsDistributor.status_ping?App.request.sendJSON("status_ping",{visitor:{id:App.SESSION_ID},skill:App.SKILL}):App.request.send(["IWCS0116C",App.SESSION_ID,App.LICENSE,App.SKILL],e)},_sendCheckForState:function(e){var t;return e=e||{},App._pendingCheckState?void(App._checkStateCallbackOpts=e):(e.reloadCheckState&&(clearInterval(App.stateChangedObserver),App.stateChangedObserver=null,App._startCheckingForStateChange()),(!1!==App.parentWindowFocused()||!1!==App.chatIFrameIsActive)&&(!((t=App.getTimestamp())-this.lastStatePingTime<2)&&(!0===App.windowsCommunicator.isMainWindowInGroup()&&(!(t-App.getLastActivityTime()>App.maximumActivityTime)&&(App._sendStatusPing(e),void(this.lastStatePingTime=App.getTimestamp()))))))},stopCheckingForStateChange:function(){App.stateChangedObserver&&(clearInterval(App.stateChangedObserver),App.stateChangedObserver=null)},startPing:function(){if(App.stopCheckingForStateChange(),null!==App.pingObserver)return!0;App._sendPing(),App.pingObserver=setInterval(function(){App._sendPing()},1800*this.getPendingMessagesRatio)},_sendPing:function(){var e,t;App.chat.setSneakPeek(App.$message.val()),e={active_session_id:App.getUniqueID(),version:1};var i=App.chat.getSneakPeek();"string"==typeof i&&(e.sneak_peek=i),t=App.request.lastMessageUniqueID(),null!=t&&(e.last_unique_id=t),App.request.sendJSON("get_pending_messages",e)},stopPing:function(){App.pingObserver&&(clearInterval(App.pingObserver),App.pingObserver=null)},generateRandomID:function(e){for(var t="",i="0123456789abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ",o=0;o<e;o++)t+=i.substr(Math.floor(Math.random()*i.length),1);return t},generateMessageRandomID:function(){return+new Date+App.generateRandomID(7)},generateRandomNumber:function(e){for(var t="",i="0123456789",o=0;o<e;o++)t+=i.substr(Math.floor(Math.random()*i.length),1);return parseInt(t,10)},sendMessageEvent:function(e){if(!(e&&e.shiftKey||(App.isMobile()&&!1===App.soundPreloadedOnMobile()&&(App.playSound({preloadOnMobile:!0}),App.soundPreloadedOnMobile(!0)),!1===App.sendMessage())))return App.$message.val(""),App.getState()===App.STATE_INVITATION_WITH_AGENT&&App.disableTextarea(),!0},bindSendMessageEvent:function(){$(".btn-send").bind(App.clickEvent,function(e){if(e.preventDefault(),!0!==App.sendMessageEvent(e))return!1;if(App.isIOS7()||App.isiOSChrome()){var t=$("#message").clone(!0);$("#message").blur().trigger("blur").remove(),App.$message=t,$("#textarea-wrapper").append(t)}App.isNewMobile()?$("#message").blur():App.$message.click().focus()}),App.$message.keypress(function(e){if(App.clientIsTyping(),13!=e.which)return!0;App.sendMessageEvent(e),e.shiftKey||e.preventDefault()}).keydown(function(e){var t=e.metaKey||e.ctrlKey,i=t&&86===e.which,o=t&&90===e.which,n=t&&e.shiftKey&&90===e.which;if(13===e.which&&""===$(this).val()||t&&!i&&!o&&!n)return!0;App.bodyHasClass("client-sent-message")||8===e.which||16===e.which||17===e.which||18===e.which||91===e.which||46===e.which||App.hideTextareaPlaceholder()}).keyup(function(){App.bodyHasClass("client-sent-message")||""!==$(this).val()||App.showTextareaPlaceholder(),$("body").toggleClass("textarea-not-empty",""!==$.trim($(this).val()))}).focus(function(){App.notifyParent.send("message_input_focus")}).blur(function(){App.notifyParent.send("message_input_blur")})},bindMinimizeButton:function(){if(App.isMobile())return!1;App.tooltip.set($("#minimize"))},closeMiniMenu:function(){$("#rating-and-transcript").hide(),$("body").removeClass("mini-menu-visible")},showMiniMenu:function(){$("#rating-and-transcript").show(),$("body").addClass("mini-menu-visible")},bindHamburgerMenu:function(){$("#mini-menu").bind(App.clickEvent,function(e){e.preventDefault(),e.stopPropagation(),$("#rating-and-transcript").is(":visible")?App.closeMiniMenu():App.showMiniMenu(),App.tooltip.hide()}),$("body").bind(App.clickEvent,function(){App.closeMiniMenu()}),App.tooltip.set($("#mini-menu"))},isPopOut:function(){return App.popout.isPopOut()},isDirectLink:function(){return!window.opener&&!this.isEmbedded()},bindCloseChatButton:function(){App.tooltip.set($("#close-chat")),$("#close-chat").bind(App.clickEvent,function(){return!!App.chat.running()&&(App.file.hideConfirmationAndCancelFiles(),App.showConfirmClosing(),!1)}),$("#leave-chat").bind(App.clickEvent,function(){return App.leaveChat(),!1}),$("#dont-leave-chat").bind(App.clickEvent,function(){return App.cancelLeavingChat(),!1})},bindDragAndDrop:function(){App.file.addListeners()},unBindDragAndDrop:function(){App.file.removeListeners()},bindTextareaFocus:function(){App.$message.focus(function(e){App.getWindowMode()===App.WINDOW_MAXIMIZED&&(App.readMessage.notifyAboutReadMessage(),App.recentWindow.markAsRecent())}).blur(function(){""!==App.$message.val()||App.bodyHasClass("client-sent-message")||App.showTextareaPlaceholder(),App.isiOSChrome()&&App.notifyParent.send("resize_mobile_window")})},bindTextareaPlaceholderClick:function(){App.$message.siblings("#message-placeholder").bind(App.clickEvent,function(){return App.$message.focus(),!1})},bindTextareaRememberMessage:function(){var e;e=setInterval(function(){if(!0!==App.windowsCommunicator.isMainWindow())return clearInterval(e),!1;Store.set("message_text",App.$message.val())},1e3)},clearRememberedMessage:function(e){App.$message.val()===e&&App.$message.val("")},bindSurveyAfterGreeting:function(){App.$surveyAfterGreeting.find("input[type=button]").bind(App.clickEvent,function(){return App.hideGreetingSurveyButton(),App.prechatSurvey.load({showAfterGreeting:!0}),!1})},bindMinimizeOnEscape:function(){if(App.isMobile())return!1;$(document).keyup(function(e){if(App.updateLastActivityTime(),!1===App.$message.is(":focus"))return!1;27==e.which&&App.minimizeWindow()}),$(document).mousedown(function(e){App.updateLastActivityTime()})},clientIsTyping:function(){App.lastClientKeypressTime=App.getTimestamp()},typingIndicatorAnimate:function(){App.typingIndicatorDotsCounter++,App.typingIndicatorDotsCounter>6&&(App.typingIndicatorDotsCounter=0),dots="";for(var e=0;e<App.typingIndicatorDotsCounter;e++)dots+=".";dots=dots.substring(0,3),App.$typingIndicatorDots.html(dots)},startTypingIndicatorAnimation:function(){App.typingIndicatorDotsCounter=0,App.typingIndicatorAnimate(),App.typingIndicatorAnimationObserver=setInterval(App.typingIndicatorAnimate,200)},stopTypingIndicatorAnimation:function(){App.typingIndicatorAnimationObserver&&(clearInterval(App.typingIndicatorAnimationObserver),App.typingIndicatorAnimationObserver=null)},hideOperatorIsTyping:function(){App.stopTypingIndicatorAnimation(),App.$typingIndicator.hide()},runClientIsTypingObserver:function(){App.clientTypingObserverId=setInterval(App.clientTypingObserver,1e3)},clientTypingObserver:function(){return!1!==App.chat.getRunning()&&(null===App.lastClientKeypressTime?(App.sendClientIsTyping(0),!0):(App.getTimestamp()-App.lastClientKeypressTime>3?App.sendClientIsTyping(0):App.sendClientIsTyping(1),!0))},sendClientIsTyping:function(e){this.lastClientTypingStatus!==e&&(this.lastClientTypingStatus=e,this.request.send(["IWCS0004P",this.chat.getID(),"LCOP0003S&#45;"+this.SESSION_ID+"&#45;"+e,this.SESSION_ID,this.chat.getGUID()]))},disableChat:function(){this.request.setConnectionLost(),this.stopPing(),this.hideOperatorIsTyping(),this.hideTextarea(),this.setState(this.STATE_CHAT_ENDED)},connectionLost:function(e){if(e=e||{},!0===this.request.connectionIsLost())return!0;this.disableChat(),1==this.chat.getStarted()?(this.displayNewMessage({message:__tran("Lost_Connection")}),this.events.track("chat_window_connection_lost","connection-lost; chat started")):(this.showView("connection-lost"),this.events.track("chat_window_connection_lost","connection-lost; chat not started")),this.addBodyClass("chat-ended"),this.displayStartAgainLink()},notWorkingCookiesAndLocalStorage:function(){this.disableChat(),this.showView("not-working-cookies-and-local-storage")},escape:function(e){return e?(e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")):""},escapeString:function(e){return $("<div/>").text(e).html()},escapeForIWCS:function(e){return e.replace(/&/g,"&amp;").replace(/-/g,"&#45;").replace(/\^/g,"&#94;").replace(/\r/g,"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<BR>")},unescapeForIWCS:function(e){return e.replace(/<BR>/g,"\n").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#94;/g,"^").replace(/&#45;/g,"-").replace(/&amp;/g,"&")},getTime:function(e){var t,i,o,n;return void 0===e?t=new Date:(e=parseInt(e,10),t=new Date(1e3*e)),i=t.getHours(),o=t.getMinutes(),i<12?n="am":(n="pm",i-=12),0===i&&(i=12),o<10&&(o="0"+o),i+":"+o+" "+n},getTimestamp:function(){return Math.round(+new Date/1e3)},messageIsEmpty:function(e){return 0===$.trim(e).length},parseIncomingMessage:function(e,t){var i=this,o=e,t=$.extend({greeting:!1},t);o=$.trim(o),o=o.replace(/&lt;BR&gt;/gi,"\n"),o=o.replace(/<BR>/gi,"\n"),o=App.escapeString(o),o=o.replace(/\n{3,}/g,"\n\n"),o=o.replace(/\n/g,"<BR>");var n=this.regexp.urlDetection||function(){var e="((?:\\(|&lt|\\[).*?)?\\b(((?:https?|ftps?|file):\\/\\/|www\\d{0,3}.|[a-z0-9.\\-]+[.][a-z]{2,4}\\/)[-\\p{L}0-9+&@#$*^`\\|\\\\\\/%?=~_(){}&lt\\[\\]|!:,.;']*[-\\p{L}0-9+&@#$*^\\|\\\\\\/%?=~_(){}\\[\\]|;])".replace(/\p{L}/g,"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ");return i.regexp.urlDetection=new RegExp(e,"gi")}();o=o.replace(n,function(e,o,n){var r="";o=o||"";for(var a=/\(|\&lt|\[/g;a.exec(o);){var s;(s=/(.*)(\.(?:\)|\&gt|\]).*)/.exec(n)||/(.*)((?:\)|\&gt|\]).*)/.exec(n))&&(n=s[1],r=s[2]+r)}var p=n.replace(/^www/,"http://www");return-1===p.indexOf("://")&&(p="http://"+p),!App.isMobile()&&!App.getHistoryLoading()&&App.LC2&&App.shouldUnfurlLinks()&&App.getUrlDetails(p),App.getHistoryLoading()||!0===t.greeting||Math.random()<.005&&App.events.track("chat_window","new link, href="+p+", text="+n),o+'<a target="_blank" rel="noopener nofollow" href="'+i.encodeURIifNeeded(p)+'">'+n+"</a>"+r});var r;r=2==="a'b".split(/(')/).length?function(e){if(void 0===e)return[this];var t=arguments.length>1?arguments[1]:-1,i=[];if(e.constructor===RegExp){e.global=!0;for(var o,n=this;o=e.exec(n);){i.push(n.substring(0,o.index));for(var r=1,a=o.length;r<a;r++)i.push(o[r]);n=n.substring(e.lastIndex,n.length)}i.push(n)}else for(var s=0,p=0,l=this.length,c=e.length;-1!==p;)p=this.indexOf(e,s),-1!==p?(i.push(this.substring(s,p)),s=p+c):i.push(this.substring(s,l));return arguments.length>1&&i.length>t&&(i=i.slice(0,t)),i}:String.prototype.split;var a=/(<a target="_blank" rel="noopener nofollow" href=".*<\/a>)/;return o=r.call(o,a),o=$.map(o,function(e,t){return 0!==e.indexOf('<a target="_blank" rel="noopener nofollow" href="')?e.replace(/"/g,"&quot;"):e}).join(""),o=App.shortener.shorten(o)},isCreditCard:function(e){if(e=e.toString(),/[^0-9-\s]+/.test(e))return!1;var t=0,i=0,o=!1;e=e.replace(/\D/g,"");for(var n=e.length-1;n>=0;n--){var r=e.charAt(n),i=parseInt(r,10);o&&(i*=2)>9&&(i-=9),t+=i,o=!o}return t%10==0},stripCreditCards:function(e){var t,i;if(App.CONFIG.mask_credit_cards&&(t=e.match(App.re.creditCards))&&t.length>0)for(i=0;i<t.length;i++)App.isCreditCard(t[i])&&(e=e.replace(App.re.creditCards,function(e,t){switch(e=e.toString().replace(/-/g,""),t=t.toString().replace(/-/g,""),e.length){case 13:return"XXX-XXX-XXX-"+t;case 14:return"XXX-XXX-XXXX-"+t;case 15:return"XXX-XXXX-XXXX-"+t;case 16:default:return"XXXX-XXXX-XXXX-"+t}}));return e},sendMessage:function(e){var t;if(e=$.extend({message:App.$message.val()},e),e.message&&(e.message=this.stripCreditCards(e.message)),App.messageIsEmpty(e.message))return!1;var i=App.generateMessageRandomID();if(App.getState()===App.STATE_INVITATION_WITH_AGENT){var o={message:e.message,id:i};App.chat.setFirstMessage(o),App.startChat({loading_indicator:!1,visitor_message:o,source:this.displayedAutoInvitation?"automatic invitation":"predicted agent"})}else App.request.sendJSON("send_message",{author:"visitor",message:e.message,message_id:i},{successFn:function(){App.chat.markDeliveredMessage()}});return App.chat.lastMessage=i,e.omitDisplaying||(t=e.message,e.message=App.parseIncomingMessage(t),App.displayNewMessage({message:e.message,who:App.CLIENT,message_id:i})),App.getHistoryLoading()||App.notifyParent.send("message_sent;"+encodeURIComponent(t)+";"+encodeURIComponent(App.client.getName())+";"+ +new Date),Store.remove("message_text"),!0},receivedMessage:function(e,t,i,o,n){var r=t;return t=App.parseIncomingMessage(t),App.chat.addUnseenMessage(n).setOperatorsLastMessage(n),App.getHistoryLoading()||App.notifyParent.send("message_received;"+encodeURIComponent(r)+";"+encodeURIComponent(e)+";"+ +new Date+";"+encodeURIComponent(App.getOperatorByID(e).getDisplayName())),i=1===parseInt(i,10),void 0===o&&(o=App.getTimestamp()),App.displayNewMessage({message:t,who:App.OPERATOR,operator_id:e,mobile:i,timestamp:o,message_id:n}),App.sendToMobileNativeWrapper({messageType:"newMessage",text:r,id:n,timestamp:o,author:{name:App.getOperatorByID(e).getDisplayName()}}),!0},parseLinks:function(e){return e.replace(/(((https?\:\/\/|ftp\:\/\/)|(www\.))[^\s"'<]+)/gi,function(e){var t,i=e.match(/([\.,]*)$/)[0];return e=e.replace(/[\.,]*$/,""),t=e,'<a target="_blank" rel="nofollow" href="'+(t=t.replace(/^www/,"http://www"))+'">'+e+"</a>"+i})},getUrlDetails:function(e){App.request.sendJSON("url_details",{id:CryptoJS.SHA256(e).toString(),url:e,visitor:{id:App.SESSION_ID}})},displayUrlPreview:function(e){var t,i,o,n,r=$('a[href="'+e.url+'"]');if(!r.length)return App.queuedUrlDetails.push(e),!0;n=App.checkUpdateScroll(),t='<span class="url-preview">',e.image_url&&(i=e.image_height>75?75:e.image_height,o=parseInt(i/e.image_height*e.image_width,10),t+='<a href="'+e.url+'" target="_blank" class="image"><img height="'+i+'" width="'+o+'" src="https://'+e.image_url+'"></a>'),(e.title||e.description)&&(t+='<span class="details">',e.title&&(t+='<a href="'+e.url+'" target="_blank" class="title">'+this.escapeString(e.title)+"</a>"),e.description&&(t+='<a href="'+e.url+'" target="_blank" class="description">'+this.escapeString(e.description)+"</a>"),t+="</span>"),t+="</span>",r.first().parent().parent().append(t).find(".url-preview a").hover(function(){$(this).parents(".url-preview").addClass("hover")},function(){$(this).parents(".url-preview").removeClass("hover")}),n&&App.scrollBottom()},checkUpdateScroll:function(){var e=App.$bodyInner[0].scrollTop,t=App.$bodyInner[0].scrollHeight-App.$bodyInner.innerHeight();return Math.abs(e-t)<1},scrollTop:function(){App.$bodyInner[0].scrollTop=0},scrollBottom:function(){App.$bodyInner[0].scrollTop=App.$bodyInner[0].scrollHeight},appendMessage:function(e){return this.doWithScrollCheck(function(){var t=$(e);return App.$typingIndicator.before(t),t})},clearMessages:function(){App.$typingIndicator.siblings().remove(),App.lastMessageAuthorType=null,App.lastMessageAuthorOperatorID=null,App.lastMessageTime=null},displayBody:function(){$("body").css("visibility","visible")},showOperatorsBar:function(){App.$operatorsContainer.show(),App.addBodyClass("has-operators-bar"),App.updateBodyHeight()},hideOperatorsBar:function(){App.$operatorsContainer.hide(),App.removeBodyClass("has-operators-bar"),App.updateBodyHeight()},showTextarea:function(){App.$textarea.show(),App.updateBodyHeight(),0===App.$message.val().length&&null!=Store.get("message_text")&&""!=Store.get("message_text")&&(App.$message.val(Store.get("message_text")),App.addBodyClass("client-sent-message"))},hideTextarea:function(){App.$textarea.hide(),App.updateBodyHeight()},disableTextarea:function(){App.$message.attr("disabled","disabled")},enableTextarea:function(){App.$message.removeAttr("disabled").focus()},showTextareaPlaceholder:function(){if(!App.isMobile()){App.$message.siblings("#message-placeholder").css("zIndex",0)}},hideTextareaPlaceholder:function(){App.$message.siblings("#message-placeholder").css("z-index",-1e3)},showGreetingSurveyButton:function(){App.$surveyAfterGreeting.show(),App.addBodyClass("has-greeting-button"),App.updateBodyHeight()},hideGreetingSurveyButton:function(){App.$surveyAfterGreeting.hide(),App.removeBodyClass("has-greeting-button"),App.$footer.show()},showLoadingIndicator:function(){App.showView("loading")},leaveChat:function(){App.request.sendJSON("close_chat",{source:"visitor"}),App.endChat({closed_manually:!0}),App.showLoadingIndicator()},cancelLeavingChat:function(){App.showOperatorsBar(),App.showTextarea(),"ontouchstart"in window==!1&&App.$message.focus(),App.showView("chat"),App.scrollBottom();var e=$("#send-file-clip");e.length&&(e.replaceWith(e[0].outerHTML),App.tooltip.set($("#send-file-clip .icon-clip"),!0))},displayNewMessage:function(e){var t="",i=null,o="",n=[];switch(e=$.extend({message:"",who:App.SYSTEM,operator_id:null,mobile:!1,timestamp:!1,loading_history:!1},e),e.who===App.OPERATOR?n.push("operator-not-seen"):e.who===App.CLIENT&&(App.$lastSentMessage&&App.$lastSentMessage.removeClass("last-sent"),n.push("last-sent")),App.lastMessageAuthorType!==e.who||App.lastMessageAuthorType===App.OPERATOR&&App.lastMessageAuthorOperatorID!==e.operator_id?i=!1:(i=!0,n.push("same-author")),e.who!==App.SYSTEM&&e.who!==App.INTEGRATION?(o='<span class="time">',!1===e.timestamp?o+=App.getTime():o+=App.getTime(e.timestamp),o+="</span> ",App.lastMessageTime==o?!0===i&&(o=""):App.lastMessageTime=o):o="",e.who){case App.OPERATOR:t='<span class="author">',t+=App.escapeString(App.getOperatorByID(e.operator_id).getDisplayName()),e.mobile&&(t+='<span class="icon i-mobile icon-mobile" title="'+__tran("Mobile_info")+'"></span>'),t+="</span>",n.push("operator"),n.push("operator-border");break;case App.CLIENT:t='<span class="author">'+App.escapeString(App.client.getName())+"</span> ",n.push("client"),n.push("client-border");break;case App.SYSTEM:n.push("system");break;case App.INTEGRATION:break;default:App.alert("Unsupported author. Error message: "+e.who)}!0===i&&(t=""),App.lastMessageAuthorType=e.who,App.lastMessageAuthorType===App.OPERATOR&&(App.lastMessageAuthorOperatorID=e.operator_id);var r="";if(e.who===App.INTEGRATION)r+='<div class="integration">',r+=t,r+=o,r+='<span class="msg-text">'+e.message+"</span>",r+="</div>";else{r+='<p class="'+n.join(" ")+'"',e.message_id&&(r+=' data-message-id="'+e.message_id+'"'),r+=">"+t,r+=o,r+='<span class="msg-text">'+e.message+"</span>";var a=e.thumbnail;a&&(r+='<a href="'+a.originalUrl+'" target="_blank">',r+='<img class="thumbnail" src="'+a.url+'" alt="'+$(e.message).text()+'" height="'+a.height+'" width="'+a.width+'">',r+="</a>"),e.who===App.CLIENT&&(r+='<span class="last-seen-indicator',App.getHistoryLoading()&&(r+=" no-animation"),r+='"><span class="icon-tick"></span> '+__tran("Message_read")+"</span>",r+='<span class="delivered-indicator">'+__tran("Message_delivered")+"</span>"),r+="</p>"}App.hideView("loading");var s=App.appendMessage(r);if(e.who===App.CLIENT&&(App.$lastSentMessage=s,App.addBodyClass("client-sent-message"),App.scrollBottom()),App.queuedUrlDetails.length)for(var p=0;p<App.queuedUrlDetails.length;p++)App.displayUrlPreview(App.queuedUrlDetails.shift());return App.getHistoryLoading()||e.who===App.CLIENT||e.who===App.SYSTEM||(App.chat.getStarted()&&App.readMessage.notifyAboutNewMessage(),!0!==App.chat.getStarted()&&App.getState()!==App.STATE_INVITATION_WITH_AGENT||!0===App.windowsCommunicator.isMainWindow()&&App.playSound()),this.calculateMessageWidth(),s},getParentUrl:function(){return this.notifyParent.getParentUrl()},openURL:function(e){App.notifyParent.send("pushpage;"+e)},getUniqueID:function(){return null===this.uniqueID&&(this.uniqueID=this.generateRandomNumber(this.uniqueIDLength)),this.uniqueID},mobileDevicesHacks:function(){if(this.isMobileDetected())if(App.isNewMobile()&&App.isiOSSafari()){var e=document.querySelector('meta[name="viewport"]');e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}else{var t=0===window.outerHeight;!function(e){function t(){r.content="width=device-width,minimum-scale="+n[0]+",maximum-scale="+n[1],e.removeEventListener(i,t,!0)}var i="gesturestart",o="querySelectorAll",n=[1,1],r=o in e?e[o]("meta[name=viewport]"):[];(r=r[r.length-1])&&"addEventListener"in e&&(t(),n=[.25,1.6],e.addEventListener(i,t,!0))}(document),!this.isMobile()||window.innerHeight==window.outerHeight||t||App.isWindowsPhone()||1.5*window.innerHeight<window.outerHeight||(this.mobileFooterOffset=window.outerHeight-window.innerHeight,$("#wrapper").css("margin-bottom",this.mobileFooterOffset),this.updateBodyHeight())}},getMobileFooterOffset:function(){return this.mobileFooterOffset},setupTriggerUniqueID:function(){$.getUrlParam("trigger")&&""===App.TRIGGER_UNIQUE_ID&&(timestamp=parseInt($.getUrlParam("timestamp"),10),timestamp&&+new Date-timestamp<1e4&&("manual"===$.getUrlParam("trigger")?App.setSourceInvitation():App.TRIGGER_UNIQUE_ID=$.getUrlParam("trigger")))},preloadSound:function(){if($("#sound").length)return!1;this.hasAudioSupport?($("#content").after(['<audio preload="auto" id="sound">','<source src="//cdn.livechatinc.com/widget/sounds/message.ogg" type="audio/ogg" />','<source src="//cdn.livechatinc.com/widget/sounds/message.mp3" type="audio/mp3" />','<source src="//cdn.livechatinc.com/widget/sounds/message.wav" type="audio/wav" />',"</audio>"].join("\n")),this.$sound=$("#sound")[0]):this.browser.msie&&$("body").append('<bgsound id="sound" />')},playSound:function(e){if(!this.disabledSounds){var t=this,e=$.extend({preloadOnMobile:!1},e),i=$("#sound");if(0===i.length)return!1;if(App.getTimestamp()-this.previousSoundTime<2)return!0;if(this.previousSoundTime=App.getTimestamp(),!0===this.hasAudioSupport){var o=this.$sound.play();o&&"function"==typeof o.then&&o.catch(function(){}),e.preloadOnMobile&&setTimeout(function(){t.$sound.pause(),t.$sound.currentTime=0},10)}else this.browser.msie&&(i[0].src="//cdn.livechatinc.com/widget/sounds/message.mp3")}},bindUnloadEvent:function(){var e=this;return null!=window.addEventListener&&(!!this.isFirefox()&&void window.addEventListener("beforeunload",function(t){e.pageUnloaded=!0},!1))},pageIsUnloaded:function(){return this.pageUnloaded},scaleFacebookButton:function(){var e=parseInt($("html").css("font-size")),t=e/16;$(".form-facebook iframe").css("-webkit-transform","scale("+t+")").css("transform","scale("+t+")")},setOperatorWhoClosed:function(e){this._operatorWhoClosed=e},getOperatorWhoClosed:function(){var e=this._operatorWhoClosed;return delete this._operatorWhoClosed,e},setPingSent:function(e){this._lastPing=+new Date,this._pingSent=e},wasPingSent:function(){return this._pingSent},forcePing:function(){this.popout.isPopOut()||this.popout.isInIframe()?this.pinger.ping({forcePing:!0}):this.notifyParent.send("force_ping;"+!0)},ensurePing:function(e){var t=this;Utils.makeItDone(e).doBeforeTrying(function(){t.forcePing()}).when(function(){return t.wasPingSent()}).tryEach(200)},setLinksUnfurling:function(e){return this._linksUnfurling=e,this},shouldUnfurlLinks:function(){return this._linksUnfurling},setSecretToken:function(e){return this.secretToken=e,Store.set(this.getSecretTokenName(),e,{expires:1}),this},getSecretToken:function(){return this.secretToken||Store.get(this.getSecretTokenName())},removeSecretTokens:function(){return this.secretToken=null,Store.remove(this.getSecretTokenName()),Store.remove("lc."+App.LICENSE+".secret_id"),this},getSecretTokenName:function(){return"secret_token_"+this.LICENSE},isOffline:function(){return this.getState()===this.STATE_OFFLINE},setVisitorInteraction:function(e){return this._firstInteractionTime||(this._firstInteractionTime=+new Date),this._visitorInteraction=e,this},getVisitorInteraction:function(){return this._visitorInteraction},setSkillFormDisabledFlag:function(e,t){return this._skillsFormsDisabled=this._skillsFormsDisabled||{},this._skillsFormsDisabled[e]=t,this},getSkillFormDisabledFlag:function(e){return this._skillsFormsDisabled&&this._skillsFormsDisabled[e]},encodeURIifNeeded:function(e){try{return decodeURI(e)===e?e:encodeURI(decodeURIComponent(e))}catch(t){return e}},bindChatScrolling:function(){$("#body-inner").on("scroll",Utils.throttle(function(){App.chat.findLastSeenMessage()},200))},doWithScrollCheck:function(e){var t=this.checkUpdateScroll(),i=e();return t&&this.scrollBottom(),i},elementIsSeen:function(e){var t=parseInt(e.css("padding-top"),10);return e.position().top+t+e.height()<=$("#body-inner").height()},calculateMessageWidth:Utils.once(function(){var e=$("#view-chat").children().first(),t=parseInt(e.css("width"),10),i=parseInt(e.css("border-left-width"),10),o=parseInt(e.css("border-right-width"),10),n=parseInt(e.css("padding-left"),10),r=parseInt(e.css("padding-right"),10);App.messageWidth=t-i-o-n-r}),initAmplitude:function(){var e=this;e.amplitude={_q:[],_callbacks:[],_fake:!0};var t=function(t){e.amplitude[t]=function(){e.amplitude._q.push([t].concat([].slice.call(arguments)))}},i=["logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties"];Utils.forEach(i,t),e.browser.msie&&e.browser.version},loadAmplitude:function(){var e=this;require(["https://d24n15hnbwhuhn.cloudfront.net/libs/amplitude-2.9.0-min.gz.js"],function(t){t.init("752a098c80057277abc583972de75209",null,{includeReferrer:!0}),t.setVersionName("20181114111011"),t._q=e.amplitude._q,t.runQueuedFunctions();var i=e.amplitude._callbacks;e.amplitude=t,Utils.forEach(i,function(e){e()})})},trackEngagement:function(e,t){this.shouldTrackToAmplitude()&&this.amplitude.logEvent(e,t)},trackEngagementFromTracking:function(e){var t,i={};if("show_minimized"===e.name)t="Minimized Loaded",i={time_after_load:e.page_load_time};else if("first_time_init"===e.name&&this.shouldTrackFirstTimeInit())return void this.trackFirstTimeInit(e.request_length,e.page_load_time);this.trackEngagement(t,i)},trackFirstTimeInit:function(e,t){var i=this,o=function(){i.isDirectLink()&&(i._navigationStart=Utils.getNavigationStart()),i.shouldTrackFirstTimeInit()&&i._navigationStart>0&&i.trackEngagement("First time init",{theme_name:App.CONFIG.group_properties.chat_window.theme.name,theme_customized:"1"===App.CONFIG.group_properties.chat_window.theme.customized,theme_minimized:App.CONFIG.group_properties.chat_window.theme.minimized,theme_color:App.CONFIG.group_properties.chat_window.theme.color,visitor_id:App.SESSION_ID,license:App.LICENSE,group:App.SKILL,chat_between_groups:App.chatBetweenGroups(),platform:App.getPlatformName(),chat_window_type:App.getChatType(),time_after_load:t||i._firstInteractionTime-i._navigationStart,request_length:e,https:!0})};if(i.amplitude._fake)return i.amplitude._callbacks.push(o);o()},getChatType:function(){return this.isEmbedded()?"embedded":this.isDirectLink()?"direct link":this.isPopOut()?"popup":void 0},trackStartChatResponse:function(e){!this._trackedStartChatResponse&&App.startChatSource&&(App.trackEngagement("Start Chat Response",e),this._trackedStartChatResponse=!0)},getPlatformName:function(){return this.isNewMobile()?"new mobile":this.isMobile()?"mobile":"desktop"},mobileBridgeType:function(){return Utils.get(window,"webkit.messageHandlers.iosMobileWidget.postMessage")?"ios":Utils.get(window,"androidMobileWidget.postMessage")?"android":null}(),sendToMobileNativeWrapper:function(e){"ios"===App.mobileBridgeType&&window.webkit.messageHandlers.iosMobileWidget.postMessage(e),"android"===App.mobileBridgeType&&window.androidMobileWidget.postMessage(JSON.stringify(e))},parseGlobalProperties:function(e,t){e=e||{},this.pingRatio=parseFloat(e.prod.ping_ratio)||1,this.operatorsAndChatStateRatio=parseFloat(e.prod.operators_and_chat_state_ratio)||1,this.getPendingMessagesRatio=parseFloat(e.prod.get_pending_messages_ratio)||1,this.requestsDistributor=GlobalPropertiesParser.parseRequestsDistribution(e.prod.requests_distribution,App.SERVER_ADDRESS,t)}};$(document).ready(function(){App.initAmplitude(),App.preload(),App.init()}),function(e){e.fn.autogrow=function(t){return this.filter("textarea").each(function(){var t=e(this),i=t.height(),o=i,n=i,r=t.css("lineHeight"),a=4*parseInt(r,10),s=e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:t.width(),fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),lineHeight:t.css("lineHeight"),resize:"none"}).appendTo(document.body),p=function(){var t,r=function(e,t){for(var i=0,o="";i<t;i++)o+=e;return o},p=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return r("&nbsp;",e.length-1)+" "});t=App.checkUpdateScroll(),s.html(p),n=Math.max(s.height(),i),n=Math.min(a,n),e(this).css("height",n),n!==o&&(App.updateBodyHeight(),t&&App.scrollBottom()),o=n};t.change(p).keyup(p).keydown(p),e(window).resize(function(){s.css("width",t.width())}),p.apply(this)}),this}}(jQuery);