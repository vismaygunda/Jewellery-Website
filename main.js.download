/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
(function($){$(document).ready(function(){$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()});function format(str){for(var i=1;i<arguments.length;i++){str=str.replace("%"+(i-1),arguments[i])}return str}function CloudZoom(jWin,opts){var sImg=$("img",jWin);var img1;var img2;var zoomDiv=null;var $mouseTrap=null;var lens=null;var $tint=null;var softFocus=null;var $ie6Fix=null;var zoomImage;var controlTimer=0;var cw,ch;var destU=0;var destV=0;var currV=0;var currU=0;var filesLoaded=0;var mx,my;var ctx=this,zw;setTimeout(function(){if($mouseTrap===null){var w=jWin.width();jWin.parent().append(format('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',w/3,(w/2)-(w/6))).find(":last").css("opacity",0.5)}},200);var ie6FixRemove=function(){if($ie6Fix!==null){$ie6Fix.remove();$ie6Fix=null}};this.removeBits=function(){if(lens){lens.remove();lens=null}if($tint){$tint.remove();$tint=null}if(softFocus){softFocus.remove();softFocus=null}ie6FixRemove();$(".cloud-zoom-loading",jWin.parent()).remove()};this.destroy=function(){jWin.data("zoom",null);if($mouseTrap){$mouseTrap.unbind();$mouseTrap.remove();$mouseTrap=null}if(zoomDiv){zoomDiv.remove();zoomDiv=null}this.removeBits()};this.fadedOut=function(){if(zoomDiv){zoomDiv.remove();zoomDiv=null}this.removeBits()};this.controlLoop=function(){if(lens){var x=(mx-sImg.offset().left-(cw*0.5))>>0;var y=(my-sImg.offset().top-(ch*0.5))>>0;if(x<0){x=0}else{if(x>(sImg.outerWidth()-cw)){x=(sImg.outerWidth()-cw)}}if(y<0){y=0}else{if(y>(sImg.outerHeight()-ch)){y=(sImg.outerHeight()-ch)}}lens.css({left:x,top:y});lens.css("background-position",(-x)+"px "+(-y)+"px");destU=(((x)/sImg.outerWidth())*zoomImage.width)>>0;destV=(((y)/sImg.outerHeight())*zoomImage.height)>>0;currU+=(destU-currU)/opts.smoothMove;currV+=(destV-currV)/opts.smoothMove;zoomDiv.css("background-position",(-(currU>>0)+"px ")+(-(currV>>0)+"px"))}controlTimer=setTimeout(function(){ctx.controlLoop()},30)};this.init2=function(img,id){filesLoaded++;if(id===1){zoomImage=img}if(filesLoaded===2){this.init()}};this.init=function(){$(".cloud-zoom-loading",jWin.parent()).remove();$mouseTrap=jWin.parent().append(format("<div class='mousetrap' style='background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wDCQgqN0pFezEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAADUlEQVQI12NgYGBgAAAABQABXvMqOgAAAABJRU5ErkJggg==);z-index:999;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",sImg.outerWidth(),sImg.outerHeight(),0,0)).find(":last");$mouseTrap.bind("mousemove",this,function(event){mx=event.pageX;my=event.pageY});$mouseTrap.bind("mouseleave",this,function(event){clearTimeout(controlTimer);if(lens){lens.fadeOut(299)}if($tint){$tint.fadeOut(299)}if(softFocus){softFocus.fadeOut(299)}zoomDiv.fadeOut(300,function(){ctx.fadedOut()});return false});$mouseTrap.bind("mouseenter",this,function(event){mx=event.pageX;my=event.pageY;zw=event.data;if(zoomDiv){zoomDiv.stop(true,false);zoomDiv.remove()}var xPos=opts.adjustX,yPos=opts.adjustY;var siw=sImg.outerWidth();var sih=sImg.outerHeight();var w=opts.zoomWidth;var h=opts.zoomHeight;if(opts.zoomWidth=="auto"){w=siw}if(opts.zoomHeight=="auto"){h=sih}var appendTo=jWin.parent();switch(opts.position){case"top":yPos-=h;break;case"right":xPos+=siw;break;case"bottom":yPos+=sih;break;case"left":xPos-=w;break;case"inside":w=siw;h=sih;break;default:appendTo=$("#"+opts.position);if(!appendTo.length){appendTo=jWin;xPos+=siw;yPos+=sih}else{w=appendTo.innerWidth();h=appendTo.innerHeight()}}zoomDiv=appendTo.append(format('<div id="cloud-zoom-big" class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',xPos,yPos,w,h,zoomImage.src)).find(":last");if(sImg.attr("title")&&opts.showTitle){zoomDiv.append(format('<div class="cloud-zoom-title">%0</div>',sImg.attr("title"))).find(":last").css("opacity",opts.titleOpacity)}zoomDiv.fadeIn(500);if(lens){lens.remove();lens=null}cw=(sImg.outerWidth()/zoomImage.width)*zoomDiv.width();ch=(sImg.outerHeight()/zoomImage.height)*zoomDiv.height();lens=jWin.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",cw,ch)).find(":last");$mouseTrap.css("cursor",lens.css("cursor"));var noTrans=false;if(opts.tint){lens.css("background",'url("'+sImg.attr("src")+'")');$tint=jWin.append(format('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',sImg.outerWidth(),sImg.outerHeight(),opts.tint)).find(":last");$tint.css("opacity",opts.tintOpacity);noTrans=true;$tint.fadeIn(500)}if(opts.softFocus){lens.css("background",'url("'+sImg.attr("src")+'")');softFocus=jWin.append(format('<div style="position:absolute;display:none;top:2px; left:2px; width:%0px; height:%1px;" />',sImg.outerWidth()-2,sImg.outerHeight()-2,opts.tint)).find(":last");softFocus.css("background",'url("'+sImg.attr("src")+'")');softFocus.css("opacity",0.5);noTrans=true;softFocus.fadeIn(500)}if(!noTrans){lens.css("opacity",opts.lensOpacity)}if(opts.position!=="inside"){lens.fadeIn(500)}zw.controlLoop();return})};img1=new Image();$(img1).load(function(){ctx.init2(this,0)});img1.src=sImg.attr("src");img2=new Image();$(img2).load(function(){ctx.init2(this,1)});try{img2.src=jWin.attr("href")}catch(e){}}$.fn.CloudZoom=function(options){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}this.each(function(){var relOpts,opts;eval("var	a = {"+$(this).attr("rel")+"}");relOpts=a;if($(this).is(".cloud-zoom")){$(this).css({position:"relative",display:"block"});$("img",$(this)).css({display:"block"});if($(this).parent().attr("id")!="wrap"){$(this).wrap('<div id="wrap" style="top:0px;z-index:9999;position:relative;"></div>')}opts=$.extend({},$.fn.CloudZoom.defaults,options);opts=$.extend({},opts,relOpts);$(this).data("zoom",new CloudZoom($(this),opts))}else{if($(this).is(".cloud-zoom-gallery")){opts=$.extend({},relOpts,options);$(this).data("relOpts",opts);$(this).bind("click",$(this),function(event){var data=event.data.data("relOpts");$("#"+data.useZoom).data("zoom").destroy();$("#"+data.useZoom).attr("href",event.data.attr("href"));$("#"+data.useZoom+" img").attr("src",event.data.data("relOpts").smallImage);$("#"+event.data.data("relOpts").useZoom).CloudZoom();return false})}}});return this};$.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:false,tintOpacity:0.5,lensOpacity:0.5,softFocus:false,smoothMove:4,showTitle:false,titleOpacity:0.5,adjustX:0,adjustY:0}})(jQuery);function insertParam(g){var d=$("#"+g).attr("name");var e=$("#"+g+" option:selected").attr("value");if(e=="select"){return}d=escape(d);e=escape(e);var b=document.location.search.substr(1).split("&");var c=b.length;var a;while(c--){a=b[c].split("=");if(a[0]=="p"){b.splice(c,1)}if(a[0]==d){a[1]=e;b[c]=a.join("=");break}}if(c<0){b[b.length]=[d,e].join("=")}var f=b.join("&");document.location.search=f.replace(new RegExp("^[&]+","g"),"")};$(document).ready(function(){$("#question-form").validationEngine("attach",{onValidationComplete:function(b,a){if(a){return submitQuestion()}}});$("#solitaire-landing-question-form").validationEngine("attach",{onValidationComplete:function(b,a){if(a){return submitSolitaireLandingQuestion("#solitaire-landing-question-form")}},scroll:false});$("#solitaire-landing-question-form-top").validationEngine("attach",{onValidationComplete:function(b,a){if(a){return submitSolitaireLandingQuestion(".sl-form")}},scroll:false});$("#solitaire-menu-question-form").submit(function(a){a.preventDefault();return submitSolitaireMenuQuestion()});$("#wedding-question-form").validationEngine("attach",{onValidationComplete:function(b,a){if(a){return submitQuestionWedding()}}})});function submitQuestion(){var e=$("#customername").val();var d=$("#question-email").val();var c=$("#question").val();var a=$("#question-phone").val();var b=$("#pageType").val();if(!b){b=""}$.ajax({type:"POST",url:GLOBAL_CTX+"/crm/question",async:false,cache:false,dataType:"json",data:"name="+encodeURI(e)+"&email="+encodeURI(d)+"&phone="+encodeURI(a)+"&question="+encodeURI(c)+"&pageType="+encodeURI(b),success:function(f){if(f.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+f.errors.join("<br />")+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container text-center"><div class="success-container-inner"><i class="icon-ion-ios-checkmark-outline"></i><br>Thank you!<br> We will get back to you soon.</div><div>');$("#popup-messages").fadeIn();$("#question-form").parents(".content").hide();return true}}})}function submitSolitaireLandingQuestion(e){var d=$("#customername").val();var c=$("#question-email").val();var b=$("#question").val();var a=$("#question-phone").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/solitaire/question",async:false,cache:false,dataType:"json",data:"name="+encodeURI(d)+"&email="+encodeURI(c)+"&phone="+encodeURI(a)+"&question="+encodeURI(b),success:function(f){if(f.hasError){$(e).find("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+f.errors.join("<br />")+"</div><div>");$(e).find("#popup-messages").show();return false}else{$(e).find("#popup-messages").html('<div class="success-container"><div class="success-container-inner"><span>Thank you for your interest!</span><br/>Our Diamond expert will get in touch with you soon to provide free consultation.</div><div>');$(e).find("#popup-messages").show();$(e).find(".hide").hide();trackGA("UITest-SolitaireLanding","LeadFormFilled","");$("#solitaire-landing-question-form").each(function(){this.reset()});$(e).find(".f-container").hide();return true}}})}function submitSolitaireMenuQuestion(){var c=$(".solitaire-menu-form #customernamea").val();var b=$(".solitaire-menu-form #question-emaila").val();var a=$(".solitaire-menu-form #question-phonea").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/solitaire/question",async:false,cache:false,dataType:"json",data:"name="+encodeURI(c)+"&email="+encodeURI(b)+"&phone="+encodeURI(a),success:function(d){if(d.hasError){$(".solitaire-menu-form #sol-popup-messages").html('<div class="error-container"><div class="error-container-inner">'+d.errors.join("<br />")+"</div><div>");$.fx.speeds.xslow=1500;$(".solitaire-menu-form #sol-popup-messages").fadeIn("xslow");$(".solitaire-menu-form .sol-men-frm").hide();return false}else{$(".solitaire-menu-form #sol-popup-messages").html('<div class="success-container"><div class="success-container-inner"><span><strong>Thank you for your interest!</strong><br/>Our diamond expert will get in touch with you soon to provide free consultation.</div><div>');$.fx.speeds.xslow=1500;$(".solitaire-menu-form #sol-popup-messages").fadeIn("xslow");$(".solitaire-menu-form .sol-men-frm").hide();$(".solitaire-menu-form #solitaire-menu-question-form").each(function(){this.reset()});return true}}})}function submitQuestionWedding(){var e=$("#customername").val();var d=$("#question-email").val();var c=$("#question").val();var a=$("#question-phone").val();var b=$("#pageType").val();if(!b){b=""}$.ajax({type:"POST",url:GLOBAL_CTX+"/crm/question",async:false,cache:false,dataType:"json",data:"name="+encodeURI(e)+"&email="+encodeURI(d)+"&phone="+encodeURI(a)+"&question="+encodeURI(c)+"&pageType="+encodeURI(b),success:function(f){if(f.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+f.errors.join("<br />")+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+f.success+"</div><div>");$("#popup-messages").show();$("#wedding-question-form").each(function(){this.reset()});return true}}})};"function"!==typeof Object.create&&(Object.create=function(f){function g(){}g.prototype=f;return new g});
(function(f,g,k){var l={init:function(a,b){this.$elem=f(b);this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a);this.userOptions=a;this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var b=this,e;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?
(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;
this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&
(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,
[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),
g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible);else return!1;a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},
baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=
!1,this.options.itemsMobile=!1;a=f(this.options.responsiveBaseWidth).width();a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),
a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&
!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var a=this,b,e;if(!0!==a.options.responsive)return!1;e=f(g).width();a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width();a.updateVars()},a.options.responsiveRefreshRate))};f(g).resize(a.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=
this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c));if(0===c%a.options.items||c===e)c>e||(b+=1);d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/
this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var a=0,b=0,e,c;this.positionsInArray=[0];this.pagesInArray=[];for(e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),
c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b);a.buttonPrev=
f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""});a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""});b.append(a.buttonPrev).append(a.buttonNext);b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault();f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=
f('<div class="owl-pagination"/>');a.owlControls.append(a.paginationWrapper);a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault();Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");a=0;b=this.itemsAmount-this.itemsAmount%this.options.items;for(c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&
(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;if(!1===a.options.pagination)return!1;a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===
f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===
this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;
this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?
this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;if(c.isTransition)return!1;"function"===typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]);a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0);c.currentItem=c.owl.currentItem=a;if(!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d)return c.swapSpeed(0),
!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1;a=c.positionsInArray[a];!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},
c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed);c.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=
this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";g.clearInterval(this.autoPlayInterval)},
checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;g.clearInterval(a.autoPlayInterval);a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},
addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1;e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:
!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},
gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event;d.newPosX=a(b).x-h.offsetX;d.newPosY=a(b).y-h.offsetY;d.newRelativeX=d.newPosX-h.relativePos;
"function"===typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem]));(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0);(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl");d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5);!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}
function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement;h.dragging=!1;!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing");d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right";0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();f(a.target).off("click.disable")}),
a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c)));b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0;d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;
!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval);!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing");d.newPosX=0;d.newRelativeX=0;f(this).css(d.removeTransition());e=f(this).position();h.relativePos=e.left;h.offsetX=a(c).x-e.left;h.offsetY=a(c).y-e.top;b("on");h.sliding=!1;h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=
a=0);return a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):
(c=b[d+1],a.currentItem=d+1))});return a.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,e){a.goTo(e)});
a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!==typeof c.data("original")?
b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-original");"fade"===d.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,
[d.$elem])}function c(){f+=1;d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var d=this,f=0,k;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("original")+")"),k=!0):b[0].src=b.data("original");c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px");e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1;e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,
100):e.wrapperOuter.css("height","")}var e=this,c=f(e.$owlItems[e.currentItem]).find("img"),d;void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");
this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+
"px","perspective-origin":g+"px"});d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,b)});c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(c,e)})},clearTransStyle:function(a,
b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");
f(k).off(".owl owl");f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();g.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,
a);this.unWrap();this.init(a,this.$elem)},addItem:function(a,b){var e;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();e=void 0===b||-1===b?-1:b;e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===
f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this);f.data(this,"owlCarousel",b)})};f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,
responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(l,o,i,e){var p=i("html"),d=i(l),a=i(o),q=i.fancybox=function(){q.open.apply(this,arguments)},k=navigator.userAgent.match(/msie/i),c=null,f=o.createTouch!==e,j=function(r){return r&&r.hasOwnProperty&&r instanceof i},b=function(r){return r&&i.type(r)==="string"},m=function(r){return b(r)&&r.indexOf("%")>0},h=function(r){return(r&&!(r.style.overflow&&r.style.overflow==="hidden")&&((r.clientWidth&&r.scrollWidth>r.clientWidth)||(r.clientHeight&&r.scrollHeight>r.clientHeight)))},n=function(t,s){var r=parseInt(t,10)||0;if(s&&m(t)){r=q.getViewport()[s]/100*r}return Math.ceil(r)},g=function(r,s){return n(r,s)+"px"};i.extend(q,{version:"2.1.5",defaults:{padding:7,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!f,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(k?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(s,r){if(!s){return}if(!i.isPlainObject(r)){r={}}if(false===q.close(true)){return}if(!i.isArray(s)){s=j(s)?i(s).get():[s]}i.each(s,function(x,y){var w={},t,B,z,A,v,C,u;if(i.type(y)==="object"){if(y.nodeType){y=i(y)}if(j(y)){w={href:y.data("fancybox-href")||y.attr("href"),title:y.data("fancybox-title")||y.attr("title"),isDom:true,element:y};if(i.metadata){i.extend(true,w,y.metadata())}}else{w=y}}t=r.href||w.href||(b(y)?y:null);B=r.title!==e?r.title:w.title||"";z=r.content||w.content;A=z?"html":(r.type||w.type);if(!A&&w.isDom){A=y.data("fancybox-type");if(!A){v=y.prop("class").match(/fancybox\.(\w+)/);A=v?v[1]:null}}if(b(t)){if(!A){if(q.isImage(t)){A="image"}else{if(q.isSWF(t)){A="swf"}else{if(t.charAt(0)==="#"){A="inline"}else{if(b(y)){A="html";z=y}}}}}if(A==="ajax"){C=t.split(/\s+/,2);t=C.shift();u=C.shift()}}if(!z){if(A==="inline"){if(t){z=i(b(t)?t.replace(/.*(?=#[^\s]+$)/,""):t)}else{if(w.isDom){z=y}}}else{if(A==="html"){z=t}else{if(!A&&!t&&w.isDom){A="inline";z=y}}}}i.extend(w,{href:t,type:A,content:z,title:B,selector:u});s[x]=w});q.opts=i.extend(true,{},q.defaults,r);if(r.keys!==e){q.opts.keys=r.keys?i.extend({},q.defaults.keys,r.keys):false}q.group=s;return q._start(q.opts.index)},cancel:function(){var r=q.coming;if(!r||false===q.trigger("onCancel")){return}q.hideLoading();if(q.ajaxLoad){q.ajaxLoad.abort()}q.ajaxLoad=null;if(q.imgPreload){q.imgPreload.onload=q.imgPreload.onerror=null}if(r.wrap){r.wrap.stop(true,true).trigger("onReset").remove()}q.coming=null;if(!q.current){q._afterZoomOut(r)}},close:function(r){q.cancel();if(false===q.trigger("beforeClose")){return}q.unbindEvents();if(!q.isActive){return}if(!q.isOpen||r===true){i(".fancybox-wrap").stop(true).trigger("onReset").remove();q._afterZoomOut()}else{q.isOpen=q.isOpened=false;q.isClosing=true;i(".fancybox-item, .fancybox-nav").remove();q.wrap.stop(true,true).removeClass("fancybox-opened");q.transitions[q.current.closeMethod]()}},play:function(t){var r=function(){clearTimeout(q.player.timer)},v=function(){r();if(q.current&&q.player.isActive){q.player.timer=setTimeout(q.next,q.current.playSpeed)}},s=function(){r();a.unbind(".player");q.player.isActive=false;q.trigger("onPlayEnd")},u=function(){if(q.current&&(q.current.loop||q.current.index<q.group.length-1)){q.player.isActive=true;a.bind({"onCancel.player beforeClose.player":s,"onUpdate.player":v,"beforeLoad.player":r});v();q.trigger("onPlayStart")}};if(t===true||(!q.player.isActive&&t!==false)){u()}else{s()}},next:function(s){var r=q.current;if(r){if(!b(s)){s=r.direction.next}q.jumpto(r.index+1,s,"next")}},prev:function(s){var r=q.current;if(r){if(!b(s)){s=r.direction.prev}q.jumpto(r.index-1,s,"prev")}},jumpto:function(s,u,r){var t=q.current;if(!t){return}s=n(s);q.direction=u||t.direction[(s>=t.index?"next":"prev")];q.router=r||"jumpto";if(t.loop){if(s<0){s=t.group.length+(s%t.group.length)}s=s%t.group.length}if(t.group[s]!==e){q.cancel();q._start(s)}},reposition:function(u,r){var t=q.current,s=t?t.wrap:null,v;if(s){v=q._getPosition(r);if(u&&u.type==="scroll"){delete v.position;s.stop(true,true).animate(v,200)}else{s.css(v);t.pos=i.extend({},t.dim,v)}}},update:function(t){var r=(t&&t.type),s=!r||r==="orientationchange";if(s){clearTimeout(c);c=null}if(!q.isOpen||c){return}c=setTimeout(function(){var u=q.current;if(!u||q.isClosing){return}q.wrap.removeClass("fancybox-tmp");if(s||r==="load"||(r==="resize"&&u.autoResize)){q._setDimension()}if(!(r==="scroll"&&u.canShrink)){q.reposition(t)}q.trigger("onUpdate");c=null},(s&&!f?0:300))},toggle:function(r){if(q.isOpen){q.current.fitToView=i.type(r)==="boolean"?r:!q.current.fitToView;if(f){q.wrap.removeAttr("style").addClass("fancybox-tmp");q.trigger("onUpdate")}q.update()}},hideLoading:function(){a.unbind(".loading");i("#fancybox-loading").remove()},showLoading:function(){var s,r;q.hideLoading();s=i('<div id="fancybox-loading"><div></div></div>').click(q.cancel).appendTo("body");a.bind("keydown.loading",function(t){if((t.which||t.keyCode)===27){t.preventDefault();q.cancel()}});if(!q.defaults.fixed){r=q.getViewport();s.css({position:"absolute",top:(r.h*0.5)+r.y,left:(r.w*0.5)+r.x})}},getViewport:function(){var r=(q.current&&q.current.locked)||false,s={x:d.scrollLeft(),y:d.scrollTop()};if(r){s.w=r[0].clientWidth;s.h=r[0].clientHeight}else{s.w=f&&l.innerWidth?l.innerWidth:d.width();s.h=f&&l.innerHeight?l.innerHeight:d.height()}return s},unbindEvents:function(){if(q.wrap&&j(q.wrap)){q.wrap.unbind(".fb")}a.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var s=q.current,r;if(!s){return}d.bind("orientationchange.fb"+(f?"":" resize.fb")+(s.autoCenter&&!s.locked?" scroll.fb":""),q.update);r=s.keys;if(r){a.bind("keydown.fb",function(v){var t=v.which||v.keyCode,u=v.target||v.srcElement;if(t===27&&q.coming){return false}if(!v.ctrlKey&&!v.altKey&&!v.shiftKey&&!v.metaKey&&!(u&&(u.type||i(u).is("[contenteditable]")))){i.each(r,function(w,x){if(s.group.length>1&&x[t]!==e){q[w](x[t]);v.preventDefault();return false}if(i.inArray(t,x)>-1){q[w]();v.preventDefault();return false}})}})}if(i.fn.mousewheel&&s.mouseWheel){q.wrap.bind("mousewheel.fb",function(y,z,u,t){var x=y.target||null,v=i(x),w=false;while(v.length){if(w||v.is(".fancybox-skin")||v.is(".fancybox-wrap")){break}w=h(v[0]);v=i(v).parent()}if(z!==0&&!w){if(q.group.length>1&&!s.canShrink){if(t>0||u>0){q.prev(t>0?"down":"left")}else{if(t<0||u<0){q.next(t<0?"up":"right")}}y.preventDefault()}}})}},trigger:function(s,u){var r,t=u||q.coming||q.current;if(!t){return}if(i.isFunction(t[s])){r=t[s].apply(t,Array.prototype.slice.call(arguments,1))}if(r===false){return false}if(t.helpers){i.each(t.helpers,function(w,v){if(v&&q.helpers[w]&&i.isFunction(q.helpers[w][s])){q.helpers[w][s](i.extend(true,{},q.helpers[w].defaults,v),t)}})}a.trigger(s)},isImage:function(r){return b(r)&&r.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(r){return b(r)&&r.match(/\.(swf)((\?|#).*)?$/i)},_start:function(s){var t={},x,r,u,v,w;s=n(s);x=q.group[s]||null;if(!x){return false}t=i.extend(true,{},q.opts,x);v=t.margin;w=t.padding;if(i.type(v)==="number"){t.margin=[v,v,v,v]}if(i.type(w)==="number"){t.padding=[w,w,w,w]}if(t.modal){i.extend(true,t,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(t.autoSize){t.autoWidth=t.autoHeight=true}if(t.width==="auto"){t.autoWidth=true}if(t.height==="auto"){t.autoHeight=true}t.group=q.group;t.index=s;q.coming=t;if(false===q.trigger("beforeLoad")){q.coming=null;return}u=t.type;r=t.href;if(!u){q.coming=null;if(q.current&&q.router&&q.router!=="jumpto"){q.current.index=s;return q[q.router](q.direction)}return false}q.isActive=true;if(u==="image"||u==="swf"){t.autoHeight=t.autoWidth=false;t.scrolling="visible"}if(u==="image"){t.aspectRatio=true}if(u==="iframe"&&f){t.scrolling="scroll"}t.wrap=i(t.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+u+" fancybox-tmp "+t.wrapCSS).appendTo(t.parent||"body");i.extend(t,{skin:i(".fancybox-skin",t.wrap),outer:i(".fancybox-outer",t.wrap),inner:i(".fancybox-inner",t.wrap)});i.each(["Top","Right","Bottom","Left"],function(z,y){t.skin.css("padding"+y,g(t.padding[z]))});q.trigger("onReady");if(u==="inline"||u==="html"){if(!t.content||!t.content.length){return q._error("content")}}else{if(!r){return q._error("href")}}if(u==="image"){q._loadImage()}else{if(u==="ajax"){q._loadAjax()}else{if(u==="iframe"){q._loadIframe()}else{q._afterLoad()}}}},_error:function(r){i.extend(q.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:r,content:q.coming.tpl.error});q._afterLoad()},_loadImage:function(){var r=q.imgPreload=new Image();r.onload=function(){this.onload=this.onerror=null;q.coming.width=this.width/q.opts.pixelRatio;q.coming.height=this.height/q.opts.pixelRatio;q._afterLoad()};r.onerror=function(){this.onload=this.onerror=null;q._error("image")};r.src=q.coming.href;if(r.complete!==true){q.showLoading()}},_loadAjax:function(){var r=q.coming;q.showLoading();q.ajaxLoad=i.ajax(i.extend({},r.ajax,{url:r.href,error:function(s,t){if(q.coming&&t!=="abort"){q._error("ajax",s)}else{q.hideLoading()}},success:function(s,t){if(t==="success"){r.content=s;q._afterLoad()}}}))},_loadIframe:function(){var r=q.coming,s=i(r.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",f?"auto":r.iframe.scrolling).attr("src",r.href);i(r.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}});if(r.iframe.preload){q.showLoading();s.one("load",function(){i(this).data("ready",1);if(!f){i(this).bind("load.fb",q.update)}i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();q._afterLoad()})}r.content=s.appendTo(r.inner);if(!r.iframe.preload){q._afterLoad()}},_preloadImages:function(){var w=q.group,v=q.current,r=w.length,t=v.preload?Math.min(v.preload,r-1):0,u,s;for(s=1;s<=t;s+=1){u=w[(v.index+s)%r];if(u.type==="image"&&u.href){new Image().src=u.href}}},_afterLoad:function(){var s=q.coming,u=q.current,z="fancybox-placeholder",w,x,y,t,r,v;q.hideLoading();if(!s||q.isActive===false){return}if(false===q.trigger("afterLoad",s,u)){s.wrap.stop(true).trigger("onReset").remove();q.coming=null;return}if(u){q.trigger("beforeChange",u);u.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}q.unbindEvents();w=s;x=s.content;y=s.type;t=s.scrolling;i.extend(q,{wrap:w.wrap,skin:w.skin,outer:w.outer,inner:w.inner,current:w,previous:u});r=w.href;switch(y){case"inline":case"ajax":case"html":if(w.selector){x=i("<div>").html(x).find(w.selector)}else{if(j(x)){if(!x.data(z)){x.data(z,i('<div class="'+z+'"></div>').insertAfter(x).hide())}x=x.show().detach();w.wrap.bind("onReset",function(){if(i(this).find(x).length){x.hide().replaceAll(x.data(z)).data(z,false)}})}}break;case"image":x=w.tpl.image.replace("{href}",r);break;case"swf":x='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>';v="";i.each(w.swf,function(A,B){x+='<param name="'+A+'" value="'+B+'"></param>';v+=" "+A+'="'+B+'"'});x+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+v+"></embed></object>";break}if(!(j(x)&&x.parent().is(w.inner))){w.inner.append(x)}q.trigger("beforeShow");w.inner.css("overflow",t==="yes"?"scroll":(t==="no"?"hidden":t));q._setDimension();q.reposition();q.isOpen=false;q.coming=null;q.bindEvents();if(!q.isOpened){i(".fancybox-wrap").not(w.wrap).stop(true).trigger("onReset").remove()}else{if(u.prevMethod){q.transitions[u.prevMethod]()}}q.transitions[q.isOpened?w.nextMethod:w.openMethod]();q._preloadImages()},_setDimension:function(){var U=q.getViewport(),Q=0,W=false,Y=false,C=q.wrap,O=q.skin,Z=q.inner,L=q.current,M=L.width,J=L.height,F=L.minWidth,y=L.minHeight,S=L.maxWidth,K=L.maxHeight,E=L.scrolling,w=L.scrollOutside?L.scrollbarWidth:0,I=L.margin,x=n(I[1]+I[3]),v=n(I[0]+I[2]),t,s,P,R,H,G,N,A,z,V,u,X,r,B,D;C.add(O).add(Z).width("auto").height("auto").removeClass("fancybox-tmp");t=n(O.outerWidth(true)-O.width());s=n(O.outerHeight(true)-O.height());P=x+t;R=v+s;H=m(M)?(U.w-P)*n(M)/100:M;G=m(J)?(U.h-R)*n(J)/100:J;if(L.type==="iframe"){B=L.content;if(L.autoHeight&&B.data("ready")===1){try{if(B[0].contentWindow.document.location){Z.width(H).height(9999);D=B.contents().find("body");if(w){D.css("overflow-x","hidden")}G=D.outerHeight(true)}}catch(T){}}}else{if(L.autoWidth||L.autoHeight){Z.addClass("fancybox-tmp");if(!L.autoWidth){Z.width(H)}if(!L.autoHeight){Z.height(G)}if(L.autoWidth){H=Z.width()}if(L.autoHeight){G=Z.height()}Z.removeClass("fancybox-tmp")}}M=n(H);J=n(G);z=H/G;F=n(m(F)?n(F,"w")-P:F);S=n(m(S)?n(S,"w")-P:S);y=n(m(y)?n(y,"h")-R:y);K=n(m(K)?n(K,"h")-R:K);N=S;A=K;if(L.fitToView){S=Math.min(U.w-P,S);K=Math.min(U.h-R,K)}X=U.w-x;r=U.h-v;if(L.aspectRatio){if(M>S){M=S;J=n(M/z)}if(J>K){J=K;M=n(J*z)}if(M<F){M=F;J=n(M/z)}if(J<y){J=y;M=n(J*z)}}else{M=Math.max(F,Math.min(M,S));if(L.autoHeight&&L.type!=="iframe"){Z.width(M);J=Z.height()}J=Math.max(y,Math.min(J,K))}if(L.fitToView){Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height();if(L.aspectRatio){while((V>X||u>r)&&M>F&&J>y){if(Q++>19){break}J=Math.max(y,Math.min(K,J-10));M=n(J*z);if(M<F){M=F;J=n(M/z)}if(M>S){M=S;J=n(M/z)}Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height()}}else{M=Math.max(F,Math.min(M,M-(V-X)));J=Math.max(y,Math.min(J,J-(u-r)))}}if(w&&E==="auto"&&J<G&&(M+t+w)<X){M+=w}Z.width(M).height(J);C.width(M+t);V=C.width();u=C.height();W=(V>X||u>r)&&M>F&&J>y;Y=L.aspectRatio?(M<N&&J<A&&M<H&&J<G):((M<N||J<A)&&(M<H||J<G));i.extend(L,{dim:{width:g(V),height:g(u)},origWidth:H,origHeight:G,canShrink:W,canExpand:Y,wPadding:t,hPadding:s,wrapSpace:u-O.outerHeight(true),skinSpace:O.height()-J});if(!B&&L.autoHeight&&J>y&&J<K&&!Y){Z.height("auto")}},_getPosition:function(t){var x=q.current,s=q.getViewport(),v=x.margin,u=q.wrap.width()+v[1]+v[3],r=q.wrap.height()+v[0]+v[2],w={position:"absolute",top:v[0],left:v[3]};if(x.autoCenter&&x.fixed&&!t&&r<=s.h&&u<=s.w){w.position="fixed"}else{if(!x.locked){w.top+=s.y;w.left+=s.x}}w.top=g(Math.max(w.top,w.top+((s.h-r)*x.topRatio)));w.left=g(Math.max(w.left,w.left+((s.w-u)*x.leftRatio)));return w},_afterZoomIn:function(){var r=q.current;if(!r){return}q.isOpen=q.isOpened=true;q.wrap.css("overflow","visible").addClass("fancybox-opened");q.update();if(r.closeClick||(r.nextClick&&q.group.length>1)){q.inner.css("cursor","pointer").bind("click.fb",function(s){if(!i(s.target).is("a")&&!i(s.target).parent().is("a")){s.preventDefault();q[r.closeClick?"close":"next"]()}})}if(r.closeBtn){i(r.tpl.closeBtn).appendTo(q.skin).bind("click.fb",function(s){s.preventDefault();q.close()})}if(r.arrows&&q.group.length>1){if(r.loop||r.index>0){i(r.tpl.prev).appendTo(q.outer).bind("click.fb",q.prev)}if(r.loop||r.index<q.group.length-1){i(r.tpl.next).appendTo(q.outer).bind("click.fb",q.next)}}q.trigger("afterShow");if(!r.loop&&r.index===r.group.length-1){q.play(false)}else{if(q.opts.autoPlay&&!q.player.isActive){q.opts.autoPlay=false;q.play()}}},_afterZoomOut:function(r){r=r||q.current;i(".fancybox-wrap").trigger("onReset").remove();i.extend(q,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});q.trigger("afterClose",r)}});q.transitions={getOrigPosition:function(){var u=q.current,s=u.element,x=u.orig,w={},r=50,y=50,v=u.hPadding,z=u.wPadding,t=q.getViewport();if(!x&&u.isDom&&s.is(":visible")){x=s.find("img:first");if(!x.length){x=s}}if(j(x)){w=x.offset();if(x.is("img")){r=x.outerWidth();y=x.outerHeight()}}else{w.top=t.y+(t.h-y)*u.topRatio;w.left=t.x+(t.w-r)*u.leftRatio}if(q.wrap.css("position")==="fixed"||u.locked){w.top-=t.y;w.left-=t.x}w={top:g(w.top-v*u.topRatio),left:g(w.left-z*u.leftRatio),width:g(r+z),height:g(y+v)};return w},step:function(s,t){var v,x,y,r=t.prop,u=q.current,w=u.wrapSpace,z=u.skinSpace;if(r==="width"||r==="height"){v=t.end===t.start?1:(s-t.start)/(t.end-t.start);if(q.isClosing){v=1-v}x=r==="width"?u.wPadding:u.hPadding;y=s-x;q.skin[r](n(r==="width"?y:y-(w*v)));q.inner[r](n(r==="width"?y:y-(w*v)-(z*v)))}},zoomIn:function(){var v=q.current,s=v.pos,t=v.openEffect,u=t==="elastic",r=i.extend({opacity:1},s);delete r.position;if(u){s=this.getOrigPosition();if(v.openOpacity){s.opacity=0.1}}else{if(t==="fade"){s.opacity=0.1}}q.wrap.css(s).animate(r,{duration:t==="none"?0:v.openSpeed,easing:v.openEasing,step:u?this.step:null,complete:q._afterZoomIn})},zoomOut:function(){var u=q.current,s=u.closeEffect,t=s==="elastic",r={opacity:0.1};if(t){r=this.getOrigPosition();if(u.closeOpacity){r.opacity=0.1}}q.wrap.animate(r,{duration:s==="none"?0:u.closeSpeed,easing:u.closeEasing,step:t?this.step:null,complete:q._afterZoomOut})},changeIn:function(){var w=q.current,t=w.nextEffect,s=w.pos,r={opacity:1},v=q.direction,x=200,u;s.opacity=0.1;if(t==="elastic"){u=v==="down"||v==="up"?"top":"left";if(v==="down"||v==="right"){s[u]=g(n(s[u])-x);r[u]="+="+x+"px"}else{s[u]=g(n(s[u])+x);r[u]="-="+x+"px"}}if(t==="none"){q._afterZoomIn()}else{q.wrap.css(s).animate(r,{duration:w.nextSpeed,easing:w.nextEasing,complete:q._afterZoomIn})}},changeOut:function(){var t=q.previous,s=t.prevEffect,r={opacity:0.1},u=q.direction,v=200;if(s==="elastic"){r[u==="down"||u==="up"?"top":"left"]=(u==="up"||u==="left"?"-":"+")+"="+v+"px"}t.wrap.animate(r,{duration:s==="none"?0:t.prevSpeed,easing:t.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}};q.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!f,fixed:true},overlay:null,fixed:false,el:i("html"),create:function(r){r=i.extend({},this.defaults,r);if(this.overlay){this.close()}this.overlay=i('<div class="fancybox-overlay"></div>').appendTo(q.coming?q.coming.parent:r.parent);this.fixed=false;if(r.fixed&&q.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(s){var r=this;s=i.extend({},this.defaults,s);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(s)}if(!this.fixed){d.bind("resize.overlay",i.proxy(this.update,this));this.update()}if(s.closeClick){this.overlay.bind("click.overlay",function(t){if(i(t.target).hasClass("fancybox-overlay")){if(q.isActive){q.close()}else{r.close()}return false}})}this.overlay.css(s.css).show()},close:function(){var r,s;d.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){i(".fancybox-margin").removeClass("fancybox-margin");r=d.scrollTop();s=d.scrollLeft();this.el.removeClass("fancybox-lock");d.scrollTop(r).scrollLeft(s)}i(".fancybox-overlay").remove().hide();i.extend(this,{overlay:null,fixed:false})},update:function(){var s="100%",r;this.overlay.width(s).height("100%");if(k){r=Math.max(o.documentElement.offsetWidth,o.body.offsetWidth);if(a.width()>r){s=a.width()}}else{if(a.width()>d.width()){s=a.width()}}this.overlay.width(s).height(a.height())},onReady:function(s,t){var r=this.overlay;i(".fancybox-overlay").stop(true,true);if(!r){this.create(s)}if(s.locked&&this.fixed&&t.fixed){if(!r){this.margin=a.height()>d.height()?i("html").css("margin-right").replace("px",""):false}t.locked=this.overlay.append(t.wrap);t.fixed=false}if(s.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(t,u){var r,s;if(u.locked){if(this.margin!==false){i("*").filter(function(){return(i(this).css("position")==="fixed"&&!i(this).hasClass("fancybox-overlay")&&!i(this).hasClass("fancybox-wrap"))}).addClass("fancybox-margin");this.el.addClass("fancybox-margin")}r=d.scrollTop();s=d.scrollLeft();this.el.addClass("fancybox-lock");d.scrollTop(r).scrollLeft(s)}this.open(t)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(r){if(this.overlay&&!q.coming){this.overlay.fadeOut(r.speedOut,i.proxy(this.close,this))}}};q.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(s){var u=q.current,w=u.title,r=s.type,v,t;if(i.isFunction(w)){w=w.call(u.element,u)}if(!b(w)||i.trim(w)===""){return}v=i('<div class="fancybox-title fancybox-title-'+r+'-wrap">'+w+"</div>");switch(r){case"inside":t=q.skin;break;case"outside":t=q.wrap;break;case"over":t=q.inner;break;default:t=q.skin;v.appendTo("body");if(k){v.width(v.width())}v.wrapInner('<span class="child"></span>');q.current.margin[2]+=Math.abs(n(v.css("margin-bottom")));break}v[(s.position==="top"?"prependTo":"appendTo")](t)}};i.fn.fancybox=function(t){var s,u=i(this),r=this.selector||"",v=function(z){var y=i(this).blur(),w=s,x,A;if(!(z.ctrlKey||z.altKey||z.shiftKey||z.metaKey)&&!y.is(".fancybox-wrap")){x=t.groupAttr||"data-fancybox-group";A=y.attr(x);if(!A){x="rel";A=y.get(0)[x]}if(A&&A!==""&&A!=="nofollow"){y=r.length?i(r):u;y=y.filter("["+x+'="'+A+'"]');w=y.index(this)}t.index=w;if(q.open(y,t)!==false){z.preventDefault()}}};t=t||{};s=t.index||0;if(!r||t.live===false){u.unbind("click.fb-start").bind("click.fb-start",v)}else{a.undelegate(r,"click.fb-start").delegate(r+":not('.fancybox-item, .fancybox-nav')","click.fb-start",v)}this.filter("[data-fancybox-start=1]").trigger("click");return this};a.ready(function(){var s,r;if(i.scrollbarWidth===e){i.scrollbarWidth=function(){var u=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),v=u.children(),t=v.innerWidth()-v.height(99).innerWidth();u.remove();return t}}if(i.support.fixedPosition===e){i.support.fixedPosition=(function(){var u=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=(u[0].offsetTop===20||u[0].offsetTop===15);u.remove();return t}())}i.extend(q.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")});s=i(l).width();p.addClass("fancybox-lock-test");r=i(l).width();p.removeClass("fancybox-lock-test");i("<style type='text/css'>.fancybox-margin{margin-right:"+(r-s)+"px;}</style>").appendTo("head")})}(window,document,jQuery));function clickId(a,b){if(a.keyCode==13){$("#"+b).click()}}$(document).ready(function(){$(this).validationEngine("hideAll");action="";actionParams="";redirectUrlAfterLogin="";wrappClass="";if(PAGE_TYPE=="singlePageCheckout"){wrappClass="auth-login spc"}else{wrappClass="auth-login"}$(".showLoginBox, #login-quick a").fancybox({openEffect:"elastic",closeEffect:"fade",overlayColor:"#000",overlayOpacity:".2",centerOnScroll:false,scrolling:"no",type:"ajax",wrapCSS:wrappClass,beforeLoad:function(){$(this).validationEngine("hideAll")},afterLoad:function(){trackGA("BsUI","Login popup shown")},onComplete:function(){},onCleanup:function(){$("#user-login1").validationEngine("hideAll")},href:GLOBAL_CTX+"/showLoginPageBody"});$(".showSignupBox, #signup-quick a").fancybox({openEffect:"elastic",closeEffect:"fade",overlayColor:"#000",overlayOpacity:".2",centerOnScroll:false,scrolling:"no",type:"ajax",wrapCSS:"auth-signup",beforeLoad:function(){$(this).validationEngine("hideAll")},afterLoad:function(){trackGA("BsUI","Signup popup shown")},onComplete:function(){},onCleanup:function(){$("#user-register").validationEngine("hideAll")},href:GLOBAL_CTX+"/showSignUpPageBody"});$("#user-login1").validationEngine();$(document).on("click","#edit-create-account",function(a){validateAndCreateAccount();a.preventDefault()});$(document).on("click","#register-button-clicked",function(a){a.preventDefault()});$(document).on("focus","#user-register .content input",function(a){$("#user-register").removeClass("register-button-clicked");a.preventDefault()})});function sign_in(){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});$("#user-login1").validationEngine();if($("#user-login1").validationEngine("validate")){$("#fancybox-loading").css("display","block");$("#user-login1 #after-login-action").val(action);$("#user-login1 #after-login-action-params").val(actionParams);$("#user-login1 #after-login-action-redirectUrlAfterLogin").val(redirectUrlAfterLogin);$.post($("#user-login1").attr("action"),$("#user-login1").serialize(),function(a){sign_in_response(a)},"json");$("#fancybox-loading").css("display","none");trackGA("BsUI","Login successful","BlueStone")}return false;$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()})}function sign_in_response(a){sign_in_and_sigup_response(a,false)}function sign_in_and_sigup_response(b,d){if(b.hasError==false){var c="BlueStone";logCompletedLoginEvent(c);fireLoginEvents(b);if(!d){if(b.action!=""&&b.action!=undefined){callback(b.action,b.actionParams,b.redirectUrlAfterLogin)}else{if(b.redirectUrl.indexOf("admin")!==-1){window.location=b.redirectUrl}else{window.location=window.location.href}}}var a={id:$("#user-login1 #email-id").val(),password:$("#user-login1 #password").val()};CredentialMgm.create("password",a)}else{$(".checkout #popup-messages, #loginbox #popup-messages").html('<div class="error-container"><div class="error-container-inner">'+b.errors.join("<br />")+"</div></div>")}}function fireLoginEvents(g){var d=g.email;var c=g.name;var a=g.phone;var f=g.gender;var h=g.bDay;var e=g.maritalStatus;var b=g.identity}function handleSignUpResponse(b){if(b.hasError==false){$(".checkout #popup-messages, #signupbox #popup-messages").html('<div class="success-container"><div class="success-container-inner">'+b.message+"</div><div>");var a="password="+b.password+"&email="+b.email;$.post(GLOBAL_CTX+"/signin",a,function(c){$(".fancybox-close, .fancybox-overlay").on("click",function(d){location.reload()});if(action!=""&&action!=undefined){callback(action,actionParams,redirectUrlAfterLogin)}sign_in_and_sigup_response(c,true)},"json");fireRegisterEvents();logCompletedSignUpEvent("BlueStone")}else{$(".checkout #popup-messages, #signupbox #popup-messages").html('<div class="error-container"><div class="error-container-inner">'+b.errors.join("<br />")+"</div></div>")}}function create_account(){$("#fancybox-loading").css("display","block");$(".checkout #popup-messages").html('<div class="success"> Please wait ......</div>');$.post($("#user-register").attr("action"),$("#user-register").serialize(),function(a){handleSignUpResponse(a)},"json");$("#fancybox-loading").css("display","none");return false}function fireRegisterEvents(){var a=$("#user-register #email").val();var c=$("#user-register #userName").val();var b=$("#user-register #customer_phone").val()}function validateAndCreateAccount(){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});$("#user-register").validationEngine();if($("#user-register").validationEngine("validate")){$("#user-register").addClass("register-button-clicked");create_account();trackGA("BsUI","Signup successful","BlueStone")}return false;$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()})};(function(b){var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){c=a._saveOptions(d,c);b(document).on("click",".formError",function(){b(this).fadeOut(function(){b(this).parent(".formErrorOuter").remove();b(this).remove()})})}return this},attach:function(e){var d=this;var c;if(e){c=a._saveOptions(d,e)}else{c=d.data("jqv")}c.validateAttribute=(d.find("[data-validation-engine*=validate]").length)?"data-validation-engine":"class";if(c.binded){d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]").bind("click",a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][class*=datepicker]").bind(c.validationEventTrigger,{delay:300},a._onFieldEvent)}if(c.autoPositionUpdate){b(window).bind("resize",{noAnimation:true,formElem:d},a.updatePromptsPosition)}d.bind("submit",a._onSubmitEvent);return this},detach:function(){var d=this;var c=d.data("jqv");d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",a._onFieldEvent);d.unbind("submit",a.onAjaxFormComplete);d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").die(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox]").die("click",a._onFieldEvent);d.die("submit",a.onAjaxFormComplete);d.removeData("jqv");if(c.autoPositionUpdate){b(window).unbind("resize",a.updatePromptsPosition)}return this},validate:function(){return a._validateFields(this)},validateField:function(d){var c=b(this).data("jqv");var e=a._validateField(b(d),c);if(c.onSuccess&&c.InvalidFields.length==0){c.onSuccess()}else{if(c.onFailure&&c.InvalidFields.length>0){c.onFailure()}}return e},validateform:function(){return a._onSubmitEvent.call(this)},updatePromptsPosition:function(f){if(f&&this==window){var e=f.data.formElem;var c=f.data.noAnimation}else{var e=b(this.closest("form"))}var d=e.data("jqv");e.find("["+d.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var i=b(this);var g=a._getPrompt(i);var h=b(g).find(".formErrorContent").html();if(g){a._updatePrompt(i,b(g),h,undefined,false,d,c)}});return this},showPrompt:function(d,f,h,e){var g=this.closest("form");var c=g.data("jqv");if(!c){c=a._saveOptions(this,c)}if(h){c.promptPosition=h}c.showArrow=e==true;a._showPrompt(this,d,f,false,c);return this},hidePrompt:function(){var e=this;var d=e.data("jqv");var c="."+a._getClassName(b(this).attr("id"))+"formError";b(c).fadeTo(d.fadeDuration,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},hide:function(){var e=this;var d=e.data("jqv");var c;if(b(this).is("form")){c="parentForm"+a._getClassName(b(this).attr("id"))}else{c=a._getClassName(b(this).attr("id"))+"formError"}b("."+c).fadeTo(d.fadeDuration,0.1,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},hideAll:function(){var d=this;var c=d.data("jqv");if(c==undefined){c={fadeDuration:1}}b(".formError").fadeTo(c.fadeDuration,0.1,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},_onFieldEvent:function(e){var f=b(this);var d=f.closest("form");var c=d.data("jqv");window.setTimeout(function(){a._validateField(f,c);if(c.InvalidFields.length==0&&c.onSuccess){c.onSuccess()}else{if(c.InvalidFields.length>0&&c.onFailure){c.onFailure()}}},(e.data)?e.data.delay:0)},_onSubmitEvent:function(){var e=b(this);var c=e.data("jqv");var d=a._validateFields(e,c.ajaxFormValidation);if(d&&c.ajaxFormValidation){a._validateFormWithAjax(e,c);return false}if(c.onValidationComplete){c.onValidationComplete(e,d);return false}return d},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,f){if(!f){c=false;return false}});return c},_validateFields:function(e,m){var n=e.data("jqv");var f=false;e.trigger("jqv.form.validating");var o=null;e.find("["+n.validateAttribute+"*=validate]").not(":hidden").not(":disabled").each(function(){var p=b(this);f|=a._validateField(p,n,m);if(n.doNotShowAllErrosOnSubmit){return false}if(f&&o==null){o=p}});e.trigger("jqv.form.result",[f]);if(f){if(n.scroll){var l=o.offset().top;var h=o.offset().left;var j=n.promptPosition;if(typeof(j)=="string"&&j.indexOf(":")!=-1){j=j.substring(0,j.indexOf(":"))}if(j!="bottomRight"&&j!="bottomLeft"){var i=a._getPrompt(o);l=i.offset().top}if(n.isOverflown){var c=b(n.overflownDIV);if(!c.length){return false}var d=c.scrollTop();var g=-parseInt(c.offset().top);l+=d+g-5;var k=b(n.overflownDIV+":not(:animated)");k.animate({scrollTop:l},1100,function(){if(n.focusFirstField){o.focus()}})}else{b("html:not(:animated),body:not(:animated)").animate({scrollTop:l-100,scrollLeft:h},1100,function(){if(n.focusFirstField){o.focus()}})}}else{if(n.focusFirstField){o.focus()}}return false}return true},_validateFormWithAjax:function(e,d){var f=e.serialize();var c=(d.ajaxFormValidationURL)?d.ajaxFormValidationURL:e.attr("action");b.ajax({type:"GET",url:c,cache:false,dataType:"json",data:f,form:e,methods:a,options:d,beforeSend:function(){return d.onBeforeAjaxFormValidation(e,d)},error:function(g,h){a._ajaxError(g,h)},success:function(l){if(l!==true){var j=false;for(var k=0;k<l.length;k++){var m=l[k];var o=m[0];var h=b(b("#"+o)[0]);if(h.length==1){var n=m[2];if(m[1]==true){if(n==""||!n){a._closePrompt(h)}else{if(d.allrules[n]){var g=d.allrules[n].alertTextOk;if(g){n=g}}a._showPrompt(h,n,"pass",false,d,true)}}else{j|=true;if(d.allrules[n]){var g=d.allrules[n].alertText;if(g){n=g}}a._showPrompt(h,n,"",false,d,true)}}}d.onAjaxFormComplete(!j,e,l,d)}else{d.onAjaxFormComplete(true,e,"",d)}}})},_validateField:function(c,k,p){if(!c.attr("id")){b.error("jQueryValidate: an ID attribute is required for this field: "+c.attr("name")+" class:"+c.attr("class"))}var r=c.attr(k.validateAttribute);var v=/validate\[(.*)\]/.exec(r);if(!v){return false}var s=v[1];var o=s.split(/\[|,|\]/);var l=false;var h=c.attr("name");var g="";var q=false;k.isError=false;k.showArrow=true;var d=b(c.closest("form"));for(var u=0;u<o.length;u++){o[u]=o[u].replace(" ","");var e=undefined;switch(o[u]){case"required":q=true;e=a._required(c,o,u,k);break;case"custom":e=a._customRegex(c,o,u,k);break;case"groupRequired":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);if(f[0]!=c[0]){a._validateField(f,k,p);k.showArrow=true;continue}e=a._groupRequired(c,o,u,k);if(e){q=true}k.showArrow=false;break;case"ajax":if(!p){a._ajax(c,o,u,k);l=true}break;case"minSize":e=a._minSize(c,o,u,k);break;case"maxSize":e=a._maxSize(c,o,u,k);break;case"min":e=a._min(c,o,u,k);break;case"max":e=a._max(c,o,u,k);break;case"past":e=a._past(c,o,u,k);break;case"future":e=a._future(c,o,u,k);break;case"dateRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateRange(f,j,o,u,k)}if(e){q=true}k.showArrow=false;break;case"dateTimeRange":var t="["+k.validateAttribute+"*="+o[u+1]+"]";var f=d.find(t).eq(0);var j=d.find(t).eq(1);if(f[0].value||j[0].value){e=a._dateTimeRange(f,j,o,u,k)}if(e){q=true}k.showArrow=false;break;case"maxCheckbox":e=a._maxCheckbox(d,c,o,u,k);c=b(d.find("input[name='"+h+"']"));break;case"minCheckbox":e=a._minCheckbox(d,c,o,u,k);c=b(d.find("input[name='"+h+"']"));break;case"equals":e=a._equals(c,o,u,k);break;case"matchEmail":e=a._matchEmail(c,o,u,k);break;case"funcCall":e=a._funcCall(c,o,u,k);break;case"creditCard":e=a._creditCard(c,o,u,k);break;default:}if(e!==undefined){g+=e+"<br/>";k.isError=true}if(k.isError==true){break}}if(!q&&c.val()==""){k.isError=false}var m=c.prop("type");if((m=="radio"||m=="checkbox")&&d.find("input[name='"+h+"']").size()>1){c=b(d.find("input[name='"+h+"'][type!=hidden]:first"));k.showArrow=false}if(m=="text"&&d.find("input[name='"+h+"']").size()>1){c=b(d.find("input[name='"+h+"'][type!=hidden]:first"));k.showArrow=false}if(k.isError){a._showPrompt(c,g,"",false,k)}else{if(!l){a._closePrompt(c)}}if(!l){c.trigger("jqv.field.result",[c,k.isError,g])}var n=b.inArray(c[0],k.InvalidFields);if(n==-1){if(k.isError){k.InvalidFields.push(c[0])}}else{if(!k.isError){k.InvalidFields.splice(n,1)}}return k.isError},_required:function(g,h,e,d){switch(g.prop("type")){case"text":case"password":case"textarea":case"file":default:if(!(b.trim(g.val()))){return d.allrules[h[e]].alertText}break;case"radio":case"checkbox":var f=g.closest("form");var c=g.attr("name");if(f.find("input[name='"+c+"']:checked").size()==0){if(f.find("input[name='"+c+"']").size()==1){return d.allrules[h[e]].alertTextCheckboxe}else{return d.allrules[h[e]].alertTextCheckboxMultiple}}break;case"select-one":if(!g.val()){return d.allrules[h[e]].alertText}break;case"select-multiple":if(!g.find("option:selected").val()){return d.allrules[h[e]].alertText}}},_groupRequired:function(f,h,d,c){var g="["+c.validateAttribute+"*="+h[d+1]+"]";var e=false;f.closest("form").find(g).each(function(){if(!a._required(b(this),h,d,c)){e=true;return false}});if(!e){return c.allrules[h[d]].alertText}},_customRegex:function(j,k,f,d){var c=k[f+1];var h=d.allrules[c];if(!h){alert("jqv:custom rule not found "+c);return}var e=h.regex;if(!e){alert("jqv:custom regex not found "+c);return}var g=new RegExp(e);if(!g.test(j.val())){return d.allrules[c].alertText}},_funcCall:function(g,h,d,c){var f=h[d+1];var e=window[f]||c.customFunctions[f];if(typeof(e)=="function"){return e(g,h,d,c)}},_equals:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_matchEmail:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.matchEmail.alertText}},_maxSize:function(h,j,f,e){var d=j[f+1];var c=h.val().length;if(c>d){var g=e.allrules.maxSize;return g.alertText+d+g.alertText2}},_minSize:function(h,j,f,d){var e=j[f+1];var c=h.val().length;if(c<e){var g=d.allrules.minSize;return g.alertText+e+g.alertText2}},_min:function(h,j,f,d){var e=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c<e){var g=d.allrules.min;if(g.alertText2){return g.alertText+e+g.alertText2}return g.alertText+e}},_max:function(h,j,f,e){var d=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c>d){var g=e.allrules.max;if(g.alertText2){return g.alertText+d+g.alertText2}return g.alertText+d}},_past:function(j,k,e,c){var h=k[e+1];var d=(h.toLowerCase()=="now")?new Date():a._parseDate(h);var f=a._parseDate(j.val());if(f>d){var g=c.allrules.past;if(g.alertText2){return g.alertText+a._dateToString(d)+g.alertText2}return g.alertText+a._dateToString(d)}},_future:function(j,k,e,c){var h=k[e+1];var d=(h.toLowerCase()=="now")?new Date():a._parseDate(h);var f=a._parseDate(j.val());if(f<d){var g=c.allrules.future;if(g.alertText2){return g.alertText+a._dateToString(d)+g.alertText2}return g.alertText+a._dateToString(d)}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return c.test(d)},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return c.test(d)},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()))},_dateRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._isDate(g[0].value)||!a._isDate(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}},_dateTimeRange:function(g,d,f,e,c){if((!g[0].value&&d[0].value)||(g[0].value&&!d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._isDateTime(g[0].value)||!a._isDateTime(d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}if(!a._dateCompare(g[0].value,d[0].value)){return c.allrules[f[e]].alertText+c.allrules[f[e]].alertText2}},_maxCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c>d){f.showArrow=false;if(f.allrules.maxCheckbox.alertText2){return f.allrules.maxCheckbox.alertText+" "+d+" "+f.allrules.maxCheckbox.alertText2}return f.allrules.maxCheckbox.alertText}},_minCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c<d){f.showArrow=false;return f.allrules.minCheckbox.alertText+" "+d+" "+f.allrules.minCheckbox.alertText2}},_creditCard:function(k,l,f,n){var d=false,m=k.val().replace(/ +/g,"").replace(/-+/g,"");var c=m.length;if(c>=14&&c<=16&&parseInt(m)>0){var g=0,f=c-1,j=1,h,e=new String();do{h=parseInt(m.charAt(f));e+=(j++%2==0)?h*2:h}while(--f>=0);for(f=0;f<e.length;f++){g+=parseInt(e.charAt(f))}d=g%10==0}if(!d){return n.allrules.creditCard.alertText}},_ajax:function(m,o,h,p){var n=o[h+1];var l=p.allrules[n];var e=l.extraData;var j=l.extraDataDynamic;if(!e){e=""}if(j){var g=[];var k=String(j).split(",");for(var h=0;h<k.length;h++){var c=k[h];if(b(c).length){var d=m.closest("form").find(c).val();var f=c.replace("#","")+"="+escape(d);g.push(f)}}j=g.join("&")}else{j=""}if(!p.isError){b.ajax({type:"GET",url:l.url,cache:false,dataType:"json",data:"fieldId="+m.attr("id")+"&fieldValue="+m.val()+"&extraData="+e+"&"+j,field:m,rule:l,methods:a,options:p,beforeSend:function(){var i=l.alertTextLoad;if(i){a._showPrompt(m,i,"load",true,p)}},error:function(i,q){a._ajaxError(i,q)},success:function(s){var u=s[0];var r=b(b("input[id='"+u+"']")[0]);if(r.length==1){var q=s[1];var t=s[2];if(!q){p.ajaxValidCache[u]=false;p.isError=true;if(t){if(p.allrules[t]){var i=p.allrules[t].alertText;if(i){t=i}}}else{t=l.alertText}a._showPrompt(r,t,"",true,p)}else{if(p.ajaxValidCache[u]!==undefined){p.ajaxValidCache[u]=true}if(t){if(p.allrules[t]){var i=p.allrules[t].alertTextOk;if(i){t=i}}}else{t=l.alertTextOk}if(t){a._showPrompt(r,t,"pass",true,p)}else{a._closePrompt(r)}}}r.trigger("jqv.field.result",[r,p.isError,t])}})}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed")}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d)}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/")}return new Date(c[0],(c[1]-1),c[2])},_showPrompt:function(i,g,h,f,e,d){var c=a._getPrompt(i);if(d){c=false}if(c){a._updatePrompt(i,c,g,h,f,e)}else{a._buildPrompt(i,g,h,f,e)}},_buildPrompt:function(h,c,f,j,l){var d=b("<div>");d.addClass(a._getClassName(h.attr("id"))+"formError");if(h.is(":input")){d.addClass("parentForm"+a._getClassName(h.parents("form").attr("id")))}d.addClass("formError");switch(f){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup");break;default:}if(j){d.addClass("ajaxed")}var m=b("<div>").addClass("formErrorContent").html(c).appendTo(d);if(l.showArrow){var i=b("<div>").addClass("formErrorArrow");var e=h.data("promptPosition")||l.promptPosition;if(typeof(e)=="string"){var g=e.indexOf(":");if(g!=-1){e=e.substring(0,g)}}switch(e){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(i);i.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":i.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(i);break}}if(h.closest(".ui-dialog").length){d.addClass("formErrorInsideDialog")}if(l.relative){var k=b("<div>").css("position","relative").css("vertical-align","top").addClass("formErrorOuter").append(d.css("position","absolute"));h.after(k);if(l.relativePadding){k.css("padding-bottom",d.height()+"px")}}else{if(l.isOverflown){h.before(d)}else{b("body").append(d)}}var g=a._calculatePosition(h,d,l);d.css({top:g.callerTopPosition,left:g.callerleftPosition,marginTop:g.marginTopSize,opacity:0}).data("callerField",h);if(l.autoHidePrompt){setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove();d.remove()})},l.autoHideDelay)}return d.animate({opacity:0.87})},_updatePrompt:function(i,d,c,g,j,k,e){if(d){if(typeof g!=="undefined"){if(g=="pass"){d.addClass("greenPopup")}else{d.removeClass("greenPopup")}if(g=="load"){d.addClass("blackPopup")}else{d.removeClass("blackPopup")}}if(j){d.addClass("ajaxed")}else{d.removeClass("ajaxed")}d.find(".formErrorContent").html(c);var h=a._calculatePosition(i,d,k);var f={top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize};if(e){d.css(f)}else{d.animate(f)}}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove();c.remove()})}},closePrompt:function(c){return a._closePrompt(c)},_getPrompt:function(e){var d=a._getClassName(e.attr("id"))+"formError";var c=b("."+a._escapeExpression(d))[0];if(c){return b(c)}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var f=b(document);var c=b("body");var d=(e&&e.hasClass("rtl"))||(e&&(e.attr("dir")||"").toLowerCase()==="rtl")||f.hasClass("rtl")||(f.attr("dir")||"").toLowerCase()==="rtl"||c.hasClass("rtl")||(c.attr("dir")||"").toLowerCase()==="rtl";return Boolean(d)},_calculatePosition:function(m,e,q){var c,n,k;var g=m.width();var p=e.height();var d=q.isOverflown||q.relative;if(d){c=n=0;k=-p}else{var f=m.offset();c=f.top;n=f.left;k=0}var j=m.data("promptPosition")||q.promptPosition;var i="";var h="";var o=0;var l=0;if(typeof(j)=="string"){if(j.indexOf(":")!=-1){i=j.substring(j.indexOf(":")+1);j=j.substring(0,j.indexOf(":"));if(i.indexOf(",")!=-1){h=i.substring(i.indexOf(",")+1);i=i.substring(0,i.indexOf(","));l=parseInt(h);if(isNaN(l)){l=0}}o=parseInt(i);if(isNaN(i)){i=0}}}if(!a.isRTL(m)){switch(j){default:case"topRight":if(d){n+=g-30}else{n+=g-30;c+=-p-2}break;case"topLeft":c+=-p-10;break;case"centerRight":if(d){c=m.outerHeight();n=m.outerWidth(1)+5}else{n+=m.outerWidth()+5}break;case"centerLeft":n-=e.width()+2;break;case"bottomLeft":c=c+m.height()+15;break;case"bottomRight":n+=g-30;c+=m.height()+5}}else{switch(j){default:case"topLeft":if(d){n-=e.width()-30}else{n-=e.width()-30;c+=-p-2}break;case"topRight":if(d){n+=g-e.width()}else{n+=g-e.width();c+=-p-2}break;case"centerRight":if(d){c=m.outerHeight();n=m.outerWidth(1)+5}else{n+=m.outerWidth()+5}break;case"centerLeft":n-=e.width()+2;break;case"bottomLeft":n+=-e.width()+30;c=c+m.height()+15;break;case"bottomRight":n+=g-e.width();c+=m.height()+15}}n+=o;c+=l;return{callerTopPosition:c+"px",callerleftPosition:n+"px",marginTopSize:k+"px"}},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}b.validationEngine.defaults.allrules=c;var f=b.extend(true,{},b.validationEngine.defaults,d);if(f.isOverflown){f.relative=true}if(f.relative){f.isOverflown=true}e.data("jqv",f);return f},_getClassName:function(c){if(c){return c.replace(/:/g,"_").replace(/\./g,"_")}}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return false}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hidePrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c)}return a[d].apply(c,Array.prototype.slice.call(arguments,1))}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c)}else{b.error("Method "+d+" does not exist in jQuery.validationEngine")}}};b.validationEngine={defaults:{validationEventTrigger:"blur",scroll:false,focusFirstField:true,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,relative:false,relativePadding:false,isOverflown:false,overflownDIV:"",doNotShowAllErrosOnSubmit:false,binded:true,showArrow:true,isError:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onSuccess:false,onFailure:false,autoHidePrompt:false,autoHideDelay:10000,fadeDuration:0.3}};b(function(){b.validationEngine.defaults.promptPosition=a.isRTL()?"topLeft":"topRight"})})(jQuery);(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Your password is not matching"},matchEmail:{regex:"none",alertText:"* Your email is not matching"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9 \.\-\/]{3,20})((x|ext|extension)[ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]+)([\.,]([0-9]+))?|([\.,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},validatePincode:{url:GLOBAL_CTX+"/homeTryOn/pincodeValidation",alertText:"Please enter a valid pincode"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"},userName:{regex:/^([a-zA-Z]{1})+\.?([a-zA-Z\. ])+$/,alertText:"Oops! Your name seems to have invalid characters."},telephone:{regex:/^([123456789]{1})([0-9]{9})$/,alertText:"* Please enter a valid 10 digit mobile number"},postcode:{regex:/^([123456789]{1})([0-9]{5})$/,alertText:"* Please enter a valid 6 digit pincode."},zipcode:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Please enter a valid postal code"},panNumber:{regex:/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/,alertText:"* Please enter a valid PAN number"},testcode:{regex:/^[0-9a-zA-Z]+$/,alertText:"* Please enter a valid postal code"},mobile:{regex:/^[\-\+]?\d+$/,alertText:"* Please enter a valid mobile number"},selectRingSize:{regex:/^[0-9\ ]+$/,alertText:"Please Select a Ring size"},selectBangleSize:{regex:/^[0-9\ ]+$/,alertText:"Please Select a Bangle size"},selectBraceletSize:{regex:/^[0-9\ ]+$/,alertText:"Please Select a Bracelet size"},selectChainSize:{regex:/^[0-9\ ]+$/,alertText:"Please Select a Chain size"},ifscCode:{regex:/^[A-Za-z]{4}[a-zA-Z0-9]{7}$/,alertText:"Please enter a valid IFSC code"}}}};a.validationEngineLanguage.newLang()})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});/*! Lazy Load 1.9.7 - MIT license - Copyright 2010-2015 Mika Tuupola */
!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(f){var a=/\+/g;function d(i){return b.raw?i:encodeURIComponent(i)}function g(i){return b.raw?i:decodeURIComponent(i)}function h(i){return d(b.json?JSON.stringify(i):String(i))}function c(i){if(i.indexOf('"')===0){i=i.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{i=decodeURIComponent(i.replace(a," "));return b.json?JSON.parse(i):i}catch(j){}}function e(j,i){var k=b.raw?j:c(j);return f.isFunction(i)?i(k):k}var b=f.cookie=function(q,p,v){if(arguments.length>1&&!f.isFunction(p)){v=f.extend({},b.defaults,v);if(typeof v.expires==="number"){var r=v.expires,u=v.expires=new Date();u.setMilliseconds(u.getMilliseconds()+r*86400000)}return(document.cookie=[d(q),"=",h(p),v.expires?"; expires="+v.expires.toUTCString():"",v.path?"; path="+v.path:"",v.domain?"; domain="+v.domain:"",v.secure?"; secure":""].join(""))}var w=q?undefined:{},s=document.cookie?document.cookie.split("; "):[],o=0,m=s.length;for(;o<m;o++){var n=s[o].split("="),j=g(n.shift()),k=n.join("=");if(q===j){w=e(k,p);break}if(!q&&(k=e(k))!==undefined){w[j]=k}}return w};b.defaults={};f.removeCookie=function(j,i){f.cookie(j,"",f.extend({},i,{expires:-1}));return !f.cookie(j)}}));if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());function showPopupFancyBox(a,b){if(a){$.fancybox({transitionIn:"elastic",transitionOut:"fade",overlayColor:"#000",overlayOpacity:".2",centerOnScroll:false,scrolling:"no",enableEscapeButton:false,type:"ajax",wrapCSS:"fp-transparent wga",onComplete:function(){},onCleanup:function(){},href:GLOBAL_CTX+b})}}function showPopupFancyBox2(a,b){if(a){$.fancybox({transitionIn:"elastic",transitionOut:"fade",overlayColor:"#000",overlayOpacity:".8",centerOnScroll:false,scrolling:"no",enableEscapeButton:false,type:"ajax",wrapCSS:"fp-transparent wga",onComplete:function(){},onCleanup:function(){},helpers:{overlay:{closeClick:false}},keys:{close:[0]},href:GLOBAL_CTX+b})}}function validateGuideShopPopup(){$("#guide-store").validationEngine();if($("#guide-store").validationEngine("validate")){submit_popup()}return false}function submit_popup(){$("#guide-store").validationEngine();$("#fancybox-loading").css("display","block");$.post($("#guide-store").attr("action"),$("#guide-store").serialize(),function(a){handlePopupGuideStoreResponse(a)},"json");$("#fancybox-loading").css("display","none");return false}function handlePopupGuideStoreResponse(a){if(a.hasError==false){$("#popup-form").html('<div class="visit-guideshop"><div class="visit-head">Please visit our Guide shop at:</div><div class="visit-address"><div class="bs-icon"></div>212/A, 1st Floor,<br>1st Main Road,<br>2nd Stage, Domlur,<br>Bangalore 560071<br>Karnataka, India</div></div>')}else{$("#popup-form .error-container").css("display","block");$("#popup-form .error-container .error-container-inner").html(a.message)}};/*!
 * hoverIntent v1.8.0 // 2014.06.29 // jQuery v1.9.1+
 * http://cherne.net/brian/resources/jquery.hoverIntent.html
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007, 2014 Brian Cherne
 */
(function(a){a.fn.hoverIntent=function(m,d,h){var j={interval:100,sensitivity:6,timeout:0};if(typeof m==="object"){j=a.extend(j,m)}else{if(a.isFunction(d)){j=a.extend(j,{over:m,out:d,selector:h})}else{j=a.extend(j,{over:m,out:m,selector:d})}}var l,k,g,f;var e=function(n){l=n.pageX;k=n.pageY};var c=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.sqrt((g-l)*(g-l)+(f-k)*(f-k))<j.sensitivity){a(n).off("mousemove.hoverIntent",e);n.hoverIntent_s=true;return j.over.apply(n,[o])}else{g=l;f=k;n.hoverIntent_t=setTimeout(function(){c(o,n)},j.interval)}};var i=function(o,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);n.hoverIntent_s=false;return j.out.apply(n,[o])};var b=function(p){var o=a.extend({},p);var n=this;if(n.hoverIntent_t){n.hoverIntent_t=clearTimeout(n.hoverIntent_t)}if(p.type==="mouseenter"){g=o.pageX;f=o.pageY;a(n).on("mousemove.hoverIntent",e);if(!n.hoverIntent_s){n.hoverIntent_t=setTimeout(function(){c(o,n)},j.interval)}}else{a(n).off("mousemove.hoverIntent",e);if(n.hoverIntent_s){n.hoverIntent_t=setTimeout(function(){i(o,n)},j.timeout)}}};return this.on({"mouseenter.hoverIntent":b,"mouseleave.hoverIntent":b},j.selector)}})(jQuery);(function(e){var i=[];var f=false;var g=false;var d={interval:250,force_process:false};var c=e(window);var h=[];function a(){g=false;for(var k=0,m=i.length;k<m;k++){var l=e(i[k]).filter(function(){return e(this).is(":appeared")});l.trigger("appear",[l]);if(h[k]){var j=h[k].not(l);j.trigger("disappear",[j])}h[k]=l}}function b(j){i.push(j);h.push()}e.expr[":"]["appeared"]=function(l){var k=e(l);if(!k.is(":visible")){return false}var p=c.scrollLeft();var j=c.scrollTop();var o=k.offset();var n=o.left;var m=o.top;if(m+k.height()>=j&&m-(k.data("appear-top-offset")||0)<=j+c.height()&&n+k.width()>=p&&n-(k.data("appear-left-offset")||0)<=p+c.width()){return true}else{return false}};e.fn.extend({appear:function(l){var m=e.extend({},d,l||{});var k=this.selector||this;if(!f){var j=function(){if(g){return}g=true;setTimeout(a,m.interval)};e(window).scroll(j).resize(j);f=true}if(m.force_process){setTimeout(a,m.interval)}b(k);return e(k)}});e.extend({force_appear:function(){if(f){a();return true}return false}})})(function(){if(typeof module!=="undefined"){return require("jquery")}else{return jQuery}}());/* == jquery mousewheel plugin == Version: 3.1.13, License: MIT License (MIT) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/* == malihu jquery custom scrollbar plugin == Version: 3.1.3, License: MIT License (MIT) */
!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&N(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(V(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&V(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=q.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=Y.call(this,c[0],"y"),c[1]=Y.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=oe()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",V(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",V(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&N(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){{o.data(a)}X.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),X.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),K(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),K(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=ee(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(N(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),V(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),V(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),R.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}L.call(this),P.call(this),i.advanced.autoScrollOnFocus&&z.call(this),i.scrollButtons.enable&&H.call(this),i.keyboard.enable&&U.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!W()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),K(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),K(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),K(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=W()&&t.target.ownerDocument!==top.document?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;V(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,v=u.advanced.extraDraggableSelectors?e(!W()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!W()||top.document);p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),Z(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),N(l),n=e(this);var a=n.offset(),d=O(o)[0]-a.top,f=O(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f),C(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;o(i,r,a,l)}),e(document).add(v).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=O(e)[0]-t.top,l=O(e)[1]-t.left;if(i===a&&r===l)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(e){n&&(C(n,"active",u.autoExpandScrollbar),n=null),c=!1,s&&(document.onselectstart=null),t(!0)})},D=function(){function o(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if($(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),R.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],A,n,"y","all",!0),B.overflowed[1]&&s(w[1],A,n,"x",L,!0)}}function i(e){if(!$(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),N(y),p=G();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],R=[]}function r(e){if($(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=G();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],R[R.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&V(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],R=[],A=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,F(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(e){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(e){t||(i&&(i=0,n("off",null)),c=!1)})},R=function(){function t(t,a){if(N(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v=t.deltaX||t.deltaY||a;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),V(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},W=function(e){var t=null;if(e){try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t}try{var o=top.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},L=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(e){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){N(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-.9*u*l.width()}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-.9*u*l.height()}V(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(o){var a=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;a.is(n.advanced.autoScrollOnFocus)&&(N(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[te(a)[0],te(a)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-a.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-a.outerWidth(!1)],c="yx"!==n.axis||i[0]||i[1]?"all":"none";"x"===n.axis||i[0]||V(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s}),"y"===n.axis||i[1]||V(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(t){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,F(t,e,o)}if(a.preventDefault(),Z(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},U=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||F(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){N(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;V(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){W(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},F=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=e?!0:!1;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),V(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),K(f,"step"),N(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],N(t),ee(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},q=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},Y=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?te(m)[1]:te(m)[0];case"string":case"number":if(ee(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&ee(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?te(m)[1]:te(m)[0]}return e(t).length?"x"===o?te(e(t))[1]:te(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);

return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void K(f[0],"autoUpdate")):void o()},j=function(e,t,o){return Math.round(e/t)*t-o},N=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){J.call(this)})},V=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?q.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?q.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=j(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),Q(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),(s.tweenRunning||!(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0]))&&Q(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},Q=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=G()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=G(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},G=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},K=function(e,t){try{delete e[t]}catch(o){e[t]=null}},Z=function(e){return!(e.which&&1!==e.which)},$=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},ee=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},te=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},oe=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).load(function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+te(n)[0]>=0&&a[0]+te(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+te(n)[1]>=0&&a[1]+te(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});var addDOMLoadEvent=(function(){var c=[],a,d,f,g,e,b=function(){f=true;clearInterval(a);while(g=c.shift()){g()}if(d){d.onreadystatechange=""}};return function(h){if(f){return h()}if(!c[0]){if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}if(/WebKit/i.test(navigator.userAgent)){a=setInterval(function(){if(/loaded|complete/.test(document.readyState)){b()}},10)}e=window.onload;window.onload=function(){b();if(e){e()}}}c.push(h)}})();var Base=function(){};Base.extend=function(f,c){var b=Base.prototype.extend;Base._prototyping=true;var d=new this;b.call(d,f);delete Base._prototyping;var e=d.constructor;var a=d.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==a){this._constructing=true;e.apply(this,arguments);delete this._constructing}else{if(arguments[0]!=null){return(arguments[0].extend||b).call(arguments[0],d)}}}};a.ancestor=this;a.extend=this.extend;a.forEach=this.forEach;a.implement=this.implement;a.prototype=d;a.toString=this.toString;a.valueOf=function(g){return(g=="object")?a:e.valueOf()};b.call(a,c);if(typeof a.init=="function"){a.init()}return a};Base.prototype={extend:function(c,f){if(arguments.length>1){var i=this[c];if(i&&(typeof f=="function")&&(!i.valueOf||i.valueOf()!=f.valueOf())&&/\bbase\b/.test(f)){var d=f.valueOf();f=function(){var j=this.base||Base.prototype.base;this.base=i;var k=d.apply(this,arguments);this.base=j;return k};f.valueOf=function(j){return(j=="object")?f:d};f.toString=Base.toString}this[c]=f}else{if(c){var g=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){g=this.extend||g}var a={toSource:null};var h=["constructor","toString","valueOf"];var b=Base._prototyping?0:1;while(e=h[b++]){if(c[e]!=a[e]){g.call(this,e,c[e])}}for(var e in c){if(!a[e]){g.call(this,e,c[e])}}}}return this},base:function(){}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a){if(this.prototype[d]===undefined){b.call(c,a[d],d,a)}}},implement:function(){for(var a=0;a<arguments.length;a++){if(typeof arguments[a]=="function"){arguments[a](this.prototype)}else{this.prototype.extend(arguments[a])}}return this},toString:function(){return String(this.valueOf())}});function addEvent(d,b,c){if(d.addEventListener){d.addEventListener(b,c,false)}else{if(!c.$$guid){c.$$guid=addEvent.guid++}if(!d.events){d.events={}}var a=d.events[b];if(!a){a=d.events[b]={};if(d["on"+b]){a[0]=d["on"+b]}}a[c.$$guid]=c;d["on"+b]=handleEvent}}addEvent.guid=1;function removeEvent(a,b,c){if(a.removeEventListener){a.removeEventListener(b,c,false)}else{if(a.events&&a.events[b]){delete a.events[b][c.$$guid]}}}function handleEvent(b){var c=true;b=b||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var a=this.events[b.type];for(var d in a){this.$$handleEvent=a[d];if(this.$$handleEvent(b)===false){c=false}}return c}function fixEvent(a){a.preventDefault=fixEvent.preventDefault;a.stopPropagation=fixEvent.stopPropagation;return a}fixEvent.preventDefault=function(){this.returnValue=false};fixEvent.stopPropagation=function(){this.cancelBubble=true};if(typeof v2==="undefined"||v2===null){v2={}}v2.empty=function empty(a){return typeof a=="undefined"||a===null||a===""};v2.array=function array(b){var a=[];if(b&&typeof b.item==="function"){for(var c=0;c<b.length;c++){a[c]=b[c]}b=a}return v2.empty(b)?[]:(typeof b.shift=="undefined"?[b]:b)};v2.Object={extend:function(c,a,d){d=typeof d==="undefined"?false:d;for(var b in a){if(d&&typeof c[b]!=="undefined"){continue}if(a.hasOwnProperty(b)&&typeof a[b]!=="undefined"){c[b]=a[b]}}return c}};v2.Object.extend(String.prototype,{strip:function(){return this.replace(/^\s+|\s+$/,"")}});v2.Object.extend(Array.prototype,{indexOf:function(b,a){for(var c=0;c<this.length;c++){if(this[c]===b){return c}}return -1}});v2.$=function(a,b){if(typeof a=="string"){a=document.getElementById(a)}b=typeof b=="undefined"?true:b;if(a===null||typeof a.hide!="undefined"||!b){return a}for(var c in v2.Element){if(v2.Element.hasOwnProperty(c)){(function(){var e=c;var d={};d[e]=function(){var g=[a];for(var f=0;f<arguments.length;f++){g.push(arguments[f])}return v2.Element[e].apply(v2.Element,g)};v2.Object.extend(a,d,true)})()}}return a};v2.$$=function $$(p,g){g=g||document;if(document.querySelectorAll){v2.$$=function(r,q){return(q||document).querySelectorAll(r)};return v2.$$(p,g)}var f=p.split(",");var k,m,o,c,j,a,d,l,b,n,i,h;var e=[];for(k=0;(p=f[k]);k++){c=p.strip().split(/[^a-zA-Z]/)[0]||"*";j=p.replace(/^\./,"_.").split(/\./);b=[];n=[];for(m=1;m<j.length;m++){b.push(j[m].split(/[^a-zA-Z\-_]/)[0])}j=p.replace("][","].[").split(/[\[\]]/);for(m=0;m<j.length-1;m+=2){a=j[m+1].split("=");a[1]=a[1]||true;n.push(a)}d=g.getElementsByTagName(c);elementLoop:for(m=0;(l=d[m]);m++){for(o=0;o<b.length;o++){if(!v2.Element.hasClassName(l,b[o])){continue elementLoop}}for(o=0;o<n.length;o++){i=n[o][0];h=n[o][1];if(l.hasAttribute){if(!l.hasAttribute(i)||(h!==true&&l.getAttribute(i)!==h)){continue elementLoop}}else{i=i==="for"?"htmlFor":i;if(typeof l[i]==="undefined"||(h!==true&&l[i]!==h)){continue elementLoop}}}if(e.indexOf(l)<0){e.push(l)}}}return e};v2.Element={observe:function(c,b,a){addEvent(c,b,a)},computedStyle:function(a,b){var c="";if(document.defaultView&&document.defaultView.getComputedStyle){c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b)}else{if(a.currentStyle){b=b.replace(/\-(\w)/g,function(e,d){return d.toUpperCase()});c=a.currentStyle[b]}}return c},visible:function(a){return v2.Element.computedStyle(a,"display")!="none"&&v2.Element.computedStyle(a,"visibility")!="hidden"&&(a.parentNode===null||a.parentNode.nodeType!=1||v2.Element.visible(a.parentNode))},hasClassName:function(b,a){return new RegExp("(^|\\s)"+a+"(\\s|$)").test(b.className)},addClassName:function(b,a){b.className+=v2.Element.hasClassName(b,a)?"":" "+a;b.className=b.className.replace("  "," ").replace(/^\s|\s$/,"");return b},removeClassName:function(c,a){var b=new RegExp("(^|\\s)"+a+"(\\s|$)");c.className=c.className.replace(b," ").replace("  "," ").replace(/^\s|\s$/,"");return c},position:function(a){var b={x:0,y:0};while(a!==null){b.x+=a.offsetLeft;b.y+=a.offsetTop;a=a.offsetParent}return b},scrollTo:function(a){var b=v2.Element.position(a);window.scrollTo(b.x,b.y)},previous:function(a){do{a=a.previousSibling}while(a&&a.nodeType!==1);return a}};v2.Object.extend(Function.prototype,{bind:function(b){var a=this;a.__cc=a.__cc||[];window.__coc=window.__coc||0;if(typeof b.__id=="undefined"){b.__id=window.__coc++}a.__cc[b.__id]=a.__cc[b.__id]||function(){try{return a.apply(b,arguments)}catch(c){}};return a.__cc[b.__id]}});if(typeof addDOMLoadEvent!="undefined"){v2.addDOMLoadEvent=addDOMLoadEvent}v2.CompositeFormItem=Base.extend({type:"generic",constructor:function(){if(v2.empty(this.__validators)){this.__validators=[]}if(v2.empty(this.__errors)){this.__errors=[]}this.__passOnAny=false;this.__message=null;this.parent=null},add:function(a){this.__validators.push(a);a.parent=this},get:function(a){return !v2.empty(a)?this.__validators[a]:this.__validators},validate:function(){this.__errors=[];var a=this.test("validate");if(a){this.__errors=[];this.onSuccess()}else{this.onFailure()}return a},test:function(c){var d,a,b=0;c=c||"test";for(d=0;(a=this.__validators[d]);d++){if(a[c]()){b++}else{this.__errors.push(a)}}return this.passOnAny()&&b>0||!this.passOnAny()&&b===this.__validators.length},getInvalid:function(){return this.__errors.length===0?null:this.__errors},setMessage:function(a){this.__message=a},getMessages:function(){if(!v2.empty(this.__message)){return[this.__message]}var b=[],c,a;for(c=0,a;(a=this.__errors[c]);c++){b=b.concat(a.getMessages())}return b},passOnAny:function(a){if(typeof a!=="undefined"){this.__passOnAny=!!a}return this.__passOnAny},onSuccess:function(){},onFailure:function(){}});v2.InputElement=Base.extend({constructor:function(b,a){this.__name=null;this.__events=v2.empty(a)?["blur"]:v2.array(a);this.__elements=v2.array(b)},monitor:function(c){this.__monitored=true;var d,a,e,b;for(d=0;(e=this.__elements[d]);d++){for(a=0;(b=this.__events[a]);a++){v2.Element.observe(e,b,c)}}},getValue:function(){return this.__elements[0].value},getLabel:function(){var b=this.__elements[0];var a=v2.$$("label[for="+(b.id||b.name)+"]",b.form);return a&&a[0]},getName:function(){if(this.__name){return this.__name}var a=this.getLabel();if(a){return a.title!==""?a.title:a.innerHTML}var b=this.__elements[0];return b.id||b.name},setName:function(a){this.__name=!!a?a:null;return this},getParent:function(){return this.__elements[0].parentNode},getElements:function(){return this.__elements},visible:function(){if(!v2.$(this.getParent()).visible()){return false}for(var a=0,b;(b=this.__elements[a]);a++){if(v2.Element.visible(b)){return true}}return false}},{__fields:{},get:function(h){if(h&&h.constructor===v2.InputElement){return h}var g=v2.$(h),b,c,d,a,f,e;if(!g){a="input$, select$, textarea$";d=v2.$$(a.replace(/\$/g,"[name="+h+"]"));g=d[0]}if(!g){throw new TypeError(h+" does not resolve to an HTML element!")}b=g.name||g.id;if((c=v2.InputElement.__fields[b])){return c}if(g.options){c=new v2.SelectElement(g)}else{if(g.tagName.toLowerCase()==="textarea"){c=new v2.TextareaElement(g)}else{if(g.type&&g.type=="radio"){d=v2.$$("input[type=radio][name="+g.name+"]",g.form);c=new v2.RadioElement(d)}else{if(g.type&&g.type=="checkbox"){f=g.className;e=/\bg_([^\s]*)\b/;d=e.test(f)?v2.$$("input[type=checkbox].g_"+f.match(e)[1],g.form):[g];c=new v2.CheckboxElement(d)}else{c=new v2.InputElement(g)}}}}return(v2.InputElement.__fields[b]=c)}});v2.$f=v2.InputElement.get;v2.RadioElement=v2.InputElement.extend({constructor:function(a){this.base(a,["click","change"])},getValue:function(){for(var b=0,a;(a=this.__elements[b]);b++){if(a.checked){return a.value}}return null},getLabel:function(){var b=this.__elements[0].parentNode;if(b.tagName.toLowerCase()==="li"){return v2.$(b.parentNode).previous()}var a=v2.$(this.__elements[0]).previous();return a||this.base()},getParent:function(){var a=this.__elements[0].parentNode;return a.tagName.toLowerCase()==="li"?a.parentNode.parentNode:a}});v2.SelectElement=v2.InputElement.extend({constructor:function(a){this.base([a],"change")},getValue:function(){var a=this.__elements[0];if(!a.multiple){return a.options[a.selectedIndex].value}var d=[];for(var c=0,b;(b=a.options[c]);c++){if(b.selected){d.push(b.value)}}return d}});v2.TextareaElement=v2.InputElement.extend({});v2.CheckboxElement=v2.RadioElement.extend({getValue:function(){var a=[],c,b;for(c=0,b;(b=this.__elements[c]);c++){if(b.checked){a.push(b.value)}}return a}});v2.Message=Base.extend({constructor:function(c,b,a){this.message=c;this.params=b||[];this.values=a||[]},copy:function(){return new v2.Message(this.message,this.params,this.values)},toString:function(){var b=this.message+"";for(var a=0,c=null;(c=this.params[a]);a++){b=b.replace("${"+c+"}",this.values[a])}return b}});v2.Validator=Base.extend({constructor:function(e,d,c,b,a){this.__name=e;this.__test=d;this.__message=new v2.Message(c||"${field} does not pass "+e+" validator",b);this.__aliases=v2.array(a);this.acceptEmpty=true},test:function(d,b,c){c=typeof c==="undefined"?false:c;var e=d.getValue();var a=(this.acceptEmpty&&e==="")||this.__test(d,e,b);return(a&&!c)||(!a&&c)},getName:function(){return this.__name},getMessage:function(){return this.__message},setMessage:function(a){this.__message.message=a}},{validators:{},add:function(f){if(!f.name||!f.fn){throw new TypeError("Options object should contain name and fn")}f=v2.Object.extend({params:[],aliases:[],acceptEmpty:true},f,false);var b=v2.array(f.params);var d=new v2.Validator(f.name,f.fn,f.message,b,f.aliases);d.acceptEmpty=f.acceptEmpty;var c=v2.array(f.aliases).concat([f.name]);for(var e=0,a;(a=c[e]);e++){v2.Validator.validators[a]=d}return d},reg:function(f,e,b,d,a,c){return v2.Validator.add({name:f,fn:e,message:d,params:b,aliases:a,acceptEmpty:c})},get:function(a){var b;if(a.constructor===v2.Validator){return a}if((b=v2.Validator.validators[a])){return b}return null}});v2.$v=function(a){return v2.Validator.get(a)};v2.$msg=function(){if(arguments.length===2){return v2.Validator.get(arguments[0]).setMessage(arguments[1])}for(var a in arguments[0]){try{v2.Validator.get(a).setMessage(arguments[0][a])}catch(b){}}};v2.Field=v2.CompositeFormItem.extend({validateHidden:false,instant:false,instantWhenValidated:true,type:"field",constructor:function(c,a,b){this.base();this.__monitored=false;this.element=v2.$f(c);this.instant=typeof a!=="undefined"?a:this.instant;this.instantWhenValidated=typeof b!=="undefined"?b:this.instantWhenValidated;this.__monitor(this.instant)},test:function(){if(!this.validateHidden&&!this.element.visible()){return true}return this.base()},validate:function(){this.__monitor(this.instantWhenValidated&&!this.__monitored);return this.base()},addValidator:function(a,b,d){var e=v2.$v(a);if(e===null){throw new Error(a+" is not a valid validator")}if(typeof d!=="undefined"&&d!==null){d=new v2.Message(d,e.getMessage().params)}var c=new v2.FieldValidator(this.element,e,v2.array(b),d);this.add(c);return c},getParent:function(){return this.element.getParent()},__monitor:function(b){if(!b||this.__monitored){return}this.__monitored=true;var a=this.parent&&this.parent.type==="fieldset"?this.parent:this;var c=a.validate.bind(this);this.element.monitor(function(d){c(d)})}});v2.Fieldset=v2.CompositeFormItem.extend({type:"fieldset",constructor:function(a){this.base();this.element=a},getParent:function(){return this.element}});v2.FieldValidator=Base.extend({invert:false,constructor:function(d,a,b,c){this.__field=d;this.__validator=a;this.__params=v2.array(b);this.__message=c||a.__message.copy();var e=this.__message.params;if(e.length<1||e[0]!=="field"){this.__message.params=["field"].concat(e)}this.__message.values=[this.__field.getName()].concat(this.__params)},test:function(){return this.__validator.test(this.__field,this.__params,this.invert)},validate:function(){return this.test()},getInvalid:function(){return !this.test()?this:null},setMessage:function(a){this.__message.message=a},getMessages:function(){return[this.__message.toString()]},add:function(){},remove:function(){},get:function(){},passOnAny:function(){},onSuccess:function(){},onFailure:function(){}});v2.Form=v2.CompositeFormItem.extend({type:"form",constructor:function(a){this.base();this.__form=v2.$(a);this.__form.observe("submit",this.validate.bind(this));this.__buttons=[];this.__activeButton=null},addButton:function(a){this.__buttons.push(a);v2.Element.observe(a,"click",(function(b){this.__activeButton=a}).bind(this))},validate:function(){var b=arguments.length>0?arguments[0]:null;var c=this.__buttons;var a=this.__activeButton;this.__activeButton=null;if(c.length>0&&c.indexOf(a)<0){return true}var d=this.base();if(!d&&b){b.preventDefault();b.returnValue=false}return d}},{forms:{},get:function(b){var c=v2.$(b),a;if(c===null||c.tagName.toLowerCase()!=="form"){throw new ArgumentError("idOrElement should represent a form element")}if(!v2.empty(a=v2.Form.forms[c.id])){return a}return(v2.Form.forms[c.id]=new v2.Form(c))}});(function(){var a=v2.Validator;a.reg("alpha",function(c,d,b){return/^[a-zA-Z\u00A1-\uFFFF]*$/.test(d)});a.reg("alphanum",function(c,d,b){return/^([a-zA-Z\u00A1-\uFFFF0-9])*$/.test(d)});a.reg("pan",function(c,d,b){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(d)});a.reg("confirmation-of",function(c,d,b){return d===v2.$f(b[0]).getValue()},"field-id","${field} should be an exact match",null,false);a.reg("email",function(c,d,b){return/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/.test(d)});a.reg("max-length",function(c,d,b){return d.length<=b[0]},"max");a.reg("max-val",function(c,d,b){return d<=b[0]},"max");a.reg("min-length",function(c,d,b){return d.length>=b[0]},"min");a.reg("min-val",function(c,d,b){return d>=b[0]},"min");a.reg("numeric",function(c,d,b){return/^[0-9]*(\.[0-9]+)?$/.test(d)});a.reg("required",function(c,d,b){return !v2.empty(d)&&!(typeof d.length!=="undefined"&&d.length===0)},null,null,"not-empty",false);a.reg("url",function(c,d,b){return/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(d)});a.reg("word",function(c,d,b){return/^([a-zA-Z\u00A1-\uFFFF_\-\s\t])*$/.test(d)})})();v2.$msg({alpha:"${field} should only contain letters",alphanum:"${field} should only contain letters and numbers","car-regnum-nor":"${field} should be a valid norwegian auto registration number","confirmation-of":"${field} should be a confirmation of ${field-id}",email:"${field} should be a valid email address","max-length":"${field} should be no more than ${max} characters long","max-val":"${field} should be no bigger than ${min}","min-length":"${field} should be atleast ${min} characters long","min-val":"${field} should be atleast ${min}",numeric:"${field} should only contain numbers","phone-nor":"${field} should be a valid norwegian phone number",required:"${field} is required","ssn-nor":"${field} should be a valid norwegian social security number",url:"${field} should be a valid URL",word:"${field} should only contain letters",pan:"Please enter a valid PAN number"});v2.ErrorReporting={displayErrors:-1,positionErrorsAbove:true,failureClass:"error",successClass:"",messagesClass:"messages",onFailure:function(){if(this.parent&&this.parent.type==="fieldset"){return}var g=this.onSuccess();var j="",b,i,d,f;var e=[];var c=this.getMessages();g.addClassName(this.failureClass);g.removeClassName(this.successClass);var a=this.displayErrors;var h=this.__errors.length;a=a<0||a>h?h:a;if(a===0){return}var k=document.createElement("ul");k.id=this.__getId();k.className=this.messagesClass;for(b=0;b<a;b++){i=c[b];if(!i||e.indexOf(i.toString())>=0){continue}e.push(i.toString());f=document.createElement("li");f.innerHTML=i.toString();k.appendChild(f)}if(this.positionErrorsAbove){g.insertBefore(k,g.firstChild)}else{g.appendChild(k)}},onSuccess:function(){if(this.parent&&this.parent.type==="fieldset"){return null}var a=v2.$(this.getParent());var b=v2.$(this.__getId());if(b&&a===b.parentNode){a.removeChild(b)}a.removeClassName(this.failureClass);a.addClassName(this.successClass);return a},__getId:function(){var a=this.element.getElements?this.element.getElements()[0]:null;var c=a||this.getParent();var d=c.className;var b=((c.id||c.name||d.replace(this.failureClass,""))+"_"+this.failureClass).replace(" ","_").replace(/_+/,"_");return b}};v2.Object.extend(v2.Field.prototype,v2.ErrorReporting);v2.Object.extend(v2.Fieldset.prototype,v2.ErrorReporting);v2.Object.extend(v2.Form.prototype,{scrollToFirstWhenFail:true,onFailure:function(){if(!this.scrollToFirstWhenFail){return}var d,a,b,c=this.__form;b=c.all||c.getElementsByTagName("*");for(d=0;(a=b[d]);d++){if(v2.Element.hasClassName(a,v2.ErrorReporting.failureClass)){v2.Element.scrollTo(a);return}}}});v2.Object.extend(v2.Validator,{prefix:""});v2.Object.extend(v2.Form,{autoValidateClass:"validate",actionButtonClass:"action"});v2.html={validateAnyClass:"validate_any",validateAllClass:"validate_all",validatorsFromString:function(e){var i=v2.Validator.prefix;var g=new RegExp("^"+i,"");var h,f,c,a,d,b=[];e=e.split(" ");for(h=0;(f=e[h]);h++){c=false;if(!v2.empty(i)&&!g.test(f)){continue}f=f.replace(g,"");if(/^not_/.test(f)){f=f.replace(/^not_/,"");c=true}a=f.split("_");d=a.shift();if(d&&(d=v2.$v(d))){b.push({validator:d,params:a,invert:c})}}return b},applyValidators:function(a,b,d){if(!v2.empty(d)){b.setMessage(d)}for(var e=0,f,c;(f=a[e]);e++){c=b.addValidator(f.validator,f.params);c.invert=f.invert}return b}};v2.html.Form=Base.extend({constructor:function(a){this.form=v2.Form.get(a);this.__parsed={};this.parseElement(a,this.form);this.form.passOnAny(v2.$(a).hasClassName(v2.html.validateAnyClass))},parseElement:function(b,f,l){var d=v2.$$("div, fieldset, input, select, textarea",b);var i,k,c,h,j,a,e,g;this.__parsed[b.id||b.name]=true;l=l||[];for(i=0;(j=d[i]);i++){if(l.length===0&&(/^\s*$/.test(j.className)||this.__parsed[j.id||j.name])){continue}a=j.tagName.toLowerCase();if(a==="input"&&v2.Element.hasClassName(j,v2.Form.actionButtonClass)){this.form.addButton(j);continue}if(a==="div"||a==="fieldset"){this.parseBlock(j,f);continue}g=l.concat(v2.html.validatorsFromString(j.className));if(g.length>0){e=new v2.Field(j);v2.html.applyValidators(g,e,j.title);this.__parsed[j.id||j.name]=true;f.add(e)}}},parseBlock:function(d,b){var c=new v2.Fieldset(d);var e=true;v2.$(d);if(d.hasClassName(v2.html.validateAnyClass)){}else{if(d.hasClassName(v2.html.validateAllClass)){e=false}else{return}}c.passOnAny(e);var a=v2.html.validatorsFromString(d.className);this.parseElement(d,c,a);if(!/^\s*$/.test(d.title)){c.setMessage(d.title)}if(c.get(0)){b.add(c)}}});v2.addDOMLoadEvent(function(){var a=document.getElementsByTagName("form");for(var c=0,b;(b=a[c]);c++){if(v2.Element.hasClassName(b,v2.Form.autoValidateClass)){new v2.html.Form(b)}}});v2.dsl={__validateTemplate:function(a){return function(){var b=arguments[0];var d=b.element||(b.item?b.item.element:null)||null;if(d===null){while(!!b&&!b.element){b=b.get(0)}}var c=new v2.dsl.Form(d.getElements()[0].form);c.item.passOnAny(a);for(var e=0,f;(f=arguments[e]);e++){c.item.add(f.item||f)}return c}},__andOr:function(a){return function(){var b=new v2.dsl.Collection();b.item.passOnAny(a);for(var c=0,d;(d=arguments[c]);c++){b.item.add(d.item)}return b}}};v2.dsl.expose=function(){var a=v2.dsl;v2.Object.extend(window,{validate:a.validate,validateAll:a.validateAll,validateAny:a.validateAny,and:a.and,or:a.or},false)};v2.dsl.validateAll=v2.dsl.validate=v2.dsl.__validateTemplate(false);v2.dsl.validateAny=v2.dsl.__validateTemplate(true);v2.dsl.and=v2.dsl.__andOr(false);v2.dsl.or=v2.dsl.__andOr(true);v2.Object.extend(String.prototype,{is:function(a,b){var c=new v2.dsl.Field(this.toString());return c.addValidator(a,b)}});(function(){var a=String.prototype;a.isA=a.isAn=a.has=a.hasA=a.hasAn=a.is})();v2.dsl.Field=Base.extend({__currentValidator:null,__and:null,constructor:function(a){this.item=new v2.Field(a)},addValidator:function(a,b,c){if(typeof c!=="undefined"){if(this.__and!==null&&this.__and!==c){throw new Error("Field previously set up with "+(this.__and?"AND":"OR")+", unable to shift")}this.__and=c;this.item.passOnAny(!c)}this.__currentValidator=this.item.addValidator(a,b);return this},and:function(a,b){if(!this.__currentValidator){throw new Error("Cannot add more validators when no validators are added yet")}return this.addValidator(a,b,true)},or:function(a,b){if(!!this.__currentValidator){throw new Error("Cannot add more validators when no validators are added yet")}return this.addValidator(a,b,false)},explain:function(a){if(!this.__currentValidator){throw new Error("No active field validator")}this.__currentValidator.setMessage(a);return this},help:function(a){this.item.setMessage(a);return this},withName:function(a){this.item.element.setName(a);return this}});(function(){var a=v2.dsl.Field.prototype;a.orIs=a.orIsA=a.orIsAn=a.orHas=a.orHasA=a.orHasAn=a.or;a.andIs=a.andIsA=a.andIsAn=a.andHas=a.andHasA=a.andHasAn=a.and})();v2.dsl.Collection=Base.extend({constructor:function(){this.item=new v2.CompositeFormItem()},explain:function(a){this.item.setMessage(a)}});v2.dsl.Form=Base.extend({constructor:function(a){this.item=v2.Form.get(a)},on:function(){var b,a;for(b=0;b<arguments.length;b++){a=v2.$(arguments[b]);this.item.addButton(a.tagName.toLowerCase()!=="input"?a.getElementsByTagName("input")[0]:a)}}});(function(){var c,d,b,a=[].indexOf||function(g){for(var f=0,e=this.length;f<e;f++){if(f in this&&this[f]===g){return f}}return -1};b=(function(){function e(){this.trie={}}e.prototype.push=function(n){var l,k,g,f,o,m,h;n=n.toString();o=this.trie;m=n.split("");h=[];for(k=g=0,f=m.length;g<f;k=++g){l=m[k];if(o[l]==null){if(k===(n.length-1)){o[l]=null}else{o[l]={}}}h.push(o=o[l])}return h};e.prototype.find=function(m){var k,h,g,f,n,l;m=m.toString();n=this.trie;l=m.split("");for(h=g=0,f=l.length;g<f;h=++g){k=l[h];if(n.hasOwnProperty(k)){if(n[k]===null){return true}}else{return false}n=n[k]}};return e})();d=(function(){function e(f){this.trie=f;if(this.trie.constructor!==b){throw Error("Range constructor requires a Trie parameter")}}e.rangeWithString=function(g){var m,l,p,h,f,o,i,s,q;if(typeof g!=="string"){throw Error("rangeWithString requires a string parameter")}g=g.replace(/ /g,"");g=g.split(",");q=new b;for(m=0,p=g.length;m<p;m++){o=g[m];if(f=o.match(/^(\d+)-(\d+)$/)){for(h=l=i=f[1],s=f[2];i<=s?l<=s:l>=s;h=i<=s?++l:--l){q.push(h)}}else{if(o.match(/^\d+$/)){q.push(o)}else{throw Error("Invalid range '"+f+"'")}}}return new e(q)};e.prototype.match=function(f){return this.trie.find(f)};return e})();c=jQuery;c.fn.validateCreditCard=function(s,t){var q,k,l,f,e,g,i,m,p,n,h,r,o;f=[{name:"amex",range:"34,37",valid_length:[15]},{name:"diners_club_carte_blanche",range:"300-305",valid_length:[14]},{name:"diners_club_international",range:"36",valid_length:[14]},{name:"visa",range:"4",valid_length:[16]},{name:"mastercard",range:"51-55,2221-2720",valid_length:[16]},{name:"maestro",range:"50, 56-69",valid_length:[12,13,14,15,16,17,18,19]}];q=false;if(s){if(typeof s==="object"){t=s;q=false;s=null}else{if(typeof s==="function"){q=true}}}if(t==null){t={}}if(t.accept==null){t.accept=(function(){var v,u,w;w=[];for(v=0,u=f.length;v<u;v++){k=f[v];w.push(k.name)}return w})()}h=t.accept;for(m=0,p=h.length;m<p;m++){l=h[m];if(a.call((function(){var j,u,v;v=[];for(j=0,u=f.length;j<u;j++){k=f[j];v.push(k.name)}return v})(),l)<0){throw Error("Credit card type '"+l+"' is not supported")}}e=function(x){var u,v,w,j;j=(function(){var y,A,z,B;B=[];for(y=0,A=f.length;y<A;y++){k=f[y];if(z=k.name,a.call(t.accept,z)>=0){B.push(k)}}return B})();for(u=0,v=j.length;u<v;u++){l=j[u];w=d.rangeWithString(l.range);if(w.match(x)){return l}}return null};i=function(x){var z,u,v,y,j,w;w=0;j=x.split("").reverse();for(y=u=0,v=j.length;u<v;y=++u){z=j[y];z=+z;if(y%2){z*=2;if(z<10){w+=z}else{w+=z-9}}else{w+=z}}return w%10===0};g=function(v,j){var u;return u=v.length,a.call(j.valid_length,u)>=0};o=function(v){var u,j;l=e(v);j=false;u=false;if(l!=null){j=i(v);u=g(v,l)}return{card_type:l,valid:j&&u,luhn_valid:j,length_valid:u}};r=(function(j){return function(){var u;u=n(c(j).val());return o(u)}})(this);n=function(j){return j.replace(/[ -]/g,"")};if(!q){return r()}this.on("input.jccv",(function(j){return function(){c(j).off("keyup.jccv");return s.call(j,r())}})(this));this.on("keyup.jccv",(function(j){return function(){return s.call(j,r())}})(this));s.call(this,r());return this}}).call(this);$(document).ready(function(){try{loadSizeAndPrices()}catch(h){}setScreenResolutionInCookie();$(document).delegate(".icon-close","click",function(m){var l=$(this).parent().data("id");processClientEvent(l)});$(document).delegate(".fancybox-close","click",function(m){var l=$(".client-event:visible").data("id");processClientEvent(l)});$("#get-pincode-delivery").on("keypress",function(l){if(l.keyCode==10||l.keyCode==13){l.preventDefault()}});$("#get-pincode-delivery").on("keyup",function(l){if(l.keyCode==13){$("#cust-details #etd a.button, #cust-details #etd a.btn").click()}});$("#view-sort-by a").on("click",function(o){var m=o.target.textContent.trim();var n=document.getElementById("sortByForEventLogger").textContent;var l=new Object();l._eventId="sorted_product_list";l.sortOption=m;l.existingSortOption=n;l.pageType="browse";l.currentURL=window.location.href;processServerEvent(l)});$("#view-sort-by").on("change",function(){var p=document.getElementById("view-sort-by").selectedIndex;var m=document.getElementById("view-sort-by").options[p].text;var n=document.getElementById("sortByForEventLogger").textContent;var l=new Object();l._eventId="sorted_product_list";l.sortOption=m;l.existingSortOption=n;l.pageType="browse";l.currentURL=window.location.href;processServerEvent(l);var o=$(this).val();if(o){window.location=o}return false});$("#cust-details #etd a.btn, #cust-details #etd a.button").click(function(n){var m=udpateDeliveryDate(n,$(this));var l=new Object();l._eventId="updated_pincode";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.pinCode=$(this).parents("#etd").find(".form-text").val();processServerEvent(l);trackGA("BsUI","expected-delivery-date","clicked")});$("#add_to_cart .addToCart").prop("disabled",false);$("#buy_block").on("submit",function(m){if($(".p-engraving .pe-input").hasClass("active")){if($(".p-engraving .pe-input .form-text").val().length>0){$(".p-engraving .pe-input .form-text").removeClass("invalid")}else{$(".p-engraving .pe-input .form-text").focus();$(".p-engraving .pe-input .form-text").addClass("invalid");return false}}var n=false;if($("#isSets")!=null&&$("#isSets").val()=="true"){n=true}if(n){var t=document.getElementsByName("ringselectSet");var u=0;for(var s=0;s<t.length;s++){var v=t[s];var l=v.options[v.selectedIndex].value.length;if(l>0){u++}else{$("#attributes select").focus()}}if(t.length==u){return true}return false}else{var w=$("#ringSelectId").val();if($("#engravingApplied:checked").length==1){$("#engravingMessage").val($("#engrave").val())}var r=true;if(w){var o=$(".country-switcher").find(".top-level-dd ").find(".top-level-dd-inner").find("span").html();var q=$(".country-switcher").find(".orange-color").html();var p=true;if(o&&!o.match(/inr/i)){p=false}if(q&&!q.match(/rs/i)){p=false}if($("#ringselect").val()==-1||!$("#ringselect").val().length){$("#attributes select").focus();r=false}if($("#ringselect").val()==-1&&p){r=true;$("#attributes select").focus();$("#attributes select").blur()}if($("#ringselect").val()!==""){if(getURLparams.list==="true"){trackGA("BsUI","Hybrid-List","BuyNow")}if(getURLparams.pla==="true"){trackGA("BsUI","Hybrid-PLA","BuyNow")}}return r}}return true});$(".change-cc-menu li > span").click(function(m){m.preventDefault();var l=$(this).children(".country").html();$.ajax({type:"POST",url:GLOBAL_CTX+"/country/set/",async:false,cache:false,dataType:"json",data:"sel-country="+l,success:function(n){trackGA("BsUI","selectCountry",l);location.reload()}})});if($("#ihaveavoucher").is(":checked")){$(".apply-voucher").show();$("#voucher-wrapper").show()}$("input[name=freegift_radio][type=radio]").change(function(){if($(this).val()=="ihaveavoucher"){$(".apply-voucher").show();$("#voucher-wrapper").show()}else{$(".apply-voucher").hide();$("#voucher-wrapper").hide();var l=$(".remove-code-href").html().replace(/&amp;/g,"&");window.location.href=l}});$("#corporate-discount-form #company-name").bind("change",function(l){if($("#company-name").val()=="Other"){$(".other-company-name").show()}else{$(".other-company-name").hide()}});$("#engravingApplied").click(function(){var r=$("#etd .pin").first().text();var q=getCustomizationCode();var l=GLOBAL_CTX+"/deliverydate/customization/get";var p=false;if($("#engravingApplied:checked").length==1){p=true}var n="";var m=$("#ringselect").attr("name");if(m=="chainselect"){n=getSelectedSize()}if(n==""){n="-1"}var o="ajax=true&productcode="+q+"&pincode="+r+"&size="+n+"&engravingApplied="+p;updateDeliveryDateByPincode(r,l,o)});$("#cardNumber, #mobileNo").focus(function(){$(".btn-check-balance, .btn-checkBalance").removeAttr("disabled")});$("#cardNumber, #mobileNo, #amountToRedeem").click(function(){$(this).parents("form").find(".btn").removeAttr("disabled").removeClass("gray")});$("#amountToRedeem").click(function(){$("#cardDetailsDiv .btn").attr("disabled",true);$("#cardDetailsDiv .btn").addClass("btn-light-blue")});$("#amountToRedeem").focus(function(){$("#balanceDiv .btn").removeAttr("disabled");$("#balanceDiv .btn").removeClass("btn-light-blue");$("#cardDetailsDiv .btn").attr("disabled",true);$("#cardDetailsDiv .btn").addClass("btn-light-blue")});$("#rewardpoints-content #cardNumber, #rewardpoints-content #mobileNo").focus(function(){$("#cardDetailsDiv .btn").removeAttr("disabled");$("#cardDetailsDiv .btn").removeClass("btn-light-blue")});$("#rewardpoints-31").submit(function(){trackGA("BsUI","MaxGet","Redemption_Success");$(this).submit(function(){return false});return true});if(PAGE_TYPE=="product"){facebookCustomerDataAfterLogin()}if(navigator.cookieEnabled){}$(".hto-time-block ul li.pick-time").click(function(){$(".try_time_pd").val($(this).data("time"));$(".try_time_pd").val($(this).data("time"));$(this).addClass("active").siblings().removeClass("active");var l=$(this).text().replace(/ /g,"");clevertap.event.push("Event Performed",{"Event Name":"Selected Time for Try At Home",Feature:"Try At Home","Event Value":l})});var j=(PAGE_TYPE=="try-at-home");var a=$("#size-helper-s1").hasClass("single-page");var d=$("#hto-wrapper").hasClass("getDate");if(j||a||d){pickRandomTimeSlot($(".hto-time-block ul"),$(".try_time_pd"),5)}checkAndSubscriberForPushNotification();$("#shareWishListId").on("input",function(){if($(this).val().length>0){$("#shareYourWishList .btn").removeAttr("disabled").removeClass("btn-gray blue")}else{$("#shareYourWishList .message .inner").remove();$("#shareYourWishList .btn").attr("disabled",true).addClass("btn-gray blue")}});$("#wishlist-share .share-again").click(function(){$("#shareYourWishList .btn").attr("disabled",true).addClass("btn-gray");$("#wishlist-share #shareWishListId").val("");if(deviceName=="NORMAL"||deviceName=="TABLET"){$("#wishlist-share .share-wishlist-form").show();$("#wishlist-share .share-wishlist-success").hide()}else{$("#wishlist-share .share-wishlist-form").addClass("active");$("#wishlist-share .share-wishlist-success").removeClass("active")}});if(deviceName=="MOBILE"||deviceName=="TABLET"){$(".design-week .tt span").click(function(){var n=$(this).parents(".tt").find("video");var m=n.data("label"),l=n.data("pid").toString();trackGA("design_week",m+"_turntable_video_clicked",l);n.get(0).play();$(this).remove()});$(".design-week .video-1 span").click(function(){var l=$(this).parents(".video-1").find("video");l.get(0).play()})}var k=0;$(window).scroll(function(){var l=$(window).scrollTop();if(l>10){k++;if(k==1){$(".design-week video").each(function(){var m=$(this);var n=m.data("url");m.html("<source src="+n+"/>");m.get(0).load()})}}});$(".sendOTP").click(function(){var n="codCodeRequest";var r=$("#cartId").val();var p=window.location.href;var l=document.referrer;var m=0;var o="CASH";if($("#cardOnDelivery").hasClass("selected")||$("input[name='cardOnDelivery']:checked").length>0||$("input[name='codPaymentType']:checked").length>0){o="CARD"}var q=$(this);q.parent().find(".form-submit").addClass("hidden");q.parent().find(".payment-loader").removeClass("hidden");$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/sendOtpForVerification/",async:true,cache:false,dataType:"json",data:"cartId="+r+"&_eventId="+n+"&currentURL="+p+"&codPaymentType="+o+"&referrer="+l+"&directServer="+m,success:function(t){if(t.hasError){q.parents(".payment_detail").find(".cash-on-delivery-content-otp").hide();q.parents(".payment_detail").find(".cash-on-delivery-content").show()}else{q.parents(".payment_detail").find(".otp-verification").hide();q.parents(".payment_detail").find(".cash-on-delivery-content-otp").show();var s=$(".paymentSelectedTab #otp-count-down");countDownTimer(s,60,function(){$(".paymentSelectedTab .otp-timer-block").addClass("disable");if(deviceName!=="MOBILE"){q.parents(".payment_detail").find("#otpMessages .error-container.otp-not-recv-msg").slideDown()}else{q.parents(".payment_detail").find(".error-container.otp-not-recv-msg").show()}trackGA("BsUI","CheckoutFlow","Call confirmation option shown")});if(!q.parents("#cashondelivery-content").find(".checkbox-wrapper input:checkbox").is(":checked")){q.parents("#cashondelivery-content").find(".paymentSelectedTabTwo .payment_module").replaceWith('<div class="payment_module">Pay using cash on delivery</div>');if(q.parents("#cashondelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","COD CashOnDelivery Place Order")}}else{trackGA("BsUI","CheckoutFlow","COD CardOnDelivery Place Order")}if(q.parents("#cardOnDelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","CardOnDelivery Place Order")}}}})});$(".otpVerificationCOD").click(function(m){m.preventDefault();var l=$(this).parents(".payment_detail").find("#otp-code").val();var p=$(this).parents(".payment_detail").find("#cartId").val();var o=$(this);o.addClass("hidden");o.parent().find(".payment-loader").removeClass("hidden");var n=$(this).parents(".payment-checkout").hasClass("app-view");$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/otpVerification/",async:false,cache:false,dataType:"json",data:"otp="+l+"&cartId="+p,success:function(q){if(q.hasError){if(q.expired){o.parents(".payment_detail").find(".sent-otp-code").hide();o.parents(".payment_detail").find(".otp-code-expired").show();o.parents(".payment_detail").find(".invalid-otp-code").hide();if(deviceName!="MOBILE"){o.parents(".payment_detail").find("#otpMessages .error-container.otp-not-recv-msg").slideUp();o.parents(".payment_detail").find("#otpMessages .error-container.otp-expired-msg").slideDown();trackGA("BsUI","CheckoutFlow","Code expired message shown")}}else{if(n){if(otpCounter>=2){o.parents(".payment_detail").find(".cash-on-delivery-content-otp").hide();o.parents(".payment_detail").find(".cash-on-delivery-content").show();o.parents(".payment_detail").find("form").removeAttr("onsubmit");trackGA("BsUI","CheckoutFlow","Call confirmation option shown")}}o.parents(".payment_detail").find(".invalid-otp-code").show();trackGA("BsUI","CheckoutFlow","Invalid code entered");o.parents(".payment_detail").find(".sent-otp-code").hide();o.parents(".payment_detail").find(".EnterVerificationCode .form-control").val("");if(!o.parents("#cashondelivery-content").find(".checkbox-wrapper input:checkbox").is(":checked")){if(o.parents("#cashondelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","COD CashOnDelivery Confirm Order noOTP")}}else{trackGA("BsUI","CheckoutFlow","COD CardOnDelivery Confirm Order noOTP")}if(o.parents("#cardOnDelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","CardOnDelivery Confirm Order noOTP")}otpCounter++}o.parent().find(".form-submit").removeClass("hidden");o.parent().find(".payment-loader").addClass("hidden")}else{o.parents(".payment_detail").find("form").removeAttr("onsubmit");submitPaymentForm();if(!o.parents("#cashondelivery-content").find(".checkbox-wrapper input:checkbox").is(":checked")){if(o.parents("#cashondelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","COD CashOnDelivery Confirm Order")}}else{trackGA("BsUI","CheckoutFlow","COD CardOnDelivery Confirm Order")}if(o.parents("#cardOnDelivery-content").hasClass("payment_detail")){trackGA("BsUI","CheckoutFlow","CardOnDelivery Confirm Order")}o.parents(".paymentSelectedTabTwo").find(".invalid-otp-code.error-message").hide();clearInterval(timerID);o.parents(".paymentSelectedTabTwo").find(".otp-timer-block").addClass("disable");$(".card-payment-overlay").removeClass("hidden")}}})});$(".reSendOTP").click(function(){var n="codResendCodeRequest";var r=$("#cartId").val();var p=window.location.href;var l=document.referrer;var m=0;var q=$(this);var o="CASH";if($("#cardOnDelivery").hasClass("selected")||$("input[name='cardOnDelivery']:checked").length>0||$("input[name='codPaymentType']:checked").length>0){o="CARD"}$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/sendOtpForVerification/",async:true,cache:false,dataType:"json",data:"cartId="+r+"&_eventId="+n+"&currentURL="+p+"&referrer="+l+"&codPaymentType="+o+"&directServer="+m,success:function(t){if(t.hasError){q.parents(".payment_detail").find(".cash-on-delivery-content-otp").hide();q.parents(".payment_detail").find(".cash-on-delivery-content").show()}else{if(deviceName!="MOBILE"){q.parents(".payment_detail").find("#otpMessages .error-container").slideUp();q.parents(".payment_detail").find(".sent-otp-code").slideDown();setTimeout(function(){q.parents(".payment_detail").find(".sent-otp-code").slideUp()},5000)}else{$(".error-container.otp-not-recv-msg").hide();setTimeout(function(){$(".sent-otp-code.success-message").hide()},5000)}$(".paymentSelectedTab .otp-timer-block #otp-count-down").text(60);$(".paymentSelectedTab .otp-timer-block").removeClass("disable");var s=$(".paymentSelectedTab #otp-count-down");countDownTimer(s,60,function(){if(deviceName!=="MOBILE"){q.parents(".payment_detail").find("#otpMessages .error-container.otp-not-recv-msg").slideDown()}else{q.parents(".payment_detail").find(".error-container.otp-not-recv-msg").show()}$(".otp-timer-block").addClass("disable");trackGA("BsUI","CheckoutFlow","Call confirmation option shown")});if(deviceName=="MOBILE"){q.parents(".payment_detail").find(".sent-otp-code").show()}q.parents(".payment_detail").find(".otp-code-expired").hide();q.parents(".payment_detail").find(".invalid-otp-code").hide();q.parents(".payment_detail").find(".EnterVerificationCode .form-control").val("")}}})});$("#customizeOptionForEventLogger").on("click",function(){$(".formError").remove();if(deviceName!="MOBILE"){if($(this).html().toUpperCase().includes("HIDE")){return}}else{if(!$(this).html().toUpperCase().includes("HIDE")){return}}$("#isCustomizationAttempted").val("true");var l=new Object();l._eventId="initiated_product_customization";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.pageType=PAGE_TYPE;processServerEvent(l)});$("#ringselect").on("mousedown",function(m){var l=new Object();l._eventId="initiated_ring_size_selection";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.pageType=PAGE_TYPE;processServerEvent(l)});$("#ringselect").on("change",function(m){m.preventDefault();m.stopPropagation();var l=new Object();l._eventId="selected_ring_size";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.selected_ring_size=$("#ringselect").val();l.pageType=PAGE_TYPE;processServerEvent(l)});$("#hto-wrapper .pick-date").click(function(){var l=new Object();l._eventId="hometryon_selected_date";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.selectedDate=$(this).attr("data-date");processServerEvent(l)});$("#hto-wrapper .pick-time").click(function(){var l=new Object();l._eventId="hometryon_selected_timeslot";l.id=$("#customizationId").val();l.customizationId=$("#customizationId").val();l.selectedTimeSlot=$(this).attr("data-time");processServerEvent(l)});$("body").on("keydown",".paymentSelectedTab #otp-code",function(){if($(this).val().length>0){$(this).parents(".paymentSelectedTabTwo").find(".otpVerificationCOD").prop("disabled",false)}});$("#occasionDeliveryCheckBox #occasionDeliveryCB").change(function(){changeEDDToOccasionDate()});getProductSelectValueOnLoad();$("body").on("click",".tab-nav li a",function(p){p.preventDefault();var n=$(this).attr("href"),l=$(this).data("bank"),m=parseInt($(".final-pd-price").text().replace(/,/g,"")),o="";isBankTabClicked=true;$(this).parent().addClass("active");$(this).parent().siblings().removeClass("active");$(n).addClass("active");$(n).siblings().removeClass("active");$(".tabs-content .caption").html(l+" Bank Credit Card EMI plans");ap_tab_index=($(this).parent().index());trackGA("EMI","Viewed Bank EMI Plans "+((PAGE_TYPE=="product")?"on Product":"during Payment"),l,m);return false});if($("#countryId_delivery").length===1){var e=$("#countryId_delivery")[0],g=e.options[e.selectedIndex].text}else{var g=$("#countryId1_delivery").val()}if(g!="India"){setDummyValuesForBillingAddress()}formFieldFocus();formFieldAutoFilled();$(".textarea-wrap").on("click",function(){$(this).find("textarea").focus()});var b=new Date();var c=showDates(b,7);var j=(PAGE_TYPE=="try-at-home");var a=$("#size-helper-s1").hasClass("single-page");var d=$("#hto-wrapper").hasClass("getDate");if(j||a||d){$(".hto-date-block ul").html(c.join(""));$(".hto-date-block ul").find(TAHDisabledDATE).removeClass("pick-date").addClass("disabled").removeClass("active");var f=0;if(TAHDisabledDATE==""){$(".hto-date-block ul").each(function(){f=$(this).find("li.pick-date:nth-child(n+2):nth-child(-n+4)").length})}else{$(".hto-date-block ul").each(function(){f=$(this).find("li.pick-date").length-1})}pickRandomDateSlot($(".hto-date-block ul"),$(".try_date_pd"),f)}$(".hto-date-block ul li.pick-date").click(function(){$(".try_date_pd").val($(this).data("date"));$(".try_date_pd").val($(this).data("date"));$(this).addClass("active").siblings().removeClass("active");var l=tahDateFormat($(this).data("date"),"0");clevertap.event.push("Event Performed",{"Event Name":"Selected Date for Try At Home",Feature:"Try At Home","Event Value":l.dayStringShort})});$(".remove-gift-msg").on("click",function(){var m=$(this).data("cartid");var l=$(this);removeGiftMsg(m,l)});$("#voucher-wrapper input[type=submit]").on("click",function(){var l=$("#voucher-wrapper #discountCode").val();trackGA("Checkout","Applied Voucher",l)});$(".remove-voucher").click(function(){$("#removeVoucher").submit()})});function pickRandomTimeSlot(e,d,b){var a,c;a=Math.floor((Math.random()*b));var c="";e.each(function(){c=$(this).find("li.pick-time").eq(a);c.addClass("active")});d.val(c.data("time"))}function pickRandomDateSlot(e,d,b){var a,c;a=Math.floor((Math.random()*b));var c="";e.each(function(){if(TAHDisabledDATE==""){c=$(this).find("li.pick-date:nth-child(n+2):nth-child(-n+4)").eq(a)}else{c=$(this).find("li.pick-date").eq(a)}c.addClass("active")});d.val(c.data("date"))}function setScreenResolutionInCookie(){if(navigator.cookieEnabled){var d="screenHeight";var c="screenWidth";var a=readCookie(d);if(a=="grid"||a!=undefined){var b=30;createCookie(d,screen.height,b);createCookie(c,screen.width,b)}}}function checkAndSetUserBandWidthCookie(){if(navigator.cookieEnabled){var f="ubc";var c=-1;var e="";var b="";var a="";var d=readCookie(f);if(d=="grid"){$.ajax({url:GLOBAL_CTX+"/tracking/getubwcookieconfiguration?ajax=true",type:"GET",dataType:"json",success:function(g){if(g.hasError){console.log("something went wrong while fetching cookie confguration")}else{e=g.expiryInMinutes/(60*24);b=g.fileSizeMB*1024*8;a=g.fileName+"_"+g.fileSizeMB+".jpg";url=g.url;createCookie(f,c,e);var h=new Date();$.ajax({url:url,cache:false,type:"GET",success:function(n,m){var l=(new Date()-h);var j=l/1000;var k=b/j;k=parseInt(k,10);createCookie(f,k,e)}})}}})}}}function readCookie(b){var e=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return f.substring(e.length,f.length)}}return"grid"}function showDates(b,h){var c=[];for(var d=0;d<h;d++){var a=new Date();a.setDate(b.getDate()+(d+1));var g=(a.getMonth()+1);if(g<10){g="0"+g}var k=a.getDate();if(k<10){k="0"+k}var e=a.getFullYear()+"-"+g+"-"+k;var j=new Date(new Date().getTime()+24*60*60*1000);if(j<10){j="0"+j}var f="<li class='pick-date' data-date="+e+"><span class='inner'>";if(d==0){f+="<span class='day tmw'>tomorrow</span>"}else{f+="<span class='day'>"+DayAsString(a.getDay())+"</span>"}f+="<span class='date'>"+a.getDate()+" "+monthAsString(a.getMonth()).substring(0,3)+"</span>";f+="</span></li>";c.push(f)}return c}function DayAsString(b){var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return a[b]}function dayString(b){var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return a[b]}function isNextDay(c){var b=new Date(),a=b.setDate(b.getDate()+1);return b.getDate()==c}function monthAsString(b){var a=["January","February","March","April","May","June","July","August","September","October","November","December"];return a[b]}function numberSuffix(c){var b=c%10,a=c%100;if(b==1&&a!=11){return c+"st"}if(b==2&&a!=12){return c+"nd"}if(b==3&&a!=13){return c+"rd"}return c+"th"}function facebookCustomerDataAfterLogin(){$.ajax({type:"GET",url:GLOBAL_CTX+"/auth/productPageFacebookData/",async:true,cache:false,dataType:"json",success:function(a){if(!a.hasError){if(Object.keys(a.topCustomerWhoPurchased).length>0){var b="";$.each(a.topCustomerWhoPurchased,function(c,d){b=b+'<li><a href="https://www.facebook.com/'+c+'" target="_blank"><span class="cust-img"><img src="https://graph.facebook.com/'+c+'/picture" width="50" height="50"/></span>';b=b+'<span class="cust-name">'+d+"</span></a></li>"});$("#happy-customer-id").removeClass("hidden");$(".happy-customers .list-inline").html(b)}}}})}function hintGiftDetails(){$(".hint-div-box-status").hide();$(".hint-div-box-data").show();if(deviceName=="NORMAL"){$(".hint-gift-details-val").fancybox().trigger("click")}else{}}function updateGiftHintSender(){var a=$("#hint-sender-name").val();$(".hint-sender-name-detail").html(a)}function updateGiftHintRcv(){var a=$("#hint-rcp-name").val();$(".hint-rcv-name-detail").html(a)}function dropGiftHint(){var b=$("#hint-sender-name").val();var f=$("#hint-sender-email-id").val();var c=$("#hint-sender-phone-id").val();var a=$("#hint-rcp-name").val();var g=$("#hint-rcp-email-id").val();var e=$("#hint-rcp-phone-id").val();var h=window.location.href;var d="senderPhone="+c+"&senderName="+b+"&senderEmail="+f+"&recipientPhone="+e+"&recipientName="+a+"&recipientEmail="+g+"&productLink="+encodeURIComponent(h);$.ajax({type:"POST",url:GLOBAL_CTX+"/dropHint/send",async:true,cache:false,dataType:"json",data:d,success:function(j){if(j.hasError){$(".hint-div-box-status").html(getPostHintFailureDiv())}else{$(".hint-div-box-status").html(getPostHintSuccessDiv())}$(".hint-div-box-data").hide();$(".hint-div-box-status").show()}})}function getPostHintSuccessDiv(){var a="";a="Your hint has been emailed to "+$("#hint-rcp-email-id").val()+"<br/>";a+='<a href="" class="\btn-gray btn-lg" title="Continue Shopping"><i class="ion-ios-arrow-left"></i>Continue Shopping</a>';return a}function getPostHintFailureDiv(){var a="";a="Please Provide Valid Data<br/>";a+='<a href="" class="\btn-gray btn-lg" title="Continue Shopping"><i class="ion-ios-arrow-left"></i>Continue Shopping</a>';return a}function processClientEvent(b){if(clientLoggingOn=="false"){return}var a={};if(deviceName=="MOBILE"){if($(".client-event-"+b).css("display")=="block"){$(".client-event-"+b+" *").each(function(){if($(this).hasClass("client-event-detail")||$(this).hasClass("client-event-attr")){a[$(this).attr("name")]=$(this).val()}})}}else{if($(".client-event-"+b).is(":visible")){$(".client-event-"+b+":visible *").each(function(){if($(this).hasClass("client-event-detail")||$(this).hasClass("client-event-attr")){a[$(this).attr("name")]=$(this).val()}})}}sendClientEvent(a)}function setDefaultAttribute(a){if(!customerId||customerId==="null"){customerId=null}if(!visitorId||visitorId==="null"){visitorId=null}a.screenHeight=screen.height;a.screenWidth=screen.width;a.deviceName=deviceName;if(customerId!=null){a.customerId=customerId}if(visitorId!=null){a.visitorId=visitorId}a.currentURL=window.location.href;a.referrer=document.referrer;a.directServer=0}function sendClientEvent(a){setDefaultAttribute(a);try{a.currentURL=window.location.href;a.cleverTapId=clevertap.getCleverTapID();a.connectoId=_connecto.getAnonymousId()}catch(b){}$.ajax({type:"POST",url:GLOBAL_EVENT_CTX+"/eventlogger/server/log",async:true,cache:false,dataType:"json",data:a,xhrFields:{withCredentials:true},success:function(c){}})}function processServerEvent(a){a.currentURL=window.location.href;a.pageType=getCurrentPageType();a.referrer=document.referrer;a.directServer=0;try{a.cleverTapId=clevertap.getCleverTapID();a.connectoId=_connecto.getAnonymousId()}catch(c){}var b=getURLparams;if(typeof b.utm_source!="undefined"){a.utm_source=b.utm_source}if(typeof b.utm_medium!="undefined"){a.utm_medium=b.utm_medium}if(typeof b.utm_campaign!="undefined"){a.utm_campaign=b.utm_campaign}$.ajax({type:"POST",url:GLOBAL_EVENT_CTX+"/eventlogger/server/log",async:true,cache:false,dataType:"json",xhrFields:{withCredentials:true},data:a,success:function(d){}})}function processBatchedServerEvent(a){var b;try{b=clevertap.getCleverTapID();a.connectoId=_connecto.getAnonymousId();a.currentURL=window.location.href}catch(c){}$.ajax({type:"POST",url:GLOBAL_EVENT_CTX+"/eventlogger/server/log",async:true,cache:false,dataType:"json",xhrFields:{withCredentials:true},data:{multipleEventsJsonData:JSON.stringify(a),currentURL:window.location.href,referrer:document.referrer,directServer:JSON.stringify(0),cleverTapId:b},success:function(d){}})}function createEventLogInBatches(c,m,y,l,x,k,w,j,u,h,t,g,s,f,r,e,q,d,p){if(eventLoggerOn=="false"){return}if(!c||c==null){return}if(!customerId||customerId==="null"){customerId="undefined"}if(!visitorId||visitorId==="null"){visitorId="undefined"}if(!m||m==null){m="undefined";y="undefined"}if(!l||l==null){l="undefined";x="undefined"}if(!k||k==null){k="undefined";w="undefined"}if(!j||j==null){j="undefined";u="undefined"}if(!h||h==null){h="undefined";t="undefined"}if(!g||g==null){g="undefined";s="undefined"}if(!f||f==null){f="undefined";r="undefined"}if(!e||e==null){e="undefined";q="undefined"}if(!d||d==null){d="undefined";p="undefined"}if(c=="buyNow"){h="MRP";t=$("#our_price_display").html();g="sellingPrice";s=$("#discountedPriceSpan").html()}if(c=="orderReturned"||c=="orderCancelled"){h="reason";t=$(".cancel-reason").val()}if(location.search){var n=location.search.substring(1).split("&");for(var o=0;o<n.length;o++){var v=n[o].split("=");if(!v[0]){continue}else{if(v[0]=="utm_source"){f="UTM_Source";r=v[1]}if(v[0]=="utm_medium"){e="UTM_medium";q=v[1]}if(v[0]=="utm_campaign"){d="UTM_Campaign";p=v[1]}}}}var b=9;var a={visitorId:visitorId,eventType:c,customerId:customerId,maxFieldAvailable:b,fieldName0:m,fieldData0:y,fieldName1:l,fieldData1:x,fieldName2:k,fieldData2:w,fieldName3:j,fieldData3:u,fieldName4:h,fieldData4:t,fieldName5:g,fieldData5:s,fieldName6:f,fieldData6:r,fieldName7:e,fieldData7:q,fieldName8:d,fieldData8:p};collectLoggingData(a)}function collectLoggingData(b){paramStr=JSON.stringify(b);paramStr=paramStr+"##";if(!eventLoggerData||eventLoggerData==="null"){eventLoggerData=""}eventLoggerData=eventLoggerData+paramStr;var a=eventLoggerData.split("##").length;if(a>=eventLoggerBatchSize){createEventDataLog();flushEventLogBatchData("flushData");eventLoggerData=""}else{$.ajax({type:"POST",url:GLOBAL_CTX+"/eventlogger/eventDataBatching",async:true,cache:false,dataType:"json",data:b,success:function(c){}})}}function pushThirdPartyEvent(b,a,d){clevertap.event.push(b,a);if(d){_connecto.track(b,a)}}function flushEventLogBatchData(a){var b="ajax=true&eventType="+a;$.ajax({type:"POST",url:GLOBAL_CTX+"/eventlogger/eventDataBatching",async:true,cache:false,dataType:"json",data:b,success:function(c){}})}function createEventDataLog(){var b=eventLoggerData.split("##");var a=[];for(i=0;i<b.length-1;i++){a.push(JSON.parse(b[i]))}$.ajax({type:"POST",url:GLOBAL_CTX+"/eventlogger/insertEventLogInBatches",async:true,cache:false,contentType:"application/json",dataType:"json",data:JSON.stringify(a),success:function(c){}})}function findEventLog(a,h,e,d,g,f,c){var b="ajax=true&eventType="+a+"&customerId="+e+"&visitorId="+h+"&data="+d+"&action1="+g+"&action2="+f+"&action3="+c;$.ajax({type:"POST",url:GLOBAL_CTX+"/eventlogger/findEventLog",async:true,cache:false,dataType:"json",data:b,success:function(j){}})}function emiDetails(){var e="";$("#emi-breakup-detail").html(e);var a=getCustomizationCode();var c=$("#ringselect").attr("name");var d=-1;if(c=="chainselect"){d=getSelectedSize();if(!d.length){d=-1}}var f=$("#etd .pin").first().text();if(a){var b=GLOBAL_CTX+"/design/getEmiDetails/"+a+"/"+d;$.ajax({type:"GET",url:b,dataType:"json",data:"pincode="+f,success:function(g){getEmiDivDetails(g)}})}}$(document).ready(function(){var a="less";$(".more-cities").click(function(){if(a==="less"){$(".full-cities-list").removeClass("hidden");$(this).html("(View Less)");a="more"}else{if(a==="more"){$(".full-cities-list").addClass("hidden");$(this).html("(View More)");a="less"}}})});function isPinSupported(c,b){var a=GLOBAL_CTX+"/kissht/pincodes/is_supported/"+c+"/";$.get(a,function(e,d){if(b){b(e)}})}function getKisshtPlan(b,d){var a=GLOBAL_CTX+"/kissht/plan/"+b+"/?ajax=true";var c;$.ajax({type:"GET",url:a,dataType:"json",async:true,success:function(e){if(d){d(e)}kisshtPlanTable(e.plans);c=e.minEmi}});return c}function getEMIMinValue(b){var c;var a;if((is_kissht_emi_available&&b>kissht_min_eligibility&&b<kissht_max_eligibility)){getKisshtPlan(b,function(d){c=d.minEmi;var e=$("#same-day-delivery-top-div #same-day-delivery").css("display")=="block";if(is_kissht_emi_available&&b>kissht_min_eligibility&&b<kissht_max_eligibility&&!e&&c!=null){$("#min_installment_amount").html(c);$(".without-card-emi, .kissht-content").removeClass("hidden");$(".credit-card-emi, .airpay-content").addClass("hidden");$(".without-card-emi").addClass("active");$(".airpay-emi-block").removeClass("hide-it");$(".bs-tab-content .kissht-content-mob").addClass("active");$(".bs-tab-content .airpay-content-mob").removeClass("active")}else{$(".airpay-emi-block").addClass("hide-it")}})}else{$(".airpay-emi-block").addClass("hide-it")}}function kisshtPlanTable(c){var a="",d="";a+="<table>";a+="<tr>";a+="<td>Months</td>";a+="<td>Interest Rate</td>";a+="<td>Monthly EMI</td>";a+="<td>Downpayment</td>";a+="</tr>";for(var b=0;b<c.length;b++){a+="<tr>";a+="<td>"+c[b].tenure+"</td>";a+="<td>"+c[b].interestRate+"%</td>";a+="<td><span class='WebRupee'>Rs.</span>"+c[b].emi.toLocaleString("en-IN")+"</td>";a+="<td><span class='WebRupee'>Rs.</span>"+c[b].downPayment.toLocaleString("en-IN")+"</td>";a+="</tr>"}a+="</table>";d=document.querySelector(".kissht-emi-table .tab-container .ap-tab-content");if(d!==null){d.innerHTML=a}}var mapForBankToInterest,ap_popup_status=false,ap_tab_index=0,isBankTabClicked=false;function airPayEMIDetails(b){var a=GLOBAL_CTX+"/airpay/bank/duration/interest";$.ajax({type:"GET",url:a,success:function(d){mapForBankToInterest=d;updateDataForEMI(b);if(execution_step=="checkoutPaymentDetails"){var c=Math.round(getFinalAmount(b,$("#min_emi_duration").val(),$("#min_emi_interest").val())/$("#min_emi_duration").val());$("#min_installment_amount").html(c)}}})}function updateDataForEMI(a){var c=false,b=[];$.each(mapForBankToInterest,function(d,e){b.push(d)});showBankNameByOrder(b);updateAllBankData(b,a)}function calculateEMIDetailsForSelectedBank(a,b){var c=[["Monthly Installment","Number of EMIs","Interest Rate (p.a)"]];$.each(mapForBankToInterest[a],function(e,f){var d=getFinalAmount(b,e,f);c.push(["<span class='WebRupee'>Rs.</span>"+Math.round(d/e).toLocaleString("en-IN"),e,f+"%"])});return emiDataToHtml(c)}function emiDataToHtml(e){var d=e;var a="";for(var c=0;c<d.length;c++){a+="<tr>";for(var b=0;b<d[c].length;b++){a+="<td>"+d[c][b]+"</td>"}a+="</tr>"}return a}function showBankNameByOrder(f){var b="",e="",d="tab-",g=$("#min_emi_bank").val(),c="";if(deviceName!=="MOBILE"){d="qtab-"}for(var a=0;a<f.length;a++){if(isBankTabClicked&&a==ap_tab_index){c="active"}else{if(!isBankTabClicked&&f[a]==g){c="active"}else{c=""}}b+="<li class='"+c+"'><a href='#"+d+a+"' data-bank='"+f[a]+"'> "+f[a]+" Bank </li>";e+="<div class='tab-items "+c+"' id='"+d+a+"'></div>"}document.querySelector(".airpay-emi-table .tab-container .tab-nav ul").innerHTML=b;document.querySelector(".airpay-emi-table .tab-container .ap-tab-content").innerHTML=e}function updateAllBankData(d,b){var e=$("#min_emi_bank").val();for(var a=0;a<d.length;a++){if(isBankTabClicked&&a==ap_tab_index){e=d[a]}else{if(!isBankTabClicked&&d[a]==e){e=$("#min_emi_bank").val()}}var c=calculateEMIDetailsForSelectedBank(d[a],b);$(".tab-container .ap-tab-content div:nth-child("+(a+1)+")").html("<table>"+c+"</table>")}if(deviceName!=="MOBILE"){$(".tabs-content .caption").html(e+" Bank Credit Card EMI plans")}}function getFinalAmount(b,c,e){var a=e/(12*100);var d=(Math.pow((1+a),c));return(b*c*((d*a)/(d-1)))}function updateEmiOnCustomization(){var a=$(".final-pd-price").text().replace(/,/g,"");if(is_airpay_emi_available||is_kissht_emi_available){getEMIMinValue(a)}}function getEmiDivDetails(j){if(j.length!=0){var g=j[0].processingFees;$(".emi-block #proc-cost").html(g);var m=j[0].interestRate;$(".emi-block #interest-cost").html(m);var d=j[0].totalCost;$(".emi-block #total-cost-3").html(d);var c=j[0].downpayment;$(".emi-block #down-cost-3").html(c);var h=j[0].emi;$(".emi-block #month-cost-3").html(h);var b=j[1].totalCost;$(".emi-block #total-cost-6").html(b);var a=j[1].downpayment;$(".emi-block #down-cost-6").html(a);var f=j[1].emi;$(".emi-block #month-cost-6").html(f);var l=j[2].totalCost;$(".emi-block #total-cost-9").html(l);var k=j[2].downpayment;$(".emi-block #down-cost-9").html(k);var e=j[2].emi;$(".emi-block #month-cost-9").html(e);$(".emi-block").toggle();$(".emi-block-not-avlb").hide();$(".emi-block-avlb").show()}else{$(".emi-block").toggle();$(".emi-block-avlb").hide();$(".emi-block-not-avlb").show()}}function loadSizeAndPrices(){var a=getCustomizationCode();if(a){var b=GLOBAL_CTX+"/design/getSizeBasedPricing/"+a;$.ajax({type:"GET",url:b,dataType:"json",success:function(c){weightAndPriceDetails=c;getPriceOnSize();appendShortDesc()}})}}function getQualityForCarat(){var b=document.getElementById("caratselect");var a=b.options[b.selectedIndex].value;var d=document.getElementById("qualityselect");var c=d.options[d.selectedIndex].value;$("#qualityselect option").each(function(){var e=$(this);if(e.hasClass(a)||e.val()==""){e.show()}else{e.hide()}if(e.val()==c){e.removeAttr("selected")}if(e.val()==""){e.prop("selected",true)}})}function getClarityForCarat(){var e=document.getElementById("caratselect");var a=e.options[e.selectedIndex].value;var c=document.getElementById("clarityselect");var d=c.options[c.selectedIndex].value;var f=document.getElementById("colorselect");var b=f.options[f.selectedIndex].value;$("#clarityselect option").each(function(){var g=$(this);if(g.hasClass(a)||g.val()==""){g.show()}else{g.hide()}if(g.val()==d){g.removeAttr("selected")}if(g.val()==""){g.prop("selected",true)}});$("#colorselect option").each(function(){var g=$(this);if(g.val()==""){g.show()}else{g.hide()}if(g.val()==b){g.removeAttr("selected")}if(g.val()==""){g.prop("selected",true)}})}function getColorForCaratClarity(){var e=document.getElementById("caratselect");var a=e.options[e.selectedIndex].value;var c=document.getElementById("clarityselect");var d=c.options[c.selectedIndex].value;var f=document.getElementById("colorselect");var b=f.options[f.selectedIndex].value;$("#colorselect option").each(function(){var g=$(this);if(g.hasClass(a+"-"+d)||g.val()==""){g.show()}else{g.hide()}if(g.val()==b){g.removeAttr("selected")}if(g.val()==""){g.prop("selected",true)}})}function getSelectedSize(){var b=document.getElementById("ringselect");var a=b.options[b.selectedIndex].value;if(a==""){a=-1}return a}function getPriceOnSize(){var a=$("#ringselect").attr("name");var m=$("#product_total_weight").html();var j=0;if(m!=null){j=m.split(" ")[0]}var p=-1;if(a=="chainselect"){p=getSelectedSize();if(p!="-1"){$(".selectedSizeformError").remove();var n=document.getElementById("ringselect");var k=$("#displaySizeRing");if(k.length){sizeName=n.options[n.selectedIndex].value}else{sizeName=n.options[n.selectedIndex].text}$("#sizeSelected").val(sizeName);var b=weightAndPriceDetails[p];var h=b.price;var f=b.priceAfterMakingChargesDiscount;$("#goldCost_b").html(b.goldCost+"/-");if(b.newGoldCost){$("#goldCost_new").html(b.newGoldCost+"/-")}$("#taxes_b").html(b.taxes+"/-");$("#makingChargesNew_b").html(b.makingChargesAfterDiscount+"/-");$("#makingChargesWithoutDiscount_b1").html(b.makingCharges+"/-");$("#makingChargesNew_b-ndd").html(b.makingChargesAfterDiscount+"/-");$("#makingChargesWithoutDiscount_b1-ndd").html(b.makingCharges+"/-");var c=b.discountedPrice;var e=Math.floor(b.weight*100)/100;$("#details-top-right #details-top-right-inner #our_price_display").html(h);$("#details-top-right #details-top-right-inner #our_price_display_b").html(h);$("#details-top-right #details-top-right-inner .new-price #our_price_display").html(c);$("#details-top-right #details-top-right-inner .updated-price #our_price_display").html(c);var d=h.replace(/,/g,"");var g=b.discountedPrice.replace(/,/g,"");$("#cashback-amount").text(Math.ceil(d/5));setDiscountedPrice(c);updateBestPrice(b.discountedPrice,g,h,d,b.bestPriceAmount);if(m!=null){var o=$("#metalWeight").html().split(" ")[0];var l=Number(o)-Number(e);j=Number(j)-Number(l.toPrecision(3))}$("#metalWeight").html(e);if(m!=null){$("#product_total_weight").html(j.toPrecision(3)+" gram")}}}if(p!=""){updateShippingChargesAndTaxes(p)}}function getUrlParam(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+b+"=([^&#]*)";var d=new RegExp(a);var c=d.exec(window.location.href);if(c==null){return""}else{return c[1]}}function updateShippingChargesAndTaxes(b){var d=$("#etd .pin").first().text()||$("#cust-details span.pin").first().text();var c=false;if($("#engravingApplied:checked").length==1){c=true}var a=GLOBAL_CTX+"/design/getShippingChargesAndTaxes/"+getCustomizationCode()+"/"+b;$.ajax({type:"GET",url:a,dataType:"json",data:"pincode="+d+"&engravingApplied="+c,success:function(e){$("#productPageShippingCharges").empty();$("#productPageShippingCharges").append(e.shippingCharges);$("#productPageTaxes").empty();$("#productPageTaxes").append(e.taxes);if(e.hasMakingChargeDiscount=="true"){$(".item-type-title-ndd").addClass("making-charges")}else{$(".item-type-title-ndd").removeClass("making-charges")}showHideSameDayDeliveryMessage(e)}})}function updatePriceOnSize(){getPriceOnSize();appendShortDesc();var h=$("#etd .pin").first().text()||$("#cust-details span.pin").first().text();var g=getCustomizationCode();var a=GLOBAL_CTX+"/deliverydate/customization/get";var e=false;if($("#engravingApplied:checked").length==1){e=true}var c="";var b=$("#ringselect").attr("name");if(b=="chainselect"){c=getSelectedSize()}var d="ajax=true&productcode="+g+"&pincode="+h+"&size="+c+"&engravingApplied="+e;if(c!=""){updateDeliveryDateByPincode(h,a,d,true)}getProductSelectValueOnLoad();var f=$("#product_type_name").val();trackGA("BsUI","changed-customization",f+" Size "+c)}function getProductSelectValueOnLoad(){var b=$("#ringselect").val();if(b!=null&&b!=""){var a=$("#ringselect option[value='"+b+"']").text().trim();$(".ndd-size").html(a)}else{$("#nddUrlForSize").hide()}}function setDiscountedPrice(b){var c=$("#offer");if(c.length){$("#discountedPriceSpan").text(parseInt(b.replace(/,/g,"")).toLocaleString("en-IN"));var a=b;if(b===parseInt(b,10)){a=b}else{a=b.replace(/,/g,"")}$("#cashback-amount").text(Math.ceil(a/5))}}function getDefaultCustomization(){$(".metal-purities").hide();$("."+defaultCustomizationColor+"-purities").show();getCustomizationOnDiamondQuality("getsamedaydelivery")}function getCustomizationOnDiamondQuality(c){var f=$("#select-gold .color-val").html();if(!f){f=defaultCustomizationColor}var k="metalPurity-"+f;var b=$('input[type="radio"][name='+k+"]:checked").val();var g=$('input[type="radio"][name=diamondQuality]:checked').val();var j=getCustomizationCode();var e=$("#etd .pin").first().text();var l="";var a=$("#ringselect").attr("name");var d=false;var h="";if(c!=undefined){h=c;if($("#engravingApplied").length>0){$("#engravingApplied").prop("checked",false);$("#engravingApplied").parent("span").removeClass("checked");$(".p-engraving .pe-form .pe-input").hide()}}else{if(a=="chainselect"){l=getSelectedSize()}if($("#engravingApplied:checked").length==1){d=true}}$.ajax({type:"GET",url:GLOBAL_CTX+"/design/getcustomization",async:false,cache:true,dataType:"text",data:"customizationId="+j+"&pincode="+e+"&size="+l+"&sameDayDelivery="+h+"&engravingApplied="+d,success:function(s){var p=JSON.parse(s);if(!p.isError){$("#details-top-right #details-top-right-inner #short_desc").html(p.shortDescription);$("#details-top-right #details-top-right-inner #our_price_display").html(p.price);var v=p.price.replace(/,/g,"");$("#cashback-amount").text(Math.ceil(v/5));$("#mcd_Dash .mc-off").html("("+p.mcdDash+"% OFF)");if(p.mcdDash<=0){$("#mcd_Dash").hide();$("#makingChargesNew_b").hide();$(".making-charges-old").removeClass("line-through")}else{$("#mcd_Dash").show();$("#makingChargesNew_b").show();$(".making-charges-old").addClass("line-through")}if(p.hasMakingChargeDiscount){$("#mcd_Dash").show();$("#makingChargesNew_b").show();$(".making-charges-old").addClass("line-through");$(".item-type-title-ndd").addClass("making-charges")}else{$(".item-type-title-ndd").removeClass("making-charges")}var r=parseInt(p.discountedPrice.replace(/,/g,"")).toLocaleString();var t=parseInt(p.price.replace(/,/g,"")).toLocaleString();setDiscountedPrice(r);if(r<t){$(".our_price_display.original-price").show()}else{$(".our_price_display.original-price").hide()}$("#details-top-right #details-top-right-inner #our_price_display_b").html(p.poDash);$("#makingChargesWithoutDiscount_b").html(p.mcoDash+"/-");$("#details-top-right #details-top-right-inner .new-price #our_price_display").html(p.discountedPrice);$("#details-top-right #details-top-right-inner .updated-price #our_price_display").html(p.discountedPrice);$("#details-top-right #details-top-right-inner #product-code").html("Product code "+p.productCode);updateBestPrice(p.discountedPrice,r,p.price,t,p.bestPriceAmount);$("#goldCost_b").html(p.goldCost+"/-");if(p.showNewGoldCost){$("#goldCost_new").html(p.newGoldCost+"/-")}$("#diamondCost_b").html(p.diamondCost+"/-");$("#coloredStoneCost_b").html(p.coloredStoneCost+"/-");$("#preSetSolitaireCost_b").html(p.preSetSolitaireCost+"/-");$("#taxes_b").html(p.tax+"/-");$("#makingChargesWithoutDiscount_b1").html(p.makingCharges+"/-");$("#makingChargesWithoutDiscount_b1-ndd").html(p.makingCharges+"/-");if(p.makingChargesNew){$("#makingChargesNew_b").html(p.makingChargesNew+"/-");$("#makingChargesNew_b-ndd").html(p.makingChargesNew+"/-")}$(".etd-date").html(p.expectedDeliveryDate);if(h!=c){if(p.sameDayDelivery==true||p.sameDayDelivery=="true"){if($("#ringselect").length>0){var x=document.getElementById("ringselect");$("#nddSizeKey").val(x.options[x.selectedIndex].value);$("#nddSizeValue").val(x.options[x.selectedIndex].text)}}}showHideSameDayDeliveryMessage(p);$("#normal-delivery-size").hide();$(".ndd-static-msg").show();$(".content #detail-product-code").html(p.productCode);$("#customizationId").val(p.customizationId);$("#textForSelectedQuality #metalQuality").text(b+"Kt");$("#textForSelectedQuality #selectedMetalColor").text(f);$("#metalPurityId").text(b);if(f!=="Yellow"){$("#metalColorId").text(f)}else{$("#metalColorId").text("")}$("#product_total_weight").html(p.totalWeight+" gram");var u=(Math.floor(p.metalWeight*100))/100;if(u<0.01){u=0.01}$("#metal-details #metalWeight").html(u);if(g){$("#textForSelectedQuality #clarity").text("clarity "+g.split(" ")[0]);$("#textForSelectedQuality #color").text("color "+g.split(" ")[1]);$(".diamondClarityDetails").html(g.split(" ")[0]);$(".diamondColorDetails").html(g.split(" ")[1])}if(typeof p.isPreSetSolitaire!="undefined"&&(p.isPreSetSolitaire==true||p.isPreSetSolitaire=="true")){var C=$("#caratselect").val();$("#preSetSolitaireCarat").html(C);$("#textForSelectedQuality #psscarat").text("[carat "+C);var o=$("#clarityselect").val();if(o){$("#preSetSolitaireClarity").html(o);var n=$("#colorselect").val();$("#preSetSolitaireColor").html(n);$("#textForSelectedQuality #pssclarity").text("clarity "+o);$("#textForSelectedQuality #psscolor").text("color "+n+"]")}else{var w=$("#qualityselect").val();var B=w.split(" ");$("#preSetSolitaireClarity").html(B[0]);$("#preSetSolitaireColor").html(B[1]);$("#textForSelectedQuality #pssclarity").text("clarity "+B[0]);$("#textForSelectedQuality #psscolor").text("color "+B[1]+"]")}if(typeof p.hasSideDiamonds!="undefined"&&(p.hasSideDiamonds==true||p.hasSideDiamonds=="true")){$(".diamondClarityDetails").html(p.diamondClarityDetails);$(".diamondColorDetails").html(p.diamondColorDetails);$("#textForSelectedQuality #clarity").text("[clarity:"+p.diamondClarityDetails);$("#textForSelectedQuality #color").text("color:"+p.diamondColorDetails+"]")}}if(h==c){var m="metalPurity-"+f;var A=p.metalPurity;radionButtonSelectedValueSet(m,A);if(p.diamondQuality){m="diamondQuality";A=p.diamondQuality;radionButtonSelectedValueSet(m,A)}var z=p.metalColor;var y=$("#select-gold .selected");y.removeClass("yellow-gold");y.removeClass("white-gold");y.addClass(z.toLowerCase()+"-gold");y.find(".color-val").text(z);if($("#colorCustomizationSelect").length>0){$("#colorCustomizationSelect").val(z);$("#select-gold .color-val").html(z);$("#select-gold select").removeClass();$("#select-gold select").addClass(z)}$("#details-top-sub-sub-inner").removeClass("no-image-available-white-gold no-image-available-yellow-gold");if($(this).hasClass("no-image-available-yellow")){$("#details-top-sub-sub-inner").addClass("no-image-available-yellow-gold")}if($(this).hasClass("no-image-available-white")){$("#details-top-sub-sub-inner").addClass("no-image-available-white-gold")}if(p.sameDayDelivery==true||p.sameDayDelivery=="true"){if($("#ringselect").length>0){if($("#nddSizeKey").val().length>0){$("#ringselect").val($("#nddSizeKey").val());$(".select-size .selectyzeValue").html($("#nddSizeValue").val())}}}}weightAndPriceDetails=p.weightAndPriceDetails;getPriceOnSize();appendShortDesc();if(p.childCustomizations!=null&&p.childCustomizations!=""){for(var q=0;q<document.getElementsByName("ringType").length;q++){if(document.getElementsByName("ringType")[q]=="For Him"){document.getElementsByName("childCustomizationId")[q]=p.forHim}else{if(document.getElementsByName("ringType")[q]=="For Her"){document.getElementsByName("childCustomizationId")[q]=p.forHer}}}if(p.isSizedSKU&&($("#ringSizeSet1").val()!="-1"||$("#ringSizeSet2").val()!="-1")){$("#parentDefaultPrice").val(p.parentDefaultPrice);$("#parentMetalWeight").val(p.metalWeight);$("#parentGoldCost").val(p.goldCost);$("#parentMakingCharges").val(p.makingCharges);$("#parentTax").val(p.tax);updatePriceOnSizeForSets()}}if(p.nddUrlForBrowsePage!=null&&p.nddUrlForBrowsePage!=""){$("#nddUrlForSize").attr("href",p.nddUrlForBrowsePage);$("#nddUrlForSize").show()}else{$("#nddUrlForSize").hide()}updateEmiOnCustomization()}changeEDDToOccasionDate();trackGA("BsUI","changed-customization","clicked_"+f+"_"+b+"_"+g)}})}function radionButtonSelectedValueSet(b,a){$('input[name="'+b+'"][value="'+a+'"]').prop("checked",true)}function getCustomizationCode(){var d=$("#select-gold .color-val").html();if(!d){d=defaultCustomizationColor}var h="metalPurity-"+d;var b=$('input[type="radio"][name='+h+"]:checked").val();var e=$('input[type="radio"][name=diamondQuality]:checked').val();var g=d+"_"+b;var c=false;if(typeof(e)=="undefined"){var j=$("#caratselect").val();if(j){var a=$("#colorselect").val();if(a){e=j+"_"+$("#clarityselect").val()+" "+a}else{var f=$("#qualityselect").val();if(f!=""&&f!=null){e=j+"_"+f}else{c=true}}}}if(e){g=g+"_"+e}if(g==undefined||g.indexOf("undefined")!=-1||c){return $(".c-code").html().trim()}return allCustomizations[g]}function updateDeliveryDateByPincode(f,c,e,b){ndd=getUrlParam("ndd");e+="&ndd="+ndd;var d=$("#occasionId").val();if(d){var a=$("#occasionDeliveryCB").is(":checked");e+="&occasionId="+d+"&occasionDelivery="+a}if(!f||!f.trim()){$(".invalid-pin-code-error").show();$(".pin-code-error").hide()}else{$.ajax({type:"GET",url:c,async:false,cache:true,dataType:"json",data:e,success:function(h){if(!h.hasError){$(".pin-code-error").hide();$(".invalid-pin-code-error").hide();$("#etd .pin").html(f);$(".occasion-edd-wrapper #cust-details h2 .pin").html(f);$("#etd .city").html(h.city);$(".etd-date").html(h.expectedDeliveryDate);$("#actualExpectedEDD").val(h.expectedDeliveryDate);updateEmiOnCustomization();var g=h.optionAvailable;if(g!=true){$("#nddUrlForSize").hide()}else{$("#nddUrlForSize").attr("href",h.nddUrlForBrowsePage);$("#nddUrlForSize").show()}if(b!=true){showHideSameDayDeliveryMessagePincode(h)}else{if(h.sameDayDelivery==true||h.sameDayDelivery=="true"){if($("#ringselect").length>0){var j=document.getElementById("ringselect");$("#nddSizeKey").val(j.options[j.selectedIndex].value);$("#nddSizeValue").val(j.options[j.selectedIndex].text)}}showHideSameDayDeliveryMessage(h)}if(deviceName=="NORMAL"){$(".etd-popup").slideUp()}else{$(".etd-popup").hide()}ShowOccasionDelivery(h.pinEligibleForBSSelf);$("#thirdPartyOccasionMessage").text(h.occasionDeliveryMessage)}else{if(h.invalid_pincode){$(".invalid-pin-code-error").show();$(".pin-code-error").hide()}else{$(".pin-code-error").show();$(".invalid-pin-code-error").hide()}}}})}}function UpdateGiftMsg(e,c,a,b){var d=GLOBAL_CTX+"/cart/update_gift_msg?cartId="+e+"&giftMsg="+c+"&giftFrom="+b+"&giftTo="+a;$.ajax({type:"GET",url:d,dataType:"json",success:function(f){trackGA("BsUI","Added Gift Message")}})}function removeGiftMsg(c,b){var a=GLOBAL_CTX+"/cart/remove_gift_msg?cartId="+c;$.ajax({type:"GET",url:a,dataType:"json",success:function(d){if(deviceName=="MOBILE"){$(b).parents(".message-tooltip").addClass("hidden");$(".add-gift-message").removeClass("hidden");$(".message-added").addClass("hidden");$("#gift-msg-form").hide();$(".add-gift-message i.arrow").removeClass("icon-up-arrow").addClass("icon-down-arrow");$("label.add-gift-msg input").prop("checked",false)}else{$(b).parents(".bs-tt").removeClass("active");$(".gift-message-added").addClass("hidden");$(".add-gift").removeClass("hidden")}$("#gift_message_added_to").html("");$("#gift_message_added_from").html("");$("#gift_message_added_message").html("");$("#gift-msg-form .fl-wrap").removeClass("success auto-filled");$("#gift-msg-form #giftTo").val("");$("#gift-msg-form #giftFrom").val("");$("#gift-msg-form #giftMsg").val("");trackGA("BsUI","Removed Gift Message")}})}function updateQuantity(b,f){var d=b.options[b.selectedIndex].value;var e=$(b).attr("name"),a=$(b).data("designid");var c=GLOBAL_CTX+"/cart/updateQuantity?cartItemId="+e+"&cartItemQuantity="+d+"&cartId="+f;$(b).prop("disabled","disabled");setTimeout(function(){$(b).removeAttr("disabled")},3000);$.ajax({type:"GET",url:c,dataType:"json",success:function(g){$(b).removeAttr("disabled");trackGA("BsUI","Updated Quantity on Cart",a+"");if(g.hasError){location.reload(true)}else{location.reload(true)}},error:function(g,j,h){$(b).removeAttr("disabled")}})}function addUpSellProduct(a,b,c,e){var d=GLOBAL_CTX+"/cart/addUpSellProduct?parentCartItemId="+a+"&size="+c+"&cartId="+e+"&upSellDesignId="+b;$.ajax({type:"GET",url:d,dataType:"json",success:function(f){if(f.hasError){location.reload()}else{location.reload()}},error:function(f,h,g){}})}function updateUpSellProductprice(b,c,f,a){var d=a.options[a.selectedIndex].value;if(d==""){d=-1}var e=GLOBAL_CTX+"/cart/updateUpSellProductPrice?parentCartItemId="+b+"&size="+d+"&cartId="+f+"&upSellDesignId="+c;$.ajax({type:"GET",url:e,dataType:"json",success:function(g){if(g.hasError){location.reload()}else{location.reload()}},error:function(g,j,h){}})}function applyDiscountCoupon(d,c,b,e){var a=$("#cartItemId").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/applyDiscountVoucher",async:false,cache:true,dataType:"json",data:"ajax=true&cartItemId="+d+"&discount_id="+b+"&quantity="+a+"&cartId="+e,success:function(f){location.reload()}})}function removeDiscountCoupon(b,a){$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/removeDiscountVoucher",async:false,cache:true,dataType:"json",data:"ajax=true&cartItemId="+b+"&discount_id="+a,success:function(c){location.reload()}})}function updateCityStateByPincode(){var a=document.getElementById("countryId_delivery");var b="";if(a==null){b=document.getElementById("countryId1_delivery").value}else{b=a.options[a.selectedIndex].text}if(b!="India"){return}var c=$("#postcode_delivery").val();$.ajax({type:"GET",url:GLOBAL_CTX+"/address/",async:false,cache:true,dataType:"json",data:"ajax=true&submitPincode=true&pincode="+c,success:function(f){var d=$("#cityName_delivery"),e=$("#stateId_delivery");if(f.city){$("#cityName_delivery").val(f.city);$("#stateId_delivery").val(f.id_state);$(".city-state-wrapper").removeClass("hidden");$(".city-state-wrapper #edit-city-wrapper .fl-wrap").addClass("auto-filled");$(".city-state-block #edit-city-wrapper .fl-wrap").addClass("auto-filled");$(".da-block .city-state-block").removeClass("hidden");d.parent().find("ul.messages").remove();e.parent().find("ul.messages").remove();d.parents(".fl-wrap").addClass("auto-filled");e.parents(".fl-wrap").addClass("auto-filled")}else{$(".city-state-wrapper").removeClass("hidden");$(".da-block .city-state-block").removeClass("hidden");d.val("");e.val("");d.parent().find("ul.messages").remove();e.parent().find("ul.messages").remove();d.parents(".fl-wrap").removeClass("error auto-filled success");e.parents(".fl-wrap").removeClass("error auto-filled success")}}})}function updateCityStateByBaPincode(){var a=$("#ba_postcode_delivery").val();$.ajax({type:"GET",url:GLOBAL_CTX+"/address/",async:false,cache:true,dataType:"json",data:"ajax=true&submitPincode=true&pincode="+a,success:function(d){var b=$("#ba_cityName_delivery"),c=$("#ba_stateId_delivery");if(d.city){$("#ba_cityName_delivery").val(d.city);$("#ba_stateId_delivery").val(d.id_state);$(".ba-city-state-wrapper").removeClass("hidden");$(".ba-city-state-wrapper #ba_edit-city-wrapper .fl-wrap").addClass("auto-filled");$("#billing-address-form .city-state-block").removeClass("hidden");b.parent().find("ul.messages").remove();c.parent().find("ul.messages").remove();b.parents(".fl-wrap").addClass("auto-filled");c.parents(".fl-wrap").addClass("auto-filled")}else{$(".ba-city-state-wrapper").removeClass("hidden");$("#billing-address-form .city-state-block").removeClass("hidden");b.val("");c.val("");b.parent().find("ul.messages").remove();c.parent().find("ul.messages").remove();b.parents(".fl-wrap").removeClass("error auto-filled success");c.parents(".fl-wrap").removeClass("error auto-filled success")}}})}function updateSelectedTabOnFailure(a,b){$(".payment_tab").removeClass("selected");$("#payment-details>div").hide().animate({top:0,opacity:0},500,"easeInOutCubic").dequeue();$(".payment_detail").removeClass("paymentSelectedTab");switch(a){case"PAY BY CASH/CARD ON DELIVERY":$("#cashondelivery-content").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$("#cashondelivery").addClass("selected");break;case"PAY USING PAYPAL":$("#WalletList-content").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$("#WalletList").addClass("selected");break;case"PAY BY NETBANKING":$("#netbanking-content").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$("#netbanking").addClass("selected");break;default:if("debitcard"===b){$("#debitcardSeamless-content").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$("#debitcardSeamless").addClass("selected")}else{$(".payment_detail:first").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$("#payment-tabs .payment_tab:first").addClass("selected")}}$(".payment-options .err-block").slideUp()}function callMeToVerify(){if($("html").hasClass("new-cf-ui")){$(".paymentSelectedTab form input[name=isCallmeToVerify]").val(true)}else{$(".paymentSelectedTab > form input[name=isCallmeToVerify]").val(true)}}function submitPaymentForm(){var e=$(".final-pd-price").text();var f=""+$(".India-products > .row").length;if($("html").hasClass("new-cf-ui")){var j=$("section.open .content form").attr("name")}else{var j=$(".paymentSelectedTab > form").attr("name")}if(j=="cashondelivery"){var a="CASH";if($("#cardOnDelivery").hasClass("selected")||$("input[name='cardOnDelivery']:checked").length>0||$("input[name='codPaymentType']:checked").length>0||$("section.open #cashondelivery").data("type")=="card"){a="CARD"}if($("html").hasClass("new-cf-ui")){$('section.open .content form input[name="codPaymentType"]').val(a);$("section.open .content form input[name=instrumentType]").val(j);$('section.open .content form[name="'+j+'"]').submit()}else{$('.paymentSelectedTab > form input[name="codPaymentType"]').val(a);$(".paymentSelectedTab > form input[name=instrumentType]").val(j);$('.paymentSelectedTab > form[name="'+j+'"]').submit()}return}if($("html").hasClass("new-cf-ui")){var g=$("section.open .service_provider_radio").filter(":checked").val()}else{var g=$(".service_provider_radio").filter(":checked").val()}var l=$(".paymentSelectedTab #transfer-bank")[0];var k="default";if(l){k=l.options[l.selectedIndex].value}if(!g&&(!k||k=="default")){if($("html").hasClass("new-cf-ui")){$(".new-cf-ui .slidein-msg").addClass("active");setTimeout(function(){$(".new-cf-ui .slidein-msg").removeClass("active")},3000)}else{alert("Please select an option")}return}var d="";if(k){d=k}if(g){d=g}if($("html").hasClass("new-cf-ui")){$("section.open .content form input[name=instrumentType]").val(j)}else{$(".paymentSelectedTab > form input[name=instrumentType]").val(j)}if(j=="netbanking"||j=="rewardpoints"){if($("html").hasClass("new-cf-ui")){$("section.open .content form input[name=issuingAuthority]").val(d)}else{$(".paymentSelectedTab > form input[name=issuingAuthority]").val(d)}}else{if(j=="emi"){var h=d.split("-");if($("html").hasClass("new-cf-ui")){$(".paymentSelectedTab form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab form input[name=issuingAuthority]").val(h[1])}else{$(".paymentSelectedTab > form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab > form input[name=issuingAuthority]").val(h[1])}}else{if(j=="airpay"){var h=d.split("-");if($("html").hasClass("new-cf-ui")){$(".paymentSelectedTab form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab form input[name=issuingAuthority]").val(h[1])}else{$(".paymentSelectedTab > form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab > form input[name=issuingAuthority]").val(h[1])}}else{if(j=="kissht"){clevertap.event.push("Initiated Payment",{"Payment Option":"EMI Kissht","Total Cart Value":e,"Number of Cart Items":f});var h=d.split("-");if($("html").hasClass("new-cf-ui")){$(".paymentSelectedTab form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab form input[name=issuingAuthority]").val(h[1])}else{$(".paymentSelectedTab > form input[name=instrumentType]").val(h[0]);$(".paymentSelectedTab > form input[name=issuingAuthority]").val(h[1])}}else{if($("html").hasClass("new-cf-ui")){$("section.open .content form input[name=cardPaymentNetwork]").val(d)}else{$(".paymentSelectedTab > form input[name=cardPaymentNetwork]").val(d)}}}}}var c=$("#payment-details").data("isseamlessaval");if((c=="TRUE"&&("creditcard"==j||"debitcard"==j))||(d=="paypalINR")){if("creditcard"==j){$("#creditcardSeamless-form .cc-dc-pay-now").addClass("hidden");$("#creditcardSeamless-form .card-payment-overlay, #creditcardSeamless-form .payment-loader").removeClass("hidden")}else{$("#debitcardSeamless-form .cc-dc-pay-now").addClass("hidden");$("#debitcardSeamless-form .card-payment-overlay, #debitcardSeamless-form .payment-loader").removeClass("hidden")}var n=$('form[name="'+j+'"]');var b=$('form[name="'+j+'"]').serializeArray();$.ajax({type:"POST",data:b,async:true,url:n.attr("action"),success:function(p){$("#languageRender").load(location.href+" #languageRender",function(){return createPayRequestFormOrPayPalToken($("#bluestoneTransactionId").val(),$("#cartIdLater").val(),true,d)})},error:function(p){alert("error",p);return false}})}else{$('form[name="'+j+'"]').submit()}sendPaymentInitiatedEvent(j);if(j=="airpay"){var m=$(".tab-nav li.active a").data("bank"),o=parseInt($(".final-pd-price").text().replace(/,/g,""));trackGA("EMI","Proceed to Pay - EMI",m,o)}}function selectBankInDropDown(b){var a=b.target.value;$("#transfer-bank option[value="+a+"]").prop("selected","selected")}function selectUnselectBankInRadio(d,c){var e=["icici_bank","hdfc_bank","citi_bank","state_bank_of_india","axis_bank","idbi_bank","yes_bank","kotak_mahindra_bank"];var f=d.target.value;var b=false;for(var a=0;a<e.length;a++){if(e[a]==f){if(c=="netbanking"){$("#netbanking-content .service_provider_radio[value="+f+"]").prop("checked","checked")}else{if(c=="rewardpoints"){$("#rewardpoints-content .service_provider_radio[value="+f+"]").prop("checked","checked")}}b=true;if(b){$(".bank-with-image label .service_provider_radio[value="+f+"]").parents("label").addClass("active");$(".bank-with-image label .service_provider_radio[value="+f+"]").prop("checked","checked");$(".bank-with-image label .service_provider_radio[value="+f+"]").parents("label").find(".radio-style").addClass("active");$(".bank-with-image label .service_provider_radio[value="+f+"]").parents("label").siblings().find(".radio-style").removeClass("active")}break}else{$(".bank-with-image label").removeClass("active");$(".bank-with-image label").find(".radio-style").removeClass("active");$(".bank-with-image label .service_provider_radio").prop("checked",false)}}if(b==false){if(c=="netbanking"){$("#netbanking-content .service_provider_radio, .netbanking-content .service_provider_radio").prop("checked",null)}else{if(c=="rewardpoints"){$("#rewardpoints-content .service_provider_radio, .rewardpoints-content .service_provider_radio").prop("checked",null)}}}}function downloadRingSizeHelpPdf(){location.href=GLOBAL_CTX+"/productsizerhelp/getringsizerpdf"}function downloadBangleSizeHelpPdf(){location.href=GLOBAL_CTX+"/productsizerhelp/getbanglesizerpdf"}function checkCarrierAvailability(a,b){$.ajax({type:"POST",url:GLOBAL_CTX+"/carrier/availability",async:false,cache:true,dataType:"json",data:"ajax=true&mode=prepaid&pincode="+a+"&cartTotal="+b,success:function(c){if(!c.hasError){$("#carrier_success").html(c.successStr+$("#address_link").html());$("#carrier_success").show();$("#carrier_error").html("").hide()}else{$("#carrier_success").html("").hide();$("#carrier_error").html(c.errorStr).show()}}})}function sizeHelperProceed(){var a=$("#pincode").val();$.ajax({type:"GET",url:GLOBAL_CTX+"/productsizerhelp/validatepincodeandgetmetadata",async:true,cache:false,dataType:"json",data:"pincode="+a,success:function(b){if(!b.hasError||b.pincodeError){if(b.name){$("#name").val(b.name)}if(b.email){$("#email").val(b.email)}if(b.city){$("#city").val(b.city)}if(b.state){$("#state").val(b.state)}if(b.edd){$("#edd-sizer").val(b.edd)}if(b.htoServiceable){$("#hto-serviceable").val(b.htoServiceable);if(readCookie("hto")!="grid"){$(".is-hto-available").hide();$("#size-helper").addClass("hto-navl")}}else{$(".is-hto-available").hide();$("#size-helper").addClass("hto-navl")}if(deviceName=="MOBILE"){$("#size-helper-s2").removeClass("active");$("#size-helper-s3").addClass("active");$("#size-helper-s3 #address").val($("#map-search-input").val());$("#ringSizeHelpText").data("index",3)}else{$("#size-helper-s2").removeClass("active");$("#size-helper-s3").addClass("active");$("#size-helper-s3 #address").val($("#map-search-input").val());$(".size-helper").removeClass("stp2").addClass("stp3")}return true}else{console.log("error");return true}}})}function bookRingSizerAndHto(e,d){var m=$("#email").val();var b=$("#mobile").val();var c=$("#name").val();var o=$("#address").val();var k=$("#city").val();var a=$("#state").val();var l=$("#pincode").val();var j=$("#designId").val();var h=$("#referer_pd").val();var g=$("#try_date_pd").val();var f=$("#try_time_pd").val();var p=$("#customer_id").val();var n=getCustomizationCode();if(e&&!($("#is-hto-available-check").css("display")=="none")){submitTryAtHomePDAddCustomerBase(c,b,m,h,j,d);submitTryAtHomePDBookAppointmentBase(false,o,l,g,f,p,c)}else{$.ajax({type:"POST",url:GLOBAL_CTX+"/productsizerhelp/bookproductsizer",async:true,cache:false,dataType:"json",data:"email="+m+"&mobile="+b+"&name="+c+"&address="+o+"&city="+k+"&state="+a+"&postcode="+l+"&customizationId="+n,success:function(q){if(!q.hasError){console.log(q);if(q.name){$("#name").val(q.name)}if(q.email){$("#email").val(q.email)}if(q.edd){$("#edd").html(q.edd)}return true}else{console.log("error");return true}}})}}function bookRingSizer(){var e=$("#ringSizer_name").val();var d=$("#ringSizer_mobile").val();var c=$("#ringSizer_email").val();var a=$("#ringSizer_address").val();var f=$("#ringSizer_city").val();var b=$("#ringSizer_pincode").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/productsizerhelp/bookringproductizer",async:true,cache:false,dataType:"json",data:"email="+c+"&mobile="+d+"&name="+e+"&address="+a+"&city="+f+"&postcode="+b,success:function(g){if(!g.hasError){window.location=GLOBAL_CTX+"/jewellery/rings.html?rs=true"}else{$("#popup-messages").show()}}})}function cashOnDeliveryEvent(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/codToPrepaidPromotion/addCashBackEntry",async:false,cache:true,dataType:"json",data:"ajax=true&customerId="+a,success:function(b){}})}function checkCodAvailability(a,b){$.ajax({type:"POST",url:GLOBAL_CTX+"/carrier/availability",async:false,cache:true,dataType:"json",data:"ajax=true&mode=cod&pincode="+a+"&cartTotal="+b,success:function(c){if(!c.hasCODError){$("#cod_carrier_success").html(c.successStr+$("#address_link1").html());$("#cod_carrier_success").show();$("#cod_carrier_error").html("").hide()}else{$("#cod_carrier_success").html("").hide();$("#cod_carrier_error").html(c.errorStr).show()}}})}function updateAddressFormByCountry(){var a=$("#countryId_delivery")[0];var b=a.options[a.selectedIndex].text;var c=$("#s-cartId").html();$.ajax({type:"GET",url:GLOBAL_CTX+"/shipping/charges/get",data:"ajax=true&cartId="+c+"&shippingCountry="+b+"&countryFromIp="+COUNTRY,async:false,cache:true,dataType:"json",success:function(k){var q=k.shippingChargesForCountry;var l=k.dutyAndLocalTaxedForCountry;var g=k.priceAfterShippingAndTaxes;var r=k.finalPriceAfterShippingAndTaxes;var p=k.finalPriceAfterShippingAndTaxesAndDiscount;var f=k.cartTotal;var h=k.currencySymbol;var o=k.discount;var j=k.totalCartPriceWithoutDiscount;var n=k.inflatedTotalCartPriceWithoutDiscount;var d=k.hasInflatedDiscount;var e=j;var m=k.finalPriceAfterShippingAndTaxesAndDiscountWithoutFormatting;if(d){e=n}if(b=="India"){updateCityStateByPincode();if(m>200000){$("#edit-panNo-wrapper").show()}$("#edit-pin-wrapper .description").show();$("#edit-pin-wrapper").removeClass("no-auto-population");$("#edit-pin-wrapper .label_txt").html("Pin Code");$("#shipping-price-text span.sub-total-cost").html(h+f);$("span.currency-symbol").html(h);$(".total .new-price").html(h+p);$(".summary-total .new-price").html(h+p);$(".discount").html(o);$(".summary-grand-total .new-price").html(h+r);$("#shipping-price-text").hide();$(".summary-shipping-charges").hide();$(".summary-duty-taxes").hide();$(".discount-row").show();$("#isSameAddress").removeAttr("disabled");$("#ba_postcode_delivery").val("");$("#ba_fullname").val("");$("#ba_address").val("");$("#ba_cityName_delivery").val("");$("#ba_stateId_delivery").val("1")}else{$("#edit-panNo-wrapper").hide();$("#edit-pin-wrapper .description").hide();$("#edit-pin-wrapper").addClass("no-auto-population");$("#edit-pin-wrapper .label_txt").html("Zip Code");$("#shipping-price-text span.sub-total-cost").html(h+f);$("#shipping-price-text span.shipping-charges").html(h+q);$("#shipping-price-text span.import-duty").html(h+l);$("#shipping-price-text span.total-cost").html(h+r);$("#shipping-price-text").show();$("#shipping-price-text div strong").html(k.deliveryDate);$(".total .new-price").html(h+g);$(".summary-shipping-charges .new-price").html(h+q);$(".summary-duty-taxes .new-price").html(h+l);$(".summary-total .new-price").html(h+g);$(".summary-grand-total .new-price").html(h+r);$("span.currency-symbol").html(h);$(".summary-shipping-charges").show();$(".summary-duty-taxes").show();$(".summary-total").show();$(".discount-row").hide();$("#isSameAddress").attr("disabled",true);setDummyValuesForBillingAddress()}$(".summary-total-dd").children().first().html(h);$(".summary-total-dd").children().last().html(h+e);$(".productitems-summary").hide();b=b.replace(" ","");$("."+b+"-products").show()}});$("#edit-state-wrapper").children().remove();$.ajax({type:"GET",url:GLOBAL_CTX+"/address/states",data:"ajax=true&id_country="+$("#countryId_delivery").val(),async:false,cache:true,dataType:"json",success:function(h){var k=h.callPrefix;if(k!=0){$("#edit-phone-wrapper .country-code").html("+"+k);$("#edit-phone-wrapper").removeClass("without-country-code");$("#edit-phone-wrapper .country-code").show()}else{$("#edit-phone-wrapper .country-code").html("");$("#edit-phone-wrapper").addClass("without-country-code");$("#edit-phone-wrapper .country-code").hide()}var j=false;var f=h.states;for(var g in f){j=true;break}if(j){var d='<label for="id_state" class="col-xs-3 control-label">State</label><div class="col-xs-7"><select id="stateId_delivery" class="validate[required] form-control" name="shippingAddress.state.id"><option value="">Select State</option>';var e='<div class="col-xs-12 fl-wrap auto-filled"><select id="stateId_delivery" class="required form-control" name="shippingAddress.state.id"><option value=""></option>';for(var g in f){d+='<option value="'+g+'">'+f[g]+"</option>"}if($("body").hasClass("new-checkout-flow")||$("html").hasClass("new-cf-ui")){d+='</select><label for="stateId_delivery" class="control-label">State</label></div>';$("#edit-state-wrapper").append(e)}else{$("#edit-state-wrapper").append(d);d+="</select></div>"}$("#edit-state-wrapper").show()}else{var d='<label for="id_state" class="col-xs-3 control-label">State</label><div class="col-xs-7"><select id="stateId_delivery" class="validate[required] form-control" name="shippingAddress.state.id"><option value="-1">NA</option></select></div>';var e='<div class="col-xs-12 fl-wrap auto-filled"><select id="stateId_delivery" class="required form-control" name="shippingAddress.state.id"><option value="-1">NA</option></select><label for="stateId_delivery" class="control-label">State</label></div>';if($("body").hasClass("new-checkout-flow")||$("html").hasClass("new-cf-ui")){$("#edit-state-wrapper").append(e)}else{$("#edit-state-wrapper").append(d)}$("#edit-state-wrapper").hide()}}})}function forgotPassword(){$(".checkout #popup-messages, #mlogin #popup-messages").html('<div class="success"> Please wait ......</div>').show();$.ajax({type:"POST",url:GLOBAL_CTX+"/forgotpassword",async:false,cache:false,dataType:"json",data:"email="+$("#recover_email").val(),success:function(a){if(a.hasError){$(".checkout #popup-messages,#loginbox #popup-messages, #mlogin #popup-messages").html('<div class="error-container"><div class="error-container-inner">'+a.errors.join("<br />")+"</div><div>").show();return false}else{$(".checkout #popup-messages,#loginbox #popup-messages, #mlogin #popup-messages").html('<div class="success-container"><div class="success-container-inner">'+a.message+"</div><div>").show();return false}}})}function udpateDeliveryDate(a,e){a.preventDefault();var f=$(e).parents("#etd").find(".form-text").val();var h=getCustomizationCode();var g=GLOBAL_CTX+"/deliverydate/customization/get";var c=false;if($("#engravingApplied:checked").length==1){c=true}var j="";var b=$("#ringselect").attr("name");if(b=="chainselect"){j=getSelectedSize()}if(j==""){j="-1"}var d="ajax=true&productcode="+h+"&pincode="+f+"&size="+j+"&engravingApplied="+c;updateDeliveryDateByPincode(f,g,d)}function removeFromWishList(a,b){$.ajax({type:"DELETE",url:GLOBAL_CTX+"/wishlist/removeItem?designId="+a,async:false,cache:false,dataType:"json",success:function(d){window.location.reload();if(!d.hasError){$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+d.success+"</div><div>");$("#popup-messages").show();var c=new Object();c._eventId="deletedFromWishlist";c.designId=a;processServerEvent(c);trackGA("wishlist","deleted from wishlist",a+"");return true}}})}function wishlistRedirect(){window.location=GLOBAL_CTX+"/wishlist/view"}function removeFromHTOList(a,b){$.ajax({type:"DELETE",url:GLOBAL_CTX+"/hto/removeItem?designId="+a,async:false,cache:false,dataType:"json",success:function(c){window.location.reload();if(!c.hasError){return true}else{alert("Something went wrong. Please Login and try again");location.href=GLOBAL_CTX+"/showLoginPage"}}})}function htolistRedirect(){window.location=GLOBAL_CTX+"/hto/view"}function callback(b,c,a){window[b](c,a)}function getValueFromGetParams(e,c){c=c.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="&?"+c+"=([^&#]*)";var d=new RegExp(a);var b=d.exec(e);if(b==null){return""}else{return b[1]}}function getParamsObject(a){return JSON.parse('{"'+decodeURI(a).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}function getDealOfTheDyDesigns(){$.ajax({type:"GET",url:GLOBAL_CTX+"/static/dealOfTheDay",async:false,cache:false,dataType:"json",success:function(c){if(c.hasError){return false}else{var d=c.designIds;var b=d.split(",");console.log("hruday : "+b);for(var a=0;a<b.length;a++){console.log(b[a])}return false}}})}function updateBestPrice(c,e,d,a,b){if(e!=undefined&&+e<+a){$("#best_price_amount").html(c);$("#price_best_price_amount").html(b)}else{$("#best_price_amount").html(d);$("#price_best_price_amount").html(b)}}function createPayemntForGoldMine(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/gmsp/createGoldMinePayment/",async:false,cache:false,dataType:"json",data:"goldMinePlanPaymentCode="+a,success:function(b){if(!b.hasError){window.location=b.redirectUrlForPayment}else{window.location.reload()}}})}function cancelGoldMinePlan(){$.ajax({type:"GET",url:GLOBAL_CTX+"/gmsp/cancelGoldMinePlan/",async:false,cache:false,dataType:"json",success:function(a){if(!a.hasError){$("#goldmine-cancel").hide();$("#goldmine-cancel-success-a").fancybox({wrapCSS:"goldmine-fb-close"}).trigger("click");$("#goldmine-cancel-price").text(a.totalAmountToRefund);$(".fancybox-close").on("click",function(){location.reload()});$(".fancybox-overlay").on("click",function(){location.reload()})}else{location.reload()}}})}function refreshGoldMineHistoryPage(){location.reload()}function getBalance(){if($(".rewardpoints-content .row").hasClass("error")){$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".cardError").html("");$(".mobileError").html("");var b=$("#cardNumber").val();var c=$("#mobileNo").val();var d=$("#cartId").val();var a=$("#finalPriceToPay").val();if(b==""||c==""){$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/checkBalance",async:false,cache:false,dataType:"json",data:"cardNumber="+b+"&mobileNumber="+c+"&cartId="+d,success:function(e){if(!e.hasError){if(e.amount>0){$("#amountAvailable").html(e.amount);$("#amountToRedeem").val(Math.min(e.amount,a));$("#mobileNumberSpan").html(c);$("#balanceDiv").css("display","block");$("#cardDetailsDiv .btn").attr("disabled","disabled");$("#balanceDiv .btn").removeAttr("disabled");$("#cardDetailsDiv .btn").addClass("gray");$("#balanceDiv .btn, #balanceEmptyDiv .btn, #balanceEmptyDiv .btn").removeClass("gray");$("#otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn-check-balance").addClass("btn-light-blue");$("#balanceDiv .btn-get-otp").removeClass("btn-light-blue")}else{$("#balanceEmptyDiv").css("display","block")}trackGA("BsUI","MaxGet","Get_Balance")}else{if(e.errorMessage!=""&&e.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(e.errorMessage))}$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");if(e.cardError!=""&&e.cardError!="undefined"){$(".cardError").html(getNotificationErrorHtml(e.cardError))}$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");if(e.mobileError!=""&&e.mobileError!="undefined"){$(".mobileError").html(getNotificationErrorHtml(e.mobileError))}$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");return true}}})}var OTPCounterInterval;function getOTP(){if($(".rewardpoints-content .row").hasClass("error")){$("#otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".amountError").html("");var c=$("#cardNumber").val();var d=$("#mobileNo").val();var a=$("#amountToRedeem").val();var b=$("#finalPriceToPay").val();var f=$("#amountAvailable").html();var e=$("#cartId").val();if(parseInt(a,10)>parseInt(b,10)){$(".otherError").html(getNotificationErrorHtml("Amount to redeem is greater than final price."));return false}if(parseInt(a,10)>parseInt(f,10)){$(".otherError").html(getNotificationErrorHtml("Amount to redeem is greater than available balance."));return false}$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/getOTP",async:false,cache:false,dataType:"json",data:"amount="+a+"&cardNumber="+c+"&mobileNumber="+d+"&invoiceAmount="+b+"&cartId="+e,success:function(g){if(!g.hasError){$("#amountToRedeemSpan").html(a);$("#otpDiv").css("display","block");$("#tokenNumber").val(g.tokenNumber);$("#isPartial").val(g.isPartial);$("#balanceDiv .btn").addClass("gray");$("#balanceDiv .btn-get-otp").addClass("btn-light-blue");$("#entry").val(g.entry);$("#balanceDiv .btn").attr("disabled","disabled");var j=$("#counter");var h=j.text();OTPCounterInterval=setInterval(function(){j.text(h);if(h==0){$("#resend-otp-block p").hide();$("#resend-otp-block a.change-link").removeClass("hidden");clearInterval(OTPCounterInterval)}h-=1},1000);trackGA("BsUI","MaxGet","Get_OTP")}else{if(g.errorMessage!=""&&g.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(g.errorMessage))}if(g.amountError!=""&&g.amountError!="undefined"){$(".amountError").html(getNotificationErrorHtml(g.amountError))}return true}}})}function changeAmount(){$(".otherError").html("");$(".cardError").html("");$(".mobileError").html("");$(".amountError").html("");$(".otpError").html("");$("#balanceDiv").css("display","block");$("#otpDiv, #finalMessageDiv, #ContinuePaymentDiv").css("display","none")}function showCardDetails(){$(".otherError").html("");$(".cardError").html("");$(".mobileError").html("");$(".amountError").html("");$("#cardDetailsDiv").css("display","block");$("#finalMessageDiv").css("display","none");$("#balanceEmptyDiv").css("display","none");$("#cardDetailsDiv .btn").removeClass("gray")}function redeemPoints(){if($(".rewardpoints-content .row").hasClass("error")){$("#balanceDiv, #otpDiv, #finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".otpError").html("");var a=$("#otpValue").val();var d=$("#tokenNumber").val();var b=$("#isPartial").val();var c=$("#cartId").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/redeemPoints",async:false,cache:false,dataType:"json",data:"otpCode="+a+"&tokenNumber="+d+"&cartId="+c,success:function(e){if(!e.hasError){$("#finalMessageDiv").css("display","block");if(b){$("#ContinuePaymentDiv").css("display","block");$("#rewardPointsEventId").val("applyMaxgetPoints")}else{$("#ConfirmPaymentDiv").css("display","block");$("#rewardPointsEventId").val("bsCashPayment")}$("#programName").html(e.programName);$("#amountRedeemed").html(e.amount);$("#authCode").val(e.authCode);$("#amountRedeemed").val(e.amount);$("#amountRedeemedFinal").val(e.amount);$("#otpDiv .btn").addClass("gray");$("#otpDiv .btn").attr("disabled","disabled");$("#balanceDiv, #otpDiv, #finalMessageDiv, #cardDetailsDiv").hide()}else{if(e.errorMessage!=""&&e.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(e.errorMessage))}if(e.otpError!=""&&e.otpError!="undefined"){$(".otpError").html(getNotificationErrorHtml(e.otpError))}return true}}})}function cancelOffer(){$(".otherError").html("");var c=confirm("Reward points will not be applicable for this order. Are you sure you want to continue?");if(c==true){var b=$("#amountRedeemed").html();var a=$("#authCode").val();var d=$("#cartId").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/cancel",async:false,cache:false,dataType:"json",data:"amount="+b+"&authCode="+a+"&cartId="+d,success:function(e){if(!e.hasError){$("#balanceDiv").css("display","none");$("#cardDetailsDiv").css("display","none");$("#transfer-bank-points").val("default");$("#ConfirmPaymentDiv").css("display","none");$("#ContinuePaymentDiv").css("display","none");$("#finalMessageDiv").css("display","none");$("#otpDiv").css("display","none");$('[name="rewardPointsFinalForm"]').submit();trackGA("BsUI","MaxGet","Cancel_Offer")}else{if(e.errorMessage!=""&&e.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(e.errorMessage))}return true}}})}}function getNotificationErrorHtml(a){return'<div class="grid_12"><div class="error-container alert error">'+a+"</div></div>"}function updatePriceOnSizeForSets(){var y=document.getElementsByName("childCustomizationId");var p=document.getElementsByName("ringselectSet");var F=$("#parentDefaultPrice").val().replace(",","");var d=$("#parentMetalWeight").val().replace(",","");var c=$("#parentGoldCost").val().replace(",","");var B=$("#parentMakingCharges").val().replace(",","");var m=$("#parentTax").val().replace(",","");var w=0;var s=0;var f=0;var G=0;var u=0;for(var A=0;A<y.length;A++){var n=y[A].value;var t=p[A].value;if(t!=""){var H=("#ringSizeSet"+(A+1));$(H).val(t);var v=childWeightAndPriceDetails[n];var k=v[t].price;var z=v.defaultPrice;w=w+Number(k-z);var E=v[t].weight;var x=v.metalWeight;s=s+Number(E-x);var h=v[t].goldCost.replace(",","");var o=v.goldCost;f=f+Number(h-o);var b=v[t].makingCharges.replace(",","");var q=v.makingCharges;G=G+Number(b-q);var C=v[t].taxes.replace(",","");var l=v.tax;u=u+Number(C-l)}}var g=parseInt(Number(F)+Number(w));var e=parseInt(Number(g*(100-parentDiscount)/100));var r=Number(d)+Number(s);var j=Number(c)+Number(f);var a=Number(B)+Number(G);var D=Number(m)+Number(u);$("#our_price_display").html(g.toLocaleString());$("#discountedPriceSpan").html(e.toLocaleString());$("#short_desc_goldWt").html("("+(Math.round(r*100)/100)+" gram)");$("#goldCost_b").html(j.toLocaleString()+"/-");$("#makingChargesWithoutDiscount_b1").html(a.toLocaleString()+"/-");$("#taxes_b").html(D.toLocaleString()+"/-")}function checkAndSubscriberForPushNotification(){if(isPushNotificationSubscriptionEnabled=="TRUE"){if("serviceWorker" in navigator){try{navigator.serviceWorker.register(GLOBAL_CTX+"/resources/themes/bluestone/js/service-worker.js").then(function(b){b.pushManager.getSubscription().then(function(d){var c;if(!d){b.pushManager.subscribe({userVisibleOnly:true}).then(function(f){c=f.endpoint;var g=c.substring(c.lastIndexOf("/")+1);document.cookie="basdspsutbsasdfzcklhvggj="+escape(g);$.ajax({type:"GET",url:GLOBAL_CTX+"/pushNotification/subscribe/"+g,dataType:"json",async:false,cache:false,})})}else{c=d.endpoint}if(c!=null){var e=c.substring(c.lastIndexOf("/")+1);document.cookie="basdspsutbsasdfzcklhvggj="+escape(e)}})})}catch(a){}}}}function handleGeocoding(c,a){$("#map-search-input").val($("#map-location").val());if(c=="desktop"){if(a){$("#size-helper-s2").addClass("active");$(".size-helper").removeClass("stp1").addClass("stp2")}else{$("#size-helper-s3").addClass("active");$(".size-helper").removeClass("stp1").addClass("stp3")}}else{if(!$("#size-helper-s1 .form-item").hasClass("error")){$("#size-helper-s1").removeClass("active");if(a){$("#size-helper-s2").addClass("active");$(".size-helper .overlay-v1").addClass("hidden");$("#ringSizeHelpText").data("index",1);var e=$(window).height();var b=$("#size-helper-s2 .btn-wrapper").height();var d=$("#size-helper-s2 .map-page-header").height();$("#main .size-helper #map-canvas").height(e-(b+d));google.maps.event.trigger(map,"resize");map.setCenter(globalMarker.getPosition())}else{$("#size-helper-s3").addClass("active");$(".size-helper .overlay-v1").addClass("hidden");$("#ringSizeHelpText").data("index",2)}}}}function validateEmail(a){var b=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return b.test(a)}function validateMobile(b){var a=/^([123456789]{1})([0-9]{9})$/;return a.test(b)}function displayInvalidEmails(a,d){var b=[];if(a.val().indexOf(",")>-1&&a.val().indexOf(";")>-1){b.push("Use either , or ; as seperator")}else{var c=a.val().replace(/,\s*$/,"").split(/\,|\;/);for(i=0;i<c.length;i++){if(!validateEmail(c[i].trim())&&c[i]!=""){b.push(c[i].trim())}}}if(b.length>0){d.html("<div class='inner'><span class='text'>Invalid Email(s):</span> <span class='invalid-emails'>"+b.join(", ")+"</div></div>")}return b.length}function shareYourWishList(b,d){var c=$("#shareYourWishList");var a=displayInvalidEmails($("#shareWishListId"),$("#shareYourWishList .message"));if(a>0){return}var e=c.serializeArray();$.ajax({type:"POST",url:GLOBAL_CTX+b,async:false,cache:false,data:e,dataType:"json",success:function(l){if(!l.hasError){$("#shareYourWishList .message .inner").remove();if(deviceName=="NORMAL"||deviceName=="TABLET"){$("#wishlist-share .share-wishlist-form").hide();$("#wishlist-share .share-wishlist-success").show()}else{$("#wishlist-share").removeClass("active");$(".share-wishlist-success").addClass("active")}var j=$("#wishlist-share #shareWishListId").val();var m=j.split(/\,|\;/);var g=[];for(var k=0;k<m.length;k++){if(m[k]!=""){g.push(m[k])}}$("#wishlist-share .share-wishlist-success .right").html(g.join(", "));var f=new Object();f._eventId="sharedWishList";f.email=j;f.fromEmail=d;processServerEvent(f);var h=l.designIdList;trackGA("wishlist","shared wishlist",h+";"+m)}else{alert(l.message);location.reload()}}})}function shareYourWishListBeforeSending(c,b){var a=new Object();a._eventId="shareWishListClicked";processServerEvent(a);$.ajax({type:"POST",url:GLOBAL_CTX+"/share-your-wishlist/generating-self-url",async:false,cache:false,dataType:"json",data:"customerId="+c,success:function(h){if(!h.hasError){if(b!=undefined&&b=="wapp"){var j=$(".loggedin .user-name").text(),g=h.designIdList.length,d;text=" Your friend "+j+" has shared "+g+" beautiful designs selected on BlueStone.com with you";var k=encodeURIComponent(text);var f=encodeURIComponent(h.selfLink);d="whatsapp://send?text="+f+k;window.location.href=d;trackGA("wishlist","share wishlist whatsapp clicked",h.designIdList.join(", "))}else{$("#sharedSelfUrl").html(h.selfLink);trackGA("wishlist","share wishlist clicked",e+";"+c)}if(deviceName=="NORMAL"||deviceName=="TABLET"){$(".wishlistshare").fancybox().trigger("click");$("#shareWishListId").val("");$(".share-wishlist-success").hide();$(".share-wishlist-form").show()}var e=h.designIdList}}})}function sharedlistRedirect(a){$.ajax({type:"GET",url:GLOBAL_CTX+"/share-your-wishlist/add-items",async:false,cache:false,data:"q="+encodeURIComponent(a),dataType:"json",success:function(b){console.log("jsonData. "+b.hasError);if(!b.hasError){window.location.href=GLOBAL_CTX+"/wishlist/view"}}})}function shareYourWishListClearAll(a){$.ajax({type:"POST",url:GLOBAL_CTX+a,async:false,cache:false,dataType:"json",success:function(b){if(!b.hasError){window.location.reload()}else{alert(b.message);window.location.reload()}},failure:function(b){alert("Server failed to process request")}})}function getCurrentPageType(){if(""==PAGE_TYPE){return"Others"}else{return PAGE_TYPE}}function bluestoneLogoClicked(){var a=new Object();a._eventId="bluestoneLogoClicked";a.pageType=getCurrentPageType();processServerEvent(a)}function categoryPageViewed(b){var a=new Object();a._eventId="viewedCategory";a.pageType=getCurrentPageType();a.categoryName=b;processServerEvent(a)}function initiatedOrderPlacement(b){var a=new Object();a._eventId="initiatedOrderPlacement";a.pageType=getCurrentPageType();a.id=b;processServerEvent(a)}var getURLparams=function(){return getURLparamsForURL(window.location.search.substring(1))}();function getURLparamsForURL(d){var c={};if(d==null||d==""){return d}var e=d.split("&");if((e!=null||e!=undefined)&&(d!=null||d!=undefined)){for(var b=0;b<e.length;b++){var f=e[b].split("=");if(typeof c[f[0]]==="undefined"){c[f[0]]=decodeURIComponent(f[1])}else{if(typeof c[f[0]]==="string"){var a=[c[f[0]],decodeURIComponent(f[1])];c[f[0]]=a}else{c[f[0]].push(decodeURIComponent(f[1]))}}}}return c}function sendPaymentInitiatedEvent(b){var a={};a._eventId="paymentInitiated";a.paymentOption=b}function selectFilterAndLogEventLogger(b,d,c,e){b=GLOBAL_CTX+"/"+b.replace(/@/g,"/")+".html";if($("body").hasClass("b-new-filter")){sortValue=document.querySelector("#view-sort-by .selected").textContent.trim()}else{index=document.getElementById("select-view-by").selectedIndex;sortValue=document.getElementById("select-view-by").options[index].text}var a=new Object();a._eventId="applied_filter";a.selectedFilter=d;a.selectedFilterOption=c;a.numberOfDesignsForFilter=e;a.sortOption=encodeURIComponent(sortValue);a.pageType="browse";a.currentURL=window.location.href;processServerEvent(a)}function logCustomizationAttemptedEvent(b){if($("#isCustomizationAttempted").val()=="false"){return}var a=new Object();a._eventId="customized_product";a.id=$("#customizationId").val();a.customizationId=$("#customizationId").val();a.pageType=PAGE_TYPE;a.selected_diamond_type=$("#qualityselect").val();a.selected_solitaire_carat=$("#caratselect").val();processServerEvent(a)}function logEventForHomeTryOnInitiated(){var a=new Object();a._eventId="initiated_hometryon";a.id=$("#customizationId").val();a.customizationId=$("#customizationId").val();processServerEvent(a)}function logHomeTryOnProvidedEmail(){var a=new Object();a._eventId="hometryon_provided_mobile_email";a.id=$("#customizationId").val();a.customizationId=$("#customizationId").val();processServerEvent(a)}function logAddedToHomeTryOnCart(){var a=new Object();a._eventId="added_to_hometryon";a.id=$("#customizationId").val();a.customizationId=$("#customizationId").val();processServerEvent(a)}function logSimilarProductClickedEvent(c,b){var a=new Object();a._eventId="clicked_similar_product";a.id=$("#customizationId").val();a.originalProductDesignId=$("#designId").val();a.customizationId=$("#customizationId").val();a.similarProductCode=c;a.similarProductSellingPrice=b;processServerEvent(a)}function logAddToWishListClickedEvent(b){var a=new Object();a._eventId="addToWishListClicked";a.id=$("#customizationId").val()||b.dataset.customizationId;a.customizationId=$("#customizationId").val();processServerEvent(a)}function logAddedToWishListEvent(){var a=new Object();a._eventId="addedTowishList";a.id=$("#customizationId").val();a.customizationId=$("#customizationId").val();processServerEvent(a)}function logInitiatedRingSizerEvent(){var a=new Object();a._eventId="initiated_ring_sizer";a.id=$("#customizationId").val();a.feature="Ring Sizer";a.customizationId=$("#customizationId").val();processServerEvent(a)}function logMobileLocationProvidedRingSizerEvent(){var a=new Object();a._eventId="provided_mobile_location";a.id=$("#customizationId").val();a.feature="Ring Sizer";a.customizationId=$("#customizationId").val();processServerEvent(a)}function logExactLocationProvidedRingSizerEvent(){var a=new Object();a._eventId="provided_exact_location";a.id=$("#customizationId").val();a.feature="Ring Sizer";a.customizationId=$("#customizationId").val();processServerEvent(a)}function logRequestedRingSizerEvent(){var a=new Object();a._eventId="requested_ring_sizer";a.id=$("#customizationId").val();a.feature="Ring Sizer";a.customizationId=$("#customizationId").val();processServerEvent(a)}function logRequestedRingSizePdfSizerEvent(){var a=new Object();a._eventId="requested_ring_size_pdf";a.id=$("#customizationId").val();a.feature="Ring Sizer";a.customizationId=$("#customizationId").val();processServerEvent(a)}function showClevertapNotification(){var c=getURLparams;var b=c.pla;var e=c.list,a=false;if(skipCleverTap){a=true}var d="TRUE";if(typeof b!="undefined"&&b.match(/true/i)){d="FALSE"}if(typeof e!="undefined"&&e.match(/true/i)){d="FALSE"}if(d=="TRUE"){clevertap.notifications.push({titleText:pushNotifTitle,bodyText:pushNotifBody,okButtonText:pushNotifOkButtonText,rejectButtonText:pushNotifRejectButtonText,okButtonColor:pushNotifOkButtonColor,askAgainTimeInSeconds:pushNotifAskAgainTimeInSeconds,skipDialog:a,okCallback:function(){clevertap.event.push("Event Performed",{"Event Name":"Clevertap Permission Accepted","Event Value":pushNotifTitle,"Event Value2":pushNotifOkButtonText,Feature:"Web Push Notifications",});trackGA("BsUI","Permission Granted - Clevertap Permission Popup");pushThirdPartyEvent("Accepted Clevertap Permission","",true)},rejectCallback:function(){clevertap.event.push("Event Performed",{"Event Name":"Clevertap Permission Rejected","Event Value":pushNotifTitle,"Event Value2":pushNotifRejectButtonText,Feature:"Web Push Notifications",});trackGA("BsUI","Permission Rejected - Clevertap Permission Popup");pushThirdPartyEvent("Rejected Clevertap Permission","",true)},subscriptionCallback:function(){clevertap.event.push("Event Performed",{"Event Name":"Web Push Permission Accepted","Event Value":pushNotifTitle,"Event Value2":pushNotifOkButtonText,Feature:"Web Push Notifications",})}})}}function showChromeNotification(){var a=$("body").hasClass("with-checkout-footer"),b=$("div").hasClass("page-shopping-cart");if(!a&&!b){clevertap.notifications.push({titleText:"",bodyText:"",okButtonText:"",rejectButtonText:"",okButtonColor:"",askAgainTimeInSeconds:"",skipDialog:true,okCallback:function(){},rejectCallback:function(){},subscriptionCallback:function(){}});if(("Notification" in window)){navigator.permissions.query({name:"notifications"}).then(function(c){if(c.state==="prompt"){trackGA("BsUI","Permission Requested - Chrome Notifications");pushThirdPartyEvent("Requested Chrome Permission","",true)}})}}}function logInitiatedSignUpEvent(){var a=new Object();a._eventId="initiated_signup";a.feature="Login Signup";processServerEvent(a)}function logCompletedSignUpEvent(b){var a=new Object();a._eventId="completed_signup";a.feature="Login Signup";a.eventValue=b;processServerEvent(a)}function logInitiatedLoginEvent(){var a=new Object();a._eventId="initiated_login";a.feature="Login Signup";processServerEvent(a)}function logCompletedLoginEvent(b){var a=new Object();a._eventId="completed_login";a.feature="Login Signup";a.eventValue=b;processServerEvent(a)}function ShowOccasionDelivery(a){if(a!=null&&a){$("#occasion-top-div").show();$("#occasion-no-div").hide()}else{$("#occasion-top-div").hide();$("#occasion-no-div").show()}changeEDDToOccasionDate()}function changeEDDToOccasionDate(){if($("#occasionDeliveryCB").is(":checked")){var b=$("#occasionDateForEDD").val();$("#occasion-top-div #etd .etd-date").text(b);$("#occasion-top-div .occ-edd-box .etd-date").text(b)}else{var a=$("#actualExpectedEDD").val();$("#occasion-top-div #etd .etd-date").text(a);$("#occasion-top-div .occ-edd-box .etd-date").text(a)}}function logViewedCollectionsEvent(){var a=new Object();a._eventId="viewed_collections";processServerEvent(a)}function logInitiatedSolitaireCustomizationEvent(){var a=new Object();a._eventId="initiated_solitaire_customization";a.designId=$("#designId").val();a.id=$("#customizationId").val();processServerEvent(a)}function logRemovedProductFromCartEvent(b){var a=new Object();a._eventId="removed_product_from_cart";a.feature="Checkout";a.eventValue=b;a.id=$("#customizationId").val();processServerEvent(a)}function logVideoPlayedPausedByUserEvent(c,b){var a=new Object();a._eventId="video";a.designId=$("#designId").val();a.id=$("#customizationId").val();a.videoAction=c;a.videoPlayMode=b;processServerEvent(a)}function logOrderCancelledEvent(b){var a=new Object();a._eventId="order_cancelled";a.cancellationType=b;processServerEvent(a)}function setDummyValuesForBillingAddress(){$("#ba_postcode_delivery").val("12345");$("#ba_fullname").val("name");$("#ba_address").val("address");$("#ba_cityName_delivery").val("city");$("#ba_stateId_delivery").val(1)}var cCardType="",isFormSuccess=0;$(document).ready(function(){$("#creditcardSeamless-form .form-control, #debitcardSeamless-form .form-control").each(function(){if(!$(this).parent().hasClass("success")){$(this).val("")}});if($("#creditcardSeamless-content").hasClass("cc-dc-code")||$("#debitcardSeamless-content").hasClass("cc-dc-code")){var a="";$("#ccNumber").validateCreditCard(function(b){creditDebitCardValidation(b,$(this))});$("#dcNumber").validateCreditCard(function(b){creditDebitCardValidation(b,$(this))});window.onload=function(){var g=document.getElementById("ccNumber");cardNumberFormat(g);preventPaste(g);var e=document.getElementById("dcNumber");cardNumberFormat(e);preventPaste(e);var f=document.getElementById("ccCVV");preventPaste(f);preventAlphaNumeric(f);var b=document.getElementById("ccCVV2");preventPaste(b);preventAlphaNumeric(b);var d=document.getElementById("dcCVV");preventPaste(d);preventAlphaNumeric(d);var c=document.getElementById("dcCVV2");preventPaste(c);preventAlphaNumeric(c)};$(".optional-group .form-control").blur(function(){if($(this).val().length>0){$(this).each(function(b,c){$(c).parent().addClass("success")})}else{$(this).parent().removeClass("success")}});$("#creditcardSeamless-form").submit(function(){creditDebitCardSubmit($(this))});$("#debitcardSeamless-form").submit(function(){creditDebitCardSubmit($(this))});$(".fl-wrap input, .fl-wrap select").each(function(b,c){$(c).blur(function(){setTimeout(function(){a=(deviceName!=="MOBILE")?$(c).closest(".payment_detail").find(".payment_module .inner").text()+" Payment":$(c).parents("section").find(".section-title strong").text()+" Payment";if($(c).val()!=""&&($(c).parent().hasClass("error")||$(c).parent().hasClass("not-valid"))){var d=$(c).parents("form").find("ul.messages li, ul.card-not-valid.card-error-show li, ul.cvv-error.cvv-show").map(function(){return this.textContent}).get().join("");trackGA(a,"Error shown",d)}},1000)})})}});function creditDebitCardValidation(c,f){var d="",b="",a="";cardPaymentName=(deviceName!=="MOBILE")?$(f).closest(".payment_detail").find(".payment_module .inner").text()+" Payment":$(f).parents("section").find(".section-title strong").text()+" Payment";if(c.card_type!=null&&$(f).val().length>0){d="card-logo "+c.card_type.name;cCardType=c.card_type.name;if(c.card_type.name=="visa"||c.card_type.name=="mastercard"||c.card_type.name=="amex"){$(f).parents("#payment-details").find("."+c.card_type.name+"CreditCard").prop("checked","checked");$(f).parent().find(".card-logo").removeClass("card-supported")}else{$(f).parents("#payment-details").find(".defaultCreditCard").prop("checked","checked");$(f).parent().find(".card-logo").removeClass("card-supported")}if(c.card_type.name=="amex"){b=4;$(f).parents("form").find(".cvv4-error-msg").addClass("cvv-show");$(f).parents("form").find(".cvv3-error-msg").removeClass("cvv-show");$(f).parents("form").find(".no-amex").addClass("hidden success");$(f).parents("form").find(".cvv-amex").removeClass("hidden").addClass("cvvlength-4")}else{b=3;$(f).parents("form").find(".cvv3-error-msg").addClass("cvv-show");$(f).parents("form").find(".cvv4-error-msg").removeClass("cvv-show");$(f).parents("form").find(".no-amex").removeClass("hidden").addClass("cvvlength-3");$(f).parents("form").find(".cvv-amex").addClass("hidden success")}$(f).parents("form").find(".cvv-input").parent().removeClass("cvvlength-3 cvvlength-4").addClass("cvvlength-"+b);if(c.card_type.name=="maestro"){$(f).closest("form").find(".require-group").addClass("hidden");$(f).closest("form").find(".require-group .fl-wrap").addClass("success");$(f).closest("form").find(".optional-group").removeClass("hidden");$(f).parents("form").find(".cvv-expiry-option").show()}else{$(f).closest("form").find(".require-group").removeClass("hidden");$(f).closest("form").find(".optional-group").addClass("hidden");$(f).parents("form").find(".cvv-expiry-option").hide()}}else{d="card-logo card-supported";cCardType="";$("#defaultCreditCard").prop("checked","checked")}$(f).parent().find(".card-logo").removeAttr("class").addClass(d);$(f).parents("form").find(".cvv-error").removeClass("cvv-show");$(f).blur(function(){if($(f).val().length>0){if(c.valid){$(f).parent().find(".card-logo").removeAttr("class").addClass(d);$(f).parent().addClass("valid").removeClass("not-valid");$(f).parent().find(".card-not-valid").removeClass("card-error-show");if($(f).parents("form").find(".card-logo").hasClass("maestro")&&$(f).parents("form").find(".card-number").val().replace(/\s+/g,"").length==19&&!$(f).parents("form").find(".optional-group").hasClass("hidden")&&cardPaymentName=="debit card Payment"){$(f).parents("#payment-details").find(".service_provider_radio").prop("checked",false);$(f).parents("#payment-details").find(".sbiMaestroDebitCard").prop("checked","checked")}}else{$(f).parent().addClass("not-valid").removeClass("valid");$(f).parent().find(".card-not-valid").addClass("card-error-show");$(f).parent().find("ul.messages").addClass("hide-it");$(f).parent().find(".card-logo").removeAttr("class").addClass(d)}}else{$(f).parent().find(".card-not-valid").removeClass("card-error-show");$(f).parent().find("ul.messages").removeClass("hide-it")}});if($(f).val().length==1){trackGA(cardPaymentName,"Started entering card number")}}function creditDebitCardSubmit(c){cardPaymentName=(deviceName!=="MOBILE")?$(c).closest(".payment_detail").find(".payment_module .inner").text()+" Payment":$(c).parents("section").find(".section-title strong").text()+" Payment";var b=$(c).find(".card-logo").attr("class").split(" ")[1];var a=$(c).find(".card-number").val().replace(/\s+/g,"").length;trackGA(cardPaymentName,"Clicked Pay Now",b+" "+a);setTimeout(function(){var d=$(c).find("ul.messages li, ul.card-not-valid.card-error-show li, ul.cvv-error.cvv-show li").map(function(){return this.textContent}).get().join("");if($(".fl-wrap").hasClass("error")||$(".fl-wrap").hasClass("not-valid")){trackGA(cardPaymentName,"Error shown",d)}},1000);if($(c).find(".require-group").not("hidden").length==1){isFormSuccess=$(c).find(".require-group .success").length}if($(".card-number").parent().hasClass("valid")&&isFormSuccess==4){if($(c).find(".card-logo").hasClass("visa")){$(c).parents("#payment-details").find(".visaCreditCard").prop("checked","checked")}else{if($(c).find(".card-logo").hasClass("mastercard")){$(c).parents("#payment-details").find(".mastercardCreditCard").prop("checked","checked")}else{if($(c).find(".card-logo").hasClass("amex")){$(c).parents("#payment-details").find(".amexCreditCard").prop("checked","checked")}else{if($(c).find(".card-logo").hasClass("maestro")&&$(c).find(".card-number").val().replace(/\s+/g,"").length==19&&!$(c).find(".optional-group").hasClass("hidden")&&cardPaymentName=="debit card Payment"){$(c).parents("#payment-details").find(".service_provider_radio").prop("checked",false);$(c).parents("#payment-details").find(".sbiMaestroDebitCard").prop("checked","checked");trackGA(cardPaymentName,"Clicked Pay Now","State Bank Maestro Card")}else{$(c).parents("#payment-details").find(".defaultCreditCard").prop("checked","checked")}}}}submitPaymentForm()}}cardNumberFormat=function(a){var b=function(c,k){var f=0;var g=0;var n=0;var j=" ";var o=a.value;if(c!==false){f=a.selectionStart;g=a.selectionEnd;if(k&&f>0){f--;if(o[f]==j){f--}}o=o.substring(0,f)+c+o.substring(g);n=f+c.length}var m=0;var p=0;var l=0;var e="";switch(cCardType){case"amex":groups=[4,6,5];break;case"diners_club_carte_blanche":groups=[4,6,4];break;case"diners_club_international":groups=[4,6,4];break;case"maestro":groups=[4,4,4,4,3];break;case"visa":groups=[4,4,4,4];break;default:groups=[4,4,4,4,3];break}for(var h=0;h<o.length;h++){if(/\D/.test(o[h])){if(f>h){n--}}else{if(m===groups[l]){e+=j;m=0;l++;if(f>=h){n++}}e+=o[h];m++;p++}if(m===groups[l]&&groups.length===l+1){break}}a.value=e;if(c!==false){a.setSelectionRange(n,n)}};a.addEventListener("keypress",function(f){var d=f.charCode||f.keyCode||f.which;if(d!==9&&(d<37||d>40)&&!(f.ctrlKey&&(d===99||d===118))){f.preventDefault();var c=String.fromCharCode(d);if(/\D/.test(c)||(this.selectionStart===this.selectionEnd&&this.value.replace(/\D/g,"").length>=(/^\D*3[47]/.test(this.value)?15:19))){return false}b(c)}});a.addEventListener("keydown",function(c){if(c.keyCode===8||c.keyCode===46){c.preventDefault();b("",this.selectionStart===this.selectionEnd)}});a.addEventListener("paste",function(){setTimeout(function(){b("")},50)})};function preventPaste(a){a.onpaste=function(b){b.preventDefault()}}function preventAlphaNumeric(a){$(a).bind("keypress",function(d){var c=new RegExp("^[0-9\b]+$");var b=String.fromCharCode(!d.charCode?d.which:d.charCode);if(!c.test(b)){d.preventDefault();return false}})}function creditCardNameAttrUpdate(){$("#creditcardSeamless-form .form-control").each(function(a,d){var c=d.name.split("-")[0];d.name=c;var b=$("#debitcardSeamless-form .form-control");b[a].name=c+"-dvalidate"})}function debitCardNameAttrUpdate(){$("#debitcardSeamless-form .form-control").each(function(a,d){var c=d.name.split("-")[0];d.name=c;var b=$("#creditcardSeamless-form .form-control");b[a].name=c+"-cvalidate"})}function createPayRequestFrom(a,c,b){return createPayRequestFormOrPayPalToken(a,c,b,null)}function createPayRequestFormOrPayPalToken(b,e,d,c){$("body").addClass("with-checkout-footer");var a=GLOBAL_CTX+"/paymentrequest/"+b+"/"+e;$.ajax({type:"GET",url:a,dataType:"json",async:false,cache:false,success:function(f){try{if(f.hasError){$("#payment-message .description").html(f.data)}else{$("#paymentFormDiv").html(f.data);if(c=="paypalINR"){$("#token").val(f.data);paypalDeferredObject.resolve("done")}else{if(d){updateDataInPaymentForm()}else{$("#paymentForm").submit()}}}return true}catch(g){alert(g);return false}}})}function updateDataInPaymentForm(){if($("html").hasClass("new-cf-ui")){var a=$(".paymentSelectedTab form:first-child").attr("name"),b=""}else{var a=$(".paymentSelectedTab > form").attr("name"),b=""}if(a=="creditcard"){b=$("#ccCVV").val()||$("#ccCVV2").val();$("input[name=ccvv]").val(b);$("input[name=ccnum]").val($("#ccNumber").val().replace(/\s/g,""));$("input[name=ccexpmon]").val($("#ccExpiryMonth").val());$("input[name=ccexpyr]").val($("#ccExpiryYear").val())}else{b=$("#dcCVV").val()||$("#dcCVV2").val();$("input[name=ccvv]").val(b);$("input[name=ccnum]").val($("#dcNumber").val().replace(/\s/g,""));$("input[name=ccexpmon]").val($("#dcExpiryMonth").val());$("input[name=ccexpyr]").val($("#dcExpiryYear").val())}$("#paymentForm").submit();trackGA(cardPaymentName,"Request sent to payment gateway")}function changeTahIconState(b,a){if(b=="true"||b==true){if(a>0){$(".tah-block").removeClass("with-tick");$(".header-right .with-icon").addClass("hidden");$(".header-right .tah").addClass("active");$(".tahCountHeader").removeClass("hidden");$(".tahCountHeader").text(a)}else{$(".tah-block").addClass("with-tick");$(".header-right .with-icon").addClass("icon-i-tick")}$(".tah-a-l").each(function(c){$(this).attr("href",GLOBAL_CTX+"/hto/view")})}else{$(".tah-block").removeClass("with-tick");$(".tahCountHeader").addClass("hidden");$(".tah-a-l").each(function(c){$(this).attr("href",GLOBAL_CTX+"/try-at-home.html")})}}function formFieldAutoFilled(){setTimeout(function(){if($("form").hasClass("fl-style")){$(".fl-style input, .fl-style select, .fl-style textarea").each(function(a,b){if($(this).val()!=""){$(b).parent().addClass("auto-filled")}})}},0)}function formFieldFocus(){if($("form").hasClass("fl-style")){$(".fl-style input, .fl-style select, .fl-style textarea").focus(function(){$(this).parent().addClass("focused")}).blur(function(){$(this).parent().removeClass("focused")})}}var timerID;function countDownTimer(a,b,c){timerID=setInterval(function(){a.text(b);if(b<=0){c();clearInterval(timerID)}b-=1},1000)}function get_browser_info(){var b=navigator.userAgent,a,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(c[1])){a=/\brv[ :]+(\d+)/g.exec(b)||[];return{name:"IE ",version:(a[1]||"")}}if(c[1]==="Chrome"){a=b.match(/\bOPR\/(\d+)/);if(a!=null){return{name:"Opera",version:a[1]}}}c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"];if((a=b.match(/version\/(\d+)/i))!=null){c.splice(1,1,a[1])}return{name:c[0],version:c[1]}}v2.Object.extend(v2.Form.prototype,{scrollToFirstWhenFail:true,onFailure:function(){if(!this.scrollToFirstWhenFail){return}var d,a,b,c=this.__form;b=c.all||c.getElementsByTagName("*");for(d=0;(a=b[d]);d++){if(v2.Element.visible(a)){if(v2.Element.hasClassName(a,v2.ErrorReporting.failureClass)){if(deviceName=="MOBILE"){window.scrollTo(0,a.offsetTop-60)}else{window.scrollTo(0,a.offsetTop)}return}}}}});function tahDateFormat(c,f){var e={},b,d,a;b=parseInt(f.split(/[-" "]/)[0]);b=(b<10)?b+12:b;d=c.replace(/-/g,"/")+" "+b+":00:00";a=new Date(d);e.fullDate=a;e.dayStringShort=DayAsString(a.getUTCDay());e.dayString=dayString(a.getUTCDay());e.month=monthAsString(a.getUTCMonth());e.day=a.getUTCDate();e.formattedDay=numberSuffix(a.getUTCDate());e.isNextDay=isNextDay(a.getUTCDate());return e}function triggerSingIn(){document.querySelector(".showLoginBox").click()}function triggerSingUp(){document.querySelector(".showSignupBox").click()}function formatContactForCL(a){return"+91"+a.substr(a.length-10,10)}function truncate(c,b,a){if(b==null){b=100}if(a==null){a="..."}if(c.length>b){return c.substring(0,b)+a}else{return c}}function validateForm(a){var b=v2.Form.forms[a].validate();return b}function validateEmailField(b){var a=b.val();var c=b.parent();var f="";var d="";var e=false;c.find("ul.messages").remove();if(a===""){f="Email is required";c.addClass("error");c.removeClass("success");e=false}else{e=validateEmail(a);if(!e){f="Please enter a valid email address";c.addClass("error")}else{f="";c.removeClass("error").addClass("success");e=true}}if(f!==""){d+="<ul class='messages'><li>"+f+"</li></ul>";c.append(d)}return e}function SignUpPopup(a){if(!a){return}this.data=a}SignUpPopup.prototype.init=function(){this.cacheDom();if(this.parent.length>0){this.renderPopupData(this.data);this.attachEvents();this.openSignupPopup()}};SignUpPopup.prototype.cacheDom=function(){this.body=$("body");this.parent=$(".signup-popup");this.ctaClose=this.parent.find("span.close-cta");this.popupBlock=$(".signup-popup .popup-top-block");this.form=this.popupBlock.find("form");this.title=this.popupBlock.find("h1.title");this.subTitle=this.popupBlock.find("p.sub-title");this.emailLabel=this.popupBlock.find("label.email-label");this.emailInput=this.popupBlock.find("input.form-control");this.cta=this.popupBlock.find("input.btn");this.supportingText=this.popupBlock.find("p.supporting-text");this.messagePlaceholder=this.popupBlock.find("div.error-message");this.messageBlock=$(".signup-popup .success-message-block");this.messageTitle=this.messageBlock.find("h1.title");this.messageSubTitle=this.messageBlock.find("p.sub-title");this.timeOut};SignUpPopup.prototype.renderPopupHeight=function(){this.parent[0].style.height="auto";this.parent[0].style.height=""+this.parent[0].offsetHeight+"px"};SignUpPopup.prototype.attachEvents=function(){this.form.on("submit",this.submitSignupPopup.bind(this));this.emailInput.on("focus",this.handleInputFocus.bind(this));this.emailInput.on("focusout",this.handleInputFocusout.bind(this));this.ctaClose.bind("click",this.closeSignupPopup.bind(this))};SignUpPopup.prototype.handleInputFocus=function(a){this.parent.addClass("esp-focused")};SignUpPopup.prototype.handleInputFocusout=function(a){_self=this;setTimeout(function(){_self.parent.removeClass("esp-focused")},0)};SignUpPopup.prototype.renderPopupData=function(g){var d=g.popup.title;var h=g.popup.subTitle;var a=g.popup.emailLabel;var e=g.popup.ctaText;var e=g.popup.ctaText;var c=g.popup.supportingText;var f=g.successMessage.title;var b=g.successMessage.subTitle;if(d){if(d.length>47){this.title.text(truncate(d,47,"..."))}else{this.title.text(d)}}if(h){this.subTitle.text(h)}if(a){this.emailLabel.text(a)}if(e){this.cta.val(e)}if(c){this.supportingText.text(c)}else{this.supportingText.addClass("hidden")}if(f){this.messageTitle.text(f)}if(b){this.messageSubTitle.text(b)}};SignUpPopup.prototype.pushCLEvents=function(a){if(a!==undefined){clevertap.event.push(a.property,a.value)}};SignUpPopup.prototype.pushCLProfile=function(a){if(a!==undefined){clevertap.profile.push(a)}};SignUpPopup.prototype.errorMessage=function(b){if(typeof b==="object"){b=b.join(",")}var c="<div class='error-message'><p>"+b+"</p></div>";this.messagePlaceholder.html(c);var a=this;this.timeOut=setTimeout(function(){a.messagePlaceholder.html("")},10000)};SignUpPopup.prototype.submitSignupPopup=function(){var f=this.form.find(".email-validate");var a=f.val();var e=validateEmailField(f);if(!e){return false}var b=this.parent;var c=this;var d="userName="+a.split("@")[0]+"&email="+encodeURIComponent(a)+"&customerPhone=0000000000&newsletter=1&terms_condition=1&email_create=1&is_new_customer=1&submitAccount=1";$.ajax({type:"POST",url:GLOBAL_CTX+"/signup",cache:false,dataType:"json",data:d,success:function(h){b.find(".popup-top-block").addClass("close");b.find(".success-message-block").removeClass("close").addClass("open");var j=Object.keys(c.data.successMessage.profile)[0];var g=c.data.successMessage.profile[j];g.Email=a;c.pushCLEvents(c.data.successMessage.events);c.pushCLProfile(c.data.successMessage.profile);setTimeout(function(){c.closeSignupPopup()},10000)},error:function(){c.errorMessage("Something went wrong!")}});return false};SignUpPopup.prototype.preventScroll=function(a){a.preventDefault()};SignUpPopup.prototype.openSignupPopup=function(){this.parent.addClass("active");this.body.addClass("signup-popup-active");this.body.find("#main").append("<div class='signup-overlay'></div>");this.body.find(".signup-overlay").bind("click",this.closeSignupPopup.bind(this));if(deviceName!=="NORMAL"&&isIOS){this.body.addClass("d-ios");document.body.addEventListener("touchmove",this.preventScroll.bind(this),false)}};SignUpPopup.prototype.closeSignupPopup=function(){this.parent.removeClass("active");this.body.removeClass("signup-popup-active");this.body.find(".signup-overlay").remove();document.body.removeEventListener("touchmove",this.preventScroll.bind(this),false)};function triggerSingUpPopup(a){var b=new SignUpPopup(a);b.init()}function ESP(){this.espList=["gmail.com","yahoo.com","rediff.com","hotmail.com"];this.selector=$(".show-esp-list");this.input="";this.placeholder=""}ESP.prototype.sortESPList=function(c,b){var d=[];for(var a=0;a<c.length;a++){if(c[a].indexOf(b)!==-1){d.push(c[a])}}return d};ESP.prototype.renderESPList=function(a){a.preventDefault();var f=$(a.target);this.input=f.val();var d=this.input.split("@");var b=d[1];var c="";var j="";var h=f.parent();var g;if(this.input.indexOf("@")!==-1){g=this.sortESPList(this.espList,b);for(var e=0;e<g.length;e++){c+="<a href='javascript:void(0)' class='options'>"+d[0]+"@"+g[e].toLowerCase()+"</a>"}h.find(".esp-wrapper").remove();h.append("<div class='esp-wrapper'><div class='email-providers'>"+c+"</div></div>");j=h.find("a.options");j.on("click",this.updateEmailField.bind(this))}else{h.find(".esp-wrapper").remove()}};ESP.prototype.updateEmailField=function(b){b.preventDefault();var a=b.target.textContent;var c=$(b.target).parents(".esp-wrapper").parent();c.find("input").val(a);validateEmailField(c.parents("form").find("input"));c.find(".esp-wrapper").remove();trackGA("BsUI","email options clicked",a)};ESP.prototype.hideList=function(b){b.preventDefault();var a=$(b.target);var c=validateEmailField(a);if(c){setTimeout(function(){a.parent().find(".esp-wrapper").remove()},500)}};ESP.prototype.init=function(){this.selector.on("input",this.renderESPList.bind(this));this.selector.on("blur",this.hideList.bind(this))};$(document).ready(function(){var d=new ESP();d.init();function c(g){if(g.css("display")=="block"){var h=$(window);var e={top:h.scrollTop(),left:h.scrollLeft()};e.right=e.left+h.width();e.bottom=e.top+h.height();var f=g.offset();f.bottom=f.top+g.height();return(!(e.bottom<f.top||e.top>f.bottom))}}var b=[];$(window).scroll(function(){if(PAGE_TYPE=="product"){var k=(deviceName=="MOBILE")?$("#price-breakup"):$("#section-price-breakup"),j=$("#designId").val(),e=(deviceName=="MOBILE")?k.css("display")=="block":k.is(":visible"),h=(deviceName=="MOBILE")?c(k.find("#taxes_b")):k.find("tr:last-child td.title").is(":in-viewport");if(e&&h&&b.indexOf("viewed all")==-1){trackGA("BsUI","Viewed all product details",j);b.push("viewed all")}var g=$("#section-item-details"),l=(deviceName=="MOBILE")?c(g.find("h2.title")):g.find("h2.title").is(":in-viewport");if(l&&b.indexOf("viewed tbl")==-1){trackGA("BsUI","Viewed product details table",j);b.push("viewed tbl")}}if(PAGE_TYPE=="browse"){var f=(deviceName=="MOBILE")?c($("#product_list_ui li:nth-child(2) .content .price")):$(".sticky-filter-wrapper").hasClass("active");if(f&&b.indexOf("page scrolled")==-1){trackGA("BsUI","Started Scrolling down on browse page",location.href);b.push("page scrolled")}}if(PAGE_TYPE=="collections"){if($(window).scrollTop()>100){isPageScrolled=true}}});if(PAGE_TYPE=="collections"){if(getURLparams.ref!==undefined&&getURLparams.ref==="home"){$(window).scrollTop($("#scroll-to").offset().top-50);$(".latest-collections").addClass("show");history.replaceState(undefined,undefined,location.href.split("?")[0])}else{$(".latest-collections").addClass("show")}}if(PAGE_TYPE=="product"){$("#homeTryOnProductButton, #homeTryOnProductButtonMobile").on("click",function(){clevertap.event.push("Initiated Try At Home",{Source:"Product"})});$("#try_date_pd").on("change",function(){var e=tahDateFormat($(this).val(),"0");clevertap.event.push("Event Performed",{"Event Name":"Selected Date for Try At Home",Feature:"Try At Home","Event Value":e.dayStringShort})});$("#try_time_pd").on("change",function(){var e=$(this)[0].selectedOptions[0].innerText.replace(/ /g,"");clevertap.event.push("Event Performed",{"Event Name":"Selected Time for Try At Home",Feature:"Try At Home","Event Value":e})})}var a=$("li.valentine-wdg a");displayRandomImages(a)});function displayRandomImages(a){var b=Math.floor(Math.random()*a.length);$(a.selector+":nth-child("+(b+1)+")").removeClass("hidden")}var paypalDeferredObject=$.Deferred();function createPaymentTokenForPayPal(){return new Promise(function(b,a){$("#paypalSubmit").trigger("click");$.when(paypalDeferredObject).done(function(c){b($("#token").val())})})}function animateBrowsingHistoryIcon(a){var b=document.querySelector(".icon-history");if(!a){a=5000}setTimeout(function(){b.classList.add("animate")},a);setTimeout(function(){b.classList.remove("animate")},(a+500))};$(document).ready(function(){if(!Array.prototype.forEach){Array.prototype.forEach=function(ag,af){for(var ae=0,ad=this.length;ae<ad;++ae){ag.call(af,this[ae],ae,this)}}}if(!Array.prototype.every){Array.prototype.every=function(ae){var ad=this.length;if(typeof ae!="function"){throw new TypeError()}var ag=arguments[1];for(var af=0;af<ad;af++){if(af in this&&!ae.call(ag,this[af],af,this)){return false}}return true}}$("#address-password-form").validationEngine();$("#gold-mine-form").validationEngine();$("#voucher").validationEngine();$("#newOffer-form").validationEngine();$("#giveaway-form").validationEngine();$("#sol-nlp .sol-acc h4").click(function(){$("#sol-nlp .sol-acc h4").parent(".acc-content").removeClass("active");$(this).parent(".acc-content").addClass("active")});$(".popup-footer").click(function(){$("#fancybox-wrap").animate({scrollTop:0},800)});$("#blueFewClub3Claim ul li").click(function(){var ad=$(this);ad.parent("ul").find("li").removeClass("active");ad.addClass("active");ad.find("input").prop("checked","checked")});$("#bluefew-benefits ul li a").hover(function(){var ad=$(this);ad.parents("ul").find("li a").removeClass("bluefew-active");ad.parents("ul").find("div").removeClass("active-content");ad.addClass("bluefew-active");ad.parents("li").find("div").addClass("active-content")});$.fn.jtooltip=function(){var ah;var af;var ae;var ad;var ag=$(window).width();$(this).mouseover(function(){ah=$(this).offset();af=$(this).attr("class");ae=$(this).data("pos");ad=$("#"+af);if(ae=="rt"){ad.css({left:ah.left-ad.width()+30,top:ah.top+40}).fadeIn("slow");ad.addClass("rt")}else{ad.css({left:ah.left-$("#"+af).width()/2,top:ah.top+40}).fadeIn("slow")}}).mouseout(function(){$("#"+af).fadeOut("slow")})};$(".cyan,.azure,.turquoise,.sapphire,.bclub").jtooltip();$("#ewallet-btn, #giftcard-btn, .payment-web-flow #rewardpoints-content #continuePayment").click(function(){$(".formError").remove();$("#payment-details>div").hide().animate({top:0,opacity:0},500,"easeInOutCubic").dequeue();$(".payment_tab").removeClass("selected");$("#payment-details .payment_detail:first").show().animate({top:-5,opacity:1},500,"easeInOutCubic").dequeue();$("#payment-tabs .payment_tab:first").addClass("selected");$("#payment-details .payment_detail:first").addClass("paymentSelectedTab").siblings().removeClass("paymentSelectedTab")});$("#egift-card-content #cpButton").click(function(){$("#payment-details>div").hide().animate({top:0,opacity:0},500,"easeInOutCubic").dequeue();$(".payment_tab").removeClass("selected");$("#payment-details .payment_detail:first").show().animate({top:-5,opacity:1},500,"easeInOutCubic").dequeue();$("#payment-tabs .payment_tab:first").addClass("selected");$("#creditcard-content").addClass("paymentSelectedTab").siblings().removeClass("paymentSelectedTab")});$(".pay-paytm").click(function(){$(this).parents("form").attr("name","paytmWallet")});$(".pay-payu").click(function(){$(this).parents("form").attr("name","Wallet")});$(".spc-content #rewardpoints-content #continuePayment").click(function(){$(".formError").remove();$(".payment-option-form>div").removeClass("selected");$("#creditcard-content").addClass("selected");$(".payment-option-title li").removeClass("selected");$(".payment-option-title li:first-child").addClass("selected")});$(".ehelp").mouseover(function(){$(this).parent("div").find(".jtooltip").addClass("active")}).mouseout(function(){$(this).parent("div").find(".jtooltip").removeClass("active")});$(".hp-tp-widgets ul li").mouseenter(function(){$(this).find(".tooltip").addClass("active");$(this).siblings().find(".tooltip").removeClass("active")});var Y=$(".blue-few #lptbl tbody tr");var m=Y.filter(".active-p").show();Y.not(m).hide();$(".blue-few #active").click(function(){$(".b-tabs").removeClass("active");$(this).addClass("active");var ad=Y.filter(".active-p").show().focus();Y.not(ad).hide()});$(".blue-few #pending").click(function(){$(".b-tabs").removeClass("active");$(this).addClass("active");var ad=Y.filter(".pending-p").show().focus();Y.not(ad).hide()});$("#addDetails").click(function(){var ad=$(this);$("#extraDetails").slideDown(400);ad.slideUp(400)});$(".closeme").click(function(){$("#extraDetails").slideUp(400);$("#addDetails").slideDown(400)});$(".je_tc_link").click(function(){$(".query-link").removeClass("active");$(".tnc-link").addClass("active");$(".query").hide();$(".tnc").show();var ad=$("#je-t-c").offset().top;$("html,body").animate({scrollTop:ad-100},1000)});$(".page-jewellery-exchange .faq .query-link").click(function(){$(this).addClass("active");$(this).next().removeClass("active");$(this).parent(".lft").next().find(".query").show();$(this).parent(".lft").next().find(".tnc").hide()});$(".page-jewellery-exchange .faq .tnc-link").click(function(){$(this).addClass("active");$(this).prev().removeClass("active");$(this).parent(".lft").next().find(".query").hide();$(this).parent(".lft").next().find(".tnc").show()});$("#new-user-login").validationEngine();$("#rewardpoints-1").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return getBalance()}}});$("#rewardpoints-2").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return getOTP()}}});$("#rewardpoints-3").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return redeemPoints()}}});$("#jewellery-exchange-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return jewelleryExchangeRegister()}}});$("#rewardpoints-31").validationEngine();$("#user-login").validationEngine();$("#reserve-price-form").validationEngine();$(".zoom-disabled").click(function(ad){$(this).parents("#details-top-left").addClass("no-zoom")});$(".zoom-enabled").click(function(ad){$(this).parents("#details-top-left").removeClass("no-zoom")});$("#subscriber-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return submitSubscriber()}}});$("#daily-fortune-subscriber-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return submitDailyFortuneSubscriber()}}});$("#try-at-home-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return submitTryAtHome()}}});$("#wedding-preference-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return submitWeddingPreference()}}});$("#rakhicontest-form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return validateAndSubmitRakhiContest()}}});$("#express-interest").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return validateAndSubmitDirectSeller()}}});$("#careerForm").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return careerForm()}}});$("#address-form").validationEngine();var U=$("#details-wrapper").parent(".block-style3").height()-4;$("#shdw-style2 #details-wrapper").after("<style type='text/css'>#cloud-zoom-big {height:"+U+"px !important}</style>");$("#search-criteria p").click(function(){$(this).fadeOut("slow");window.location=$(this).attr("link")});$(".payment_detail").css({opacity:0});$(".payment_tab:first").addClass("selected");$(".payment_detail:first").show().animate({top:-5,opacity:1},500,"easeInOutCubic").addClass("paymentSelectedTab");$(".payment_tab").click(function(){$(".formError").remove();$("#payment-options input:radio").removeAttr("checked");$("#EmiOption-content").find("input:radio").removeAttr("checked");$("#payment-details>div").hide().animate({top:0,opacity:0},500,"easeInOutCubic").dequeue();$(".payment_tab").removeClass("selected");$(this).addClass("selected");var aj=$(this).attr("id");var ah=$("#cashondelivery-content #availability").css("display")=="block";if(!isSolitaire&&!ah){if(aj=="cashondelivery"){var ae=$('#cashondelivery-content .otp-verification input[type="tel"]').val().split(" - ")[1];trackGA("BsUI","CheckoutFlow","CashOnDelivery Selected "+ae)}if(aj=="cardOnDelivery"){var ae=$('#cardOnDelivery-content .otp-verification input[type="tel"]').val().split(" - ")[1];trackGA("BsUI","CheckoutFlow","CardOnDelivery Selected "+ae)}}if(aj!="cardOnDelivery"){clearInterval(timerID);$("#cardOnDelivery-content .paymentSelectedTabTwo").hide();$("#cardOnDelivery-content .paymentSelectedTabTwo #otp-count-down").each(function(){$(this).text(60)});$("#cardOnDelivery-content .paymentSelectedTabOne").show();$("#cardOnDelivery-content .paymentSelectedTabOne .sendOTP").removeClass("hidden");$("#cardOnDelivery-content .paymentSelectedTabOne .payment-loader").addClass("hidden");$("#cardOnDelivery-content .otp-timer-block").removeClass("disable");$("#cardOnDelivery-content .otp-not-recv-msg").slideUp()}if(aj!="cashondelivery"){clearInterval(timerID);$("#cashondelivery-content .paymentSelectedTabTwo").hide();$("#cashondelivery-content .paymentSelectedTabTwo #otp-count-down").each(function(){$(this).text(60)});$("#cashondelivery-content .paymentSelectedTabOne").show();$("#cashondelivery-content .paymentSelectedTabOne .sendOTP").removeClass("hidden");$("#cashondelivery-content .paymentSelectedTabOne .payment-loader").addClass("hidden");$("#cashondelivery-content .otp-timer-block").removeClass("disable");$("#cashondelivery-content .otp-not-recv-msg").slideUp()}$(".EnterVerificationCode #otp-code").val("");$("#"+aj+"-content").addClass("paymentSelectedTab").siblings().removeClass("paymentSelectedTab");$("#"+aj+"-content").show().animate({top:-5,opacity:1},500,"easeInOutCubic").dequeue();var ag=$(this).text();sendSelectedPaymentOptionEvent(ag);var ai=clevertap.getCleverTapID();$(".payment_detail.paymentSelectedTab").find(".cleverTapId").val(ai);if($("#emiWithAirPay").hasClass("selected")&&$("#emiWithAirPay-content div").hasClass("tab-container")){$("#emiWithAirPay-content .service_provider_radio").prop("checked","checked");h=parseInt($(".final-pd-price").text().replace(/,/g,""));airPayEMIDetails(h);trackGA("EMI","EMI Selected","Payment Page",h)}if($("#emiWithKissht").hasClass("selected")&&$("#emiWithKissht-content").hasClass("paymentSelectedTab")){h=parseInt($(".final-pd-price").text().replace(/,/g,""));$("#emiWithKissht-content .service_provider_radio").prop("checked","checked");var ad=$(this).data("pincode");var af=GLOBAL_CTX+"/kissht/pincodes/is_supported/"+ad+"/";$.get(af,function(al,ak){if(al==true){$(".kissht-available").removeClass("hidden");$(".kissht-not-available").addClass("hidden")}else{$(".kissht-available").addClass("hidden");$(".kissht-not-available").removeClass("hidden")}});getKisshtPlan(h)}if($("#creditcardSeamless-content").hasClass("paymentSelectedTab")){creditCardNameAttrUpdate()}if($("#debitcardSeamless-content").hasClass("paymentSelectedTab")){debitCardNameAttrUpdate()}if($("#payPal-INR-content").hasClass("paymentSelectedTab")){$("#payPal-INR-content .service_provider_radio").prop("checked","checked")}});if($("#creditcardSeamless-content").hasClass("paymentSelectedTab")){creditCardNameAttrUpdate()}if($("#debitcardSeamless-content").hasClass("paymentSelectedTab")){debitCardNameAttrUpdate()}$("#payzippy").click(function(){$("#payzippy-content input:radio").attr("checked","checked")});$("#paypal").click(function(){$("#paypal-content input:radio").attr("checked","checked")});$("#EmiOption").click(function(){$("#EmiOption-content").find("input:radio").prop("checked","checked")});$(".slide-thumbs ul li:last").addClass("last");$(".slide-thumbs ul li:first").addClass("active");$(".slide-thumbs ul li a").click(function(){$(".slide-thumbs ul li").removeClass("active");$(this).parent().addClass("active")});$("#forget-password-link a").click(function(ad){ad.preventDefault();$("#user-signup").slideToggle(500);$("#forget-password-form").slideToggle(500)});$("#forget-password-link a").on("click",function(){$("#forget-password-form").show();$("#popup-messages .success-container").remove();$("#popup-messages .error-container").remove();$(".formError").remove()});$(document).delegate("#forget-pwd a","click",function(ad){$(this).parents("#loginbox").find("#user-login").slideUp();$(this).parents("#loginbox").find("#forget-password-form").slideDown();$("#popup-messages .success-container").remove();$("#popup-messages .error-container").remove();$(".formError").remove()});$(document).delegate("#cancel-forget-pwd a","click",function(ad){$(this).parents("#loginbox").find("#user-login").slideDown();$(this).parents("#loginbox").find("#forget-password-form").slideUp();$("#popup-messages .success-container").remove();$("#popup-messages .error-container").remove();$(".formError").remove()});$(document).delegate(".checkout #cancel-forget-pwd a","click",function(ad){$(this).parents("#loginbox").find("#user-login").slideDown();$(this).parents("#loginbox").find("#forget-password-form").slideUp();$("#forget-password-form").slideToggle(500);$("#user-signup").slideToggle(500);$("#popup-messages .success-container").remove();$("#popup-messages .error-container").remove();$(".formError").remove()});function ab(ae){ae=ae.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var ad="[\\?&]"+ae+"=([^&#]*)";var ag=new RegExp(ad);var af=ag.exec(window.location.href);if(af==null){return""}else{return af[1]}}function D(ad){return'<div class="error-container"> <span class="icon"></span><span>'+ad+"</span></div>"}$(document).ready(function(){$("#cr_form").submit(function(ae){ae.preventDefault();var ad=ab("referralCode");$("#cr_email").validationEngine();if($("#cr_email").validationEngine("validate")){var af=$("#cr_email").val().trim();if(af==""){return}$.ajax({type:"POST",url:GLOBAL_CTX+"/newreferraluser/add/referral/",async:false,cache:false,dataType:"json",data:"referredEmails="+af+"&referralCode="+ad,success:function(ah){if(!ah.hasError){$(".cr #popup-message .error-container").hide();$(".cr #popup-message .success-container").show();var ag=$(".social");if(ag&&ag.offset()){$("html, body").stop().animate({scrollTop:ag.offset().top-49},850,"easeInOutExpo")}$(this).validationEngine("hideAll");if(ah.message!=""){$(".notifications").show();$(".notifications").html(D(ah.message))}}else{$(".cr #popup-message .success-container").hide();$(".cr #popup-message .error-container #error-container-message").text(ah.message);$(".cr #popup-message .error-container").show()}}})}else{console.log("error")}})});$("#shopping-bag li input:checkbox").each(function(){if($(this).is(":checked")){$(this).parents("#shopping-bag li").children(".product-image, .product-details").fadeTo("medium",1).removeClass("disabled")}else{$(this).parents("#shopping-bag li").children(".product-image, .product-details").fadeTo("medium",0.5).addClass("disabled")}});$("#shopping-bag li .form-checkbox").change(function(){if($(this).is(":checked")){$(this).parents("#shopping-bag li").children(".product-image, .product-details").fadeTo("medium",1).removeClass("disabled")}else{$(this).parents("#shopping-bag li").children(".product-image, .product-details").fadeTo("medium",0.5).addClass("disabled")}});$(".has-address .content, .my-account .user-address").hide();$(".has-address .user-address").show();$(".my-account-page #update-address-form").hide();$(".my-account-page #edit-submit-shipping-address, .my-account-page #edit-submit-billing-address, .my-account-page #edit-cancel-shipping-address").click(function(){$(this).parents("#shipping-address").children(".display-address").slideToggle("medium");$(this).parents("#shipping-address").children("#update-address-form").slideToggle("medium");$("#edit-name-wrapper #fullname_delivery").val($.trim($("#addressName").html()));$("#edit-address-wrapper #address_delivery").val($.trim($("#addressDetails").html()));$("#edit-phone-wrapper #contactNumber_delivery").val($.trim($("#addressContactNumber").val()));$("#edit-city-wrapper #cityName_delivery").val($.trim($("#addressCity").val()));$("#edit-state-wrapper #stateId_delivery").val($.trim($("#addressState").val()));$("#edit-pin-wrapper #postcode_delivery").val($.trim($("#addressPostcode").val()));var ad=$(".my-account-page #shipping-address").offset().top;$("html,body").animate({scrollTop:ad-150},1000);$(this).parents("body").children(".formError").remove();return false});$(".has-address #edit-cancel-shipping-address, .has-address #edit-cancel-billing-address").click(function(){$(this).parents(".my-account").children(".content").slideUp("medium");$(this).parents(".my-account").children(".user-address").slideToggle("medium");$(this).parents("body").children(".formError").remove();return false});$(".faq-toggle ul li .title").click(function(){$(this).parent("li").children(".content").slideToggle("medium, easeInOutCirc");$(this).parent("li").toggleClass("open")});$("a[href*=#all-details]").click(function(){if(location.pathname.replace(/^\//,") == this.pathname.replace(/^//,")&&location.hostname==this.hostname){var ad=$(this.hash);ad=ad.length&&ad||$("[name="+this.hash.slice(1)+"]");if(ad.length){var ae=ad.offset().top;$("html,body").animate({scrollTop:ae},1000);return false}}});$("#email-registration-form-wrapper input.form-checkbox").removeAttr("checked");$("#email-registration-form-wrapper input.form-checkbox").click(function(){if($("#email-registration-form-wrapper input.form-checkbox").is(":not(:checked)")){$("#returning-user").hide();$("#new-user").show();$(".formError").remove()}else{$("#returning-user").show();$("#new-user").hide();$(".formError").remove()}});$("#details-middle-left h2.title, .goldmine-page h1.title-8").each(function(ad){$(this).parent("section").children(".title").addClass("expanded");$(this).click(function(){$(this).parent("section").children(".content").slideToggle("medium");$(this).parent("section").children(".title").toggleClass("expanded");return false});$(this).click(function(){$(this).parent(".goldmine-page section").siblings().removeClass("expanded");$(this).parent(".goldmine-page section").addClass("expanded");$(this).parent(".goldmine-page section").children(".content").slideDown("medium");$(this).parent(".goldmine-page section").siblings().children(".content").slideUp();return false})});$(".testi-pager span").each(function(ad){$(this).addClass("item"+(ad+1))});$("#personal-information .edit-button").click(function(){if($("#personal-information").find(".form-group .row.input").is(":visible")){$("#personal-information").find(".form-group .row.input").slideUp();$("#personal-information").find(".form-group .row.output").slideDown()}$(this).parents(".form-group").find(".row").slideToggle();$("#change-password").slideUp();$(".success-container").hide();var ad=$(this).parents(".form-group").find(".row div:first-child").text().trim();$(this).parents(".form-group").find(".row input").val(ad)});$("#personal-information .save-button").click(function(){if($(this).parents("body").children(".formError:visible").length){$("#change-password").slideUp("fast");return false}else{$(this).parents(".form-group").find(".row.input").slideUp();$(this).parents(".form-group").find(".row.output").slideDown();$("#change-password").slideUp("fast")}if($(".success-container:visible").length){$(this).parents(".form-group").find(".row.input").slideUp();$(this).parents(".form-group").find(".row.output").slideDown();$("#change-password").slideUp("fast")}});$("#personal-information .cancel-button").click(function(){$(this).parents(".form-group").find(".row").slideToggle("hidden");$(this).parents("body").children(".formError").remove();$("#change-password").slideUp()});$("#changePasswd").click(function(){$(this).hide();if($("#personal-information").find(".form-group .row.input").is(":visible")){$("#personal-information").find(".form-group .row.input").slideUp();$("#personal-information").find(".form-group .row.output").slideDown()}$(".success-container").hide();$(".error-container").hide();$("#change-password").slideToggle();$("#old_passwd").val("");$("#passwd").val("");$("#confirmation").val("");var ad=$(".my-account-page #change-password").offset().top;$("html,body").animate({scrollTop:ad-40},1000)});$(".cancel-change-pwd").click(function(){$("#change-password").slideToggle();$("#changePasswd").show();$(this).parents("body").children(".formError").remove();var ad=$(".my-account-page #personal-information").offset().top;$("html,body").animate({scrollTop:ad-80},1000)});var q=$("#returning-user #login-email");var b=$("#new-user #email");var P=$("#forget-password-form #recover_email");var n=$("#forget-password #recover_email");$("#returning-user #login-email, #new-user #email, #user-login1 #email-id").blur(function(){q.val(this.value);b.val(this.value);n.val(this.value);P.val(this.value)});$("#fancybox-close").click(function(){$(this).parents("body").children(".formError").each(function(ad){$(this).remove()})});$("ul.product-list li").on("mouseenter",function(){$(".content",this).stop().animate({bottom:"0"},{queue:false,duration:250})}).on("mouseleave",function(){$(".content",this).stop().animate({bottom:"-100px"},{queue:false,duration:250})});$("#carrier_availability_form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return checkCarrierAvailability($("#carrier_postcode").val(),$("#cartTotal").val())}}});$("#cod_availability_form").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return checkCodAvailability($("#cod_postcode").val(),$("#cartTotal").val())}}});$("#carrier_availability_form_faq").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return checkCarrierAvailabilityFaq($("#carrier_postcode").val())}}});$("#cod_availability_form_faq").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){return checkCodAvailabilityFaq($("#cod_postcode").val())}}});$("#scrollTop").hide();$(function(){$(window).scroll(function(){if($(this).scrollTop()>850){$("#scrollTop").fadeIn()}else{$("#scrollTop").fadeOut()}});$("ul.product-list ").hide().fadeIn(700);$("#scrollTop a").click(function(){if(PAGE_TYPE=="browse"){trackGA("BsUI","DesktopBrPg","ClickedTop")}$("body,html").animate({scrollTop:0},800);return false});$(".sol-bnr a").click(function(){$("body,html").animate({scrollTop:430},650,"easeInOutQuad");return false});$(".nhome a.hbanner").click(function(){$("body,html").animate({scrollTop:320},650,"easeInOutQuad");return false});videoPlayOnScroll();$(window).scroll(function(){videoPlayOnScroll()});$(".bnr420 a").click(function(){$("body,html").animate({scrollTop:505},650,"easeInOutQuad");return false});$("#egc #etabs .next-tab#btn2").click(function(ae){$("#egc #etabs input:radio").each(function(){$("#eGiftCard1").validationEngine("attach",{scroll:false});if($("#eGiftCard1").validationEngine("validate")){$("#egc #etabs .next-tab#btn2").xTabs()}})});$("#egc #etabs .next-tab#btn3").click(function(ae){$("#eGiftCard2").validationEngine("attach",{scroll:false});if($("#eGiftCard2").validationEngine("validate")){$("#egc-amnt").text($(".amt-block #amount").val());$(this).xTabs()}});$("#egc #etabs .next-tab#btn4").click(function(af){$("#eGiftCard3").validationEngine("attach",{scroll:false});if($("#eGiftCard3").validationEngine("validate")){$("#egc-recp-email").text($("#remail").val());$("#egc-recp-name").text($("#rfname").val());var ae=$("#msg").val();if(ae.length>0&&ae.charAt(0)!=" "){$(".msg").removeClass("hidden");$("#egc-msg").text($("#msg").val())}else{$(".msg").addClass("hidden")}$(this).xTabs()}});$("#egc #etabs .prev-tab").click(function(){$(this).parent(".btm-nav").hide();$(this).parents(".tabs").prev().siblings().removeClass("active");$(this).parents(".tabs").prev().addClass("active").removeClass("prev-head").find(".btm-nav").show();$(this).parents(".tabs").find(".tabs-inner").slideUp();$(this).parents(".tabs").prev().find(".tabs-inner").slideDown();$(".formError").remove()});$.fn.xTabs=function(){$(this).parent().hide();$(this).parents(".tabs").next().siblings().removeClass("active");$(this).parents(".tabs").addClass("prev-head");$(this).parents(".tabs").next().addClass("active").find(".btm-nav").show();$(this).parents(".tabs").find(".tabs-inner").slideUp();$(this).parents(".tabs").next().find(".tabs-inner").slideDown()};$("#egc #etabs .amt li").click(function(){var af=parseInt($(this).data("amt"));var ae=parseInt($("#t2").find("#amount").val());if(!isNaN(ae)){af=af+ae}$(this).parents("div").find(".txtamt").val(af)});$("#egc #etabs .occasion li").click(function(){$(this).parents(".occasion").find("li").removeClass("selected");$(this).addClass("selected");$(".formError").remove();$(this).find("input[type=radio]").prop("checked","checked");$(this).find("input[type=radio]").attr("checked","checked");var ae=$(this).data("path");$("#t4").find("#prw").attr("src",ae)});$("#egc #etabs .tp-nav li a").click(function(){});var ad=$(".tp-nav").height();$("#order-list .color-myaccount").on("click",function(){$("#order-list tr.item").removeClass("open");$(this).parents("tr.item").addClass("open");$("body,html").animate({scrollTop:$(this).offset().top-70},650,"easeInOutQuad")});$("#egc #msg").on("keypress",function(af){var ag=/[A-Za-z .!@#$%^&*()_+<>?:";''{}~`]/g;var ae=String.fromCharCode(af.which);if(af.keyCode==8||af.keyCode==37||af.keyCode==39||af.keyCode==13||ag.test(ae)){return true}return false});$("#egc #msg").on("paste",function(ae){ae.preventDefault()});$.fn.scrollBottom=function(){return $(document).height()-this.scrollTop()-this.height()};$(".gold-investment #details-top .form-submit").click(function(){$("#have-question-landing #username").focus().css("background-color","#FFFF99");$("html, body").animate({scrollTop:490},"slow");return false});$(".direct-seller #featured-img .static-img").click(function(){$(".btn-hover",this).addTemporaryClass("btn-hover-selected",2000);$("html, body").animate({scrollTop:2100},"slow","easeInOutQuint");$(".direct-seller-form #customername").focus().css("background-color","#FFFF99");return false});$("#have-question-landing #username, .direct-seller-form #customername").keyup(function(){$(this).css("background-color","#ffffff")});$("#subscribe-newsletter .btn-subscribe").click(function(){var ae=$("#newsletter-form").offset().top;$("html, body").animate({scrollTop:ae},1200,"swing");$("#newsletter-form #newsletter_subscriber").focus().css("background-color","#FFFF99");return false});$("#newsletter-form #newsletter_subscriber").keyup(function(){$(this).css("background-color","#ffffff")})});$("#customizationSupportedText").click(function(ad){ad.preventDefault();$(this).fadeOut();$("#customizationSupportedTextClose").delay(400).fadeIn("medium");$("#longDescriptionInRightPane").slideUp("medium");$("#selectMetalAndDiamondQuality").slideDown()});$("#customizationSupportedTextClose").click(function(ad){ad.preventDefault();$(this).fadeOut();$("#customizationSupportedText").delay(400).fadeIn("medium");$("#longDescriptionInRightPane").slideDown();$("#selectMetalAndDiamondQuality").slideUp("medium")});$(".product-list img").lazyload({effect:"fadeIn",effectspeed:500,threshold:200});$(".lazy-img").lazyload({effect:"fadeIn"});$(".lazy-bg").lazyload({effect:"fadeIn"});var C=$("#invest-amount .input-price").val();$(".down").click(function(){$(".input-price").val(parseInt($(".input-price").val())-500);if(parseInt($(".input-price").val())<500){$(".input-price").val("500")}$("#have-question-landing").find(".gold-mine-example").fadeIn();var ad=$(".input-price").val();updatePrice(ad)});$(".up").click(function(){$(".input-price").val(parseInt($(".input-price").val())+500);if(parseInt($(".input-price").val())>50000){$(".input-price").val("50000")}$("#have-question-landing").find(".gold-mine-example").fadeIn();var ad=$(".input-price").val();updatePrice(ad)});var t=$(".input-price").val();updatePrice(t);$("#vertical-tabs div.tabbed-content").hide();$("#vertical-tabs div.tabbed-content:first").show();$("#vertical-tabs ul.tab li:first").addClass("active");$("#vertical-tabs ul.tab li a").click(function(){$("#vertical-tabs ul.tab li").removeClass("active");$(this).parent().addClass("active");var ad=$(this).attr("href");$("#vertical-tabs div.tabbed-content").hide();$(ad).show();return false});$("#horizontal-tabs div.tabbed-content").hide();$("#horizontal-tabs div.tabbed-content:first").show();$("#horizontal-tabs ul.tab li:last").addClass("active");$(".product-tabs #horizontal-tabs ul.tab li:last").removeClass("active");$("#horizontal-tabs ul.tab li a").click(function(){$("#horizontal-tabs ul.tab li").removeClass("active");$(this).parent().addClass("active");var ad=$(this).attr("href");$("#horizontal-tabs div.tabbed-content").hide();$(ad).show();return false});$(".horizontal-tabs").each(function(){$(this).find("div.tabbed-content").hide()});$(".horizontal-tabs").each(function(){$(this).find("div.tabbed-content:first").show()});$(".horizontal-tabs").each(function(){$(this).find("ul.tab li:first").addClass("active")});$(".horizontal-tabs ul.tab li a").click(function(){$(this).parents(".horizontal-tabs").find("ul.tab li").removeClass("active");$(this).parent().addClass("active");var ad=$(this).attr("href");$(this).parents(".horizontal-tabs").find("div.tabbed-content").hide();$(ad).show();return false});$("#select-gold").click(function(){$(this).find("ul").fadeToggle("fast")});$(".select-gold .title ul li").click(function(){var ad=$(this).attr("class");var af=$(this);af.closest(".select-gold .title").find("div.selected").html(af.html()).removeClass("yellow-gold white-gold").addClass(ad);var af=$(this);$("#details-top-sub-sub-inner").removeClass("no-image-available-white-gold no-image-available-yellow-gold");var ae="";if($(this).hasClass("no-image-available-yellow")){$("#details-top-sub-sub-inner").addClass("no-image-available-yellow-gold")}if($(this).hasClass("no-image-available-white")){$("#details-top-sub-sub-inner").addClass("no-image-available-white-gold")}if($(this).hasClass("white-gold")){ae="White"}if($(this).hasClass("yellow-gold")){ae="Yellow"}$(".metal-purities").hide();$("."+ae+"-purities").show();getCustomizationOnDiamondQuality()});$(".select-gold .title").click(function(ad){ad.stopPropagation()});$(document).click(function(){$(".select-gold .title ul").hide()});$(".slide-message").hide();$("a.readmore").click(function(ad){event.preventDefault();$(".slide-message").slideDown("medium");$(this).hide()});$("a.readless").click(function(ad){event.preventDefault();$(".slide-message").slideUp("medium");$("a.readmore").fadeIn("slow")});$(".change-cc").hover(function(){var ad=$(this).data("timer");if(ad){clearTimeout(ad)}$(this).addClass("change-cc-hover")},function(){var ad=$(this);ad.data("timer",setTimeout(function(){ad.removeClass("change-cc-hover")},500))});$(".welcome-message").hover(function(){var ad=$(this).data("timer");if(ad){clearTimeout(ad)}$(this).addClass("welcome-message-hover")},function(){var ad=$(this);ad.data("timer",setTimeout(function(){ad.removeClass("welcome-message-hover")},500))});var u=$("#g-f-him, .romance101 #landing-blocks");if(u&&u.offset()){$("html, body").stop().animate({scrollTop:u.offset().top-49},850,"easeInOutExpo")}var u=$("#get-lucky");if(u&&u.offset()){$("html, body").stop().animate({scrollTop:u.offset().top-49},850,"easeInOutExpo")}if($("#married-yes input").is(":checked")){$(".ifmarried").slideDown("medium","swing")}if($("#married-no input").is(":checked")){$(".ifmarried").slideUp("medium","swing")}$("#married-yes").click(function(ad){if($("#married-yes input").is(":checked")){$(".ifmarried").slideDown("medium","swing")}if($("#married-no input").is(":checked")){$(".ifmarried").slideUp("medium","swing")}});$("#married-no").click(function(ad){if($("#married-no input").is(":checked")){$(".ifmarried").slideUp("medium","swing")}if($("#married-yes input").is(":checked")){$(".ifmarried").slideDown("medium","swing")}});var O=140;var I=200;function J(ah,af){var ag=$("#char-counter > span");var ae=$(ah).val();var ad=ae.length;if(ad>af){$(ah).val(ae.substr(0,af));$(ag).html(0)}else{$(ag).html(O-ad)}}$("#edit-gift-message-wrapper textarea").keyup(function(){J($(this),O)});$(".rakhi-contest-form textarea").keyup(function(){J($(this),I)});if($("#edit-gift-wrapper label input").is(":checked")){$("#gift-msg-form").slideDown("medium","swing")}if($("#edit-gift-wrapper label input").is(":not(:checked)")){$("#gift-msg-form").slideUp("medium","swing");$(".formError").remove()}$("#edit-gift-wrapper label").click(function(){if($("input",this).is(":not(:checked)")){$("#gift-msg-form").slideUp("slow");$(".formError").remove();$(this).removeClass("open")}else{$("#gift-msg-form").slideDown("slow");$(this).addClass("open")}});if($(".addBillingAddress").is(":checked")){$("#billing-address-form").slideUp("medium","swing");$(".billing-address-wrap").removeClass("open")}if($(".addBillingAddress").is(":not(:checked)")){$("#billing-address-form").slideDown("medium","swing");$(".billing-address-wrap").addClass("open");$(".formError").remove()}$("#edit-billingAddress-wrapper .add-billing-address").on("click",function(){if($(".addBillingAddress").is(":not(:checked)")){$("#billing-address-form").slideDown("slow");$(".billing-address-wrap").addClass("open");$(".formError").remove();$(this).removeClass("open")}else{$("#billing-address-form").slideUp("slow");$(".billing-address-wrap").removeClass("open");$(this).addClass("open")}});$(".offers-badge").click(function(){$(".offers-carousel-wrapper").show();$(this).animate({top:-107},700,"easeOutQuint");$(".offers-overlay").fadeIn(500,"easeOutCubic",function(){$(".offers-carousel").animate({top:0},700,"easeOutQuint");$.dequeue(this)});$.dequeue(this)});$(".offers-overlay, .offers-carousel .btn-close").click(function(){$(".offers-carousel").animate({top:-260},500,"easeOutCubic",function(){$(".offers-overlay").fadeOut(700,"easeOutCubic");$(".offers-badge").animate({top:0},700,"easeOutCubic");$(".offers-carousel-wrapper").hide();$.dequeue(this)});$.dequeue(this)});$(".fancy-youtube").click(function(){$.fancybox({padding:0,fitToView:false,autoSize:false,title:this.title,width:680,height:495,href:this.href.replace(new RegExp("watch\\?v=","i"),"embed/"),type:"iframe"});return false});if(deviceName=="TABLET"){$(".submenu-left span.s-l-inner").click(function(ad){ad.preventDefault()})}$("#try_city").bind("change",function(ad){if($("#try_city").val()=="Other"){$(".ht-other-city").show()}else{$(".ht-other-city").hide()}});$("#try_city_pd").bind("change",function(ad){if($("#try_city_pd").val()=="Other"){$(".ht-other-city_pd").css("display","inline-block")}else{$(".ht-other-city_pd").hide()}});$("#try_city_pp").bind("change",function(ad){if($("#try_city_pp").val()=="Other"){$(".ht-other-city_pd").show()}else{$(".ht-other-city_pd").hide()}});$(".hto-camp-true #hto-land-form .ht-other-city_pd").append('<i class="Cancel">x</i>');$(".hto-camp-true #hto-land-form .ht-other-city_pd i").click(function(){$(this).parents(".hto-camp-true").find(".ht-other-city_pd").hide();$(".try_other_city_pdformError").remove();$(this).parents(".hto-camp-true").find("#try_city_pd").prop("selectedIndex",0)});$("#try_city_hto").bind("change",function(ad){if($("#try_city_hto").val()=="Other"){$(".ht-other-city_hto").show()}else{$(".ht-other-city_hto").hide()}});$("#try-at-home-landing").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){submitTryAtHome();$(".try-on-detail").hide();$(".success-container").html('<div class="success-container-inner"><span>Thank you for your interest!</span></div>');$(".success-container").show();return}}});$("#try-at-home-form_pd").bind("submit",function(ad){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});ad.preventDefault()});$("#try-at-home-form_pd").submit(function(ad){ad.preventDefault();submitTryAtHomePDAddCustomer();return false});$("#try-at-home-form_pd_2").bind("submit",function(ad){ad.preventDefault()});$("#try-at-home-form2_pdTrue").validationEngine();$("#try-at-home-form2_pdTrue").bind("submit",function(ad){ad.preventDefault();K()});function K(){if($("#try-at-home-form2_pdTrue").validationEngine("validate")==false){return false}var ad=$("#try_address_pd").val();var ak=$("#try_pin_pd").val();var af=$("#try_date_pd").val();var ai=$("#try_time_pd").val();var ah=$("#customerId").val();var ae=$("#try_name_pd").val();var aj=$("#try_city_pp").val();var ag=$("#referer_pd").val();createEventLogInBatches("HTOBookingScheduled","pincode",ak,"designId",$("#designId").val());data="id="+encodeURIComponent(ah)+"&address="+encodeURIComponent(ad)+"&pincode="+encodeURIComponent(ak)+"&city="+encodeURIComponent(aj)+"&appointmentDate="+encodeURIComponent(af)+"&appointmentTime="+encodeURIComponent(ai)+"&name="+ae+"&referrer="+ag;dateObj=tahDateFormat(af,ai);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/bookAppointment",async:false,cache:false,dataType:"json",data:data,success:function(al){if(!al.hasError){changeTahIconState(al.isAppointmentBooked,al.htoAppointmentDesignsCount);$("#try-at-home-form_pdTrue, #try-at-home-form2_pdTrue").each(function(){this.reset()});trackGA("hometryon-product-details","appointment-booked-desktop","product-details-campaign");clevertap.event.push("Booked Try At Home",{"Day of week":dateObj.dayStringShort,"Next day booking":dateObj.isNextDay?"Yes":"No","Time Slot":ai,Date:dateObj.fullDate,Source:"Product"});clevertap.event.push("Added to Try At Home",{"Product Name":productDetails.name,"Product ID":productDetails.id,"Product Category":productDetails.category,Source:"Product"});$(".try-on-detail #try-at-home-form2_pdTrue").hide();$("#hto-land-form .success-container").html('<div class="success-container-inner"><span>Thank you for your interest!</span><p>Our jewellery expert will soon get in touch with you.</p></div>').show();hasTahAppointment="true";return true}else{$("#try-home-msg_pd").html(al.message).show();$("#try-at-home-form_pdTrue, #try-at-home-form2_pdTrue").each(function(){this.reset()});return true}}})}$("#try-at-home-form_listing").bind("submit",function(ad){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});ad.preventDefault()});$("#try-at-home-form_listing").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){submitTryAtHomeListingAddCustomer();return}}});$("#try-at-home-form_listing_2").bind("submit",function(ad){ad.preventDefault()});$("#try-at-home-form_listing_2").validationEngine("attach",{promptPosition:"topRight:-60",onValidationComplete:function(ae,ad){if(ad){submitTryAtHomeListingBookAppointment();$(".try-on-detail").hide();$(".success-container").html('<div class="success-container-inner"><span>Thank you for your interest!</span><p>Our jewellery expert will soon get in touch with you.</p></div>');$(".success-container").show();return}}});$("#custDetailsForRingSizerForm, #custDetailsForBangleSizerForm").validationEngine();$("#try-at-home-form_pdTrue").validationEngine("attach",{onValidationComplete:function(ae,ad){if(ad){submitTryAtHomePDAddCustomer();return}}});$("#get_callback_pd").validationEngine();$(".ui-state-default").on("click",function(){$(".try_date_pdformError").remove()});$("#blueBond .story").change(function(){if(this.value=="1"){$("#blueBond #storyRel #relation").attr("disabled","disabled");$("#blueBond #storyRel #relation").val("")}else{if(this.value=="0"){$("#blueBond #storyRel #relation").removeAttr("disabled")}}});$(".career-form-wrapper .career-exp").on("change",function(){var ad=$(this).find(".car-year").val();var ae=$(this).find(".car-month").val();carExp=ad;if(ae&&ad){carExp+="."+ae}else{if(ae&&!ad){carExp+="0."+ae}}$("#experience").val(carExp)});var V;var L=$(".lb-landing #lb-tooltip");var B,R,G,s,k,g;function T(){V=setTimeout(function(){L.removeClass("lb-active");$(".lb-landing #lbt-self").removeClass("lb-active")},400)}$(".lbt-btn").click(function(ad){pDesignId=$(this).find("a").data("designid");r($(this),pDesignId)});function r(ad,af){var ae=ad;$.ajax({type:"GET",url:GLOBAL_CTX+"/lookbook/"+af,async:false,cache:false,success:function(ag){$(".replaceResult").html(ag);$(".jcarousel-active-thumbs ul").owlCarousel({items:5,lazyLoad:false,loop:false,dots:false,slideBy:1,nav:true,pagination:false,navigation:true,navigationText:["<i class='icon-ion-arrow-left-b'></i>","<i class='icon-ion-arrow-right-b'></i>"]});$(".slide-thumbs ul li:last").addClass("last");$(".slide-thumbs ul li:first").addClass("active");$(".slide-thumbs ul li a").click(function(){$(".slide-thumbs ul li").removeClass("active");$(this).parent().addClass("active")});$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom();$(".zoom-disabled").click(function(ah){$(this).parents("#details-top-left").addClass("no-zoom")});$(".zoom-enabled").click(function(ah){$(this).parents("#details-top-left").removeClass("no-zoom")});$("#cust-details #etd a.btn").click(function(ah){udpateDeliveryDate(ah,$(this))});$(".bs-accordion h4").click(function(){$(this).parent(".bs-accordion").toggleClass("active");var ah=$(this).parent(".bs-accordion");ah.removeClass("ovisible");if(ah.hasClass("active")){setTimeout(function(){ah.addClass("ovisible")},500)}$(".formError").remove()});$(".bs-accordion.bsa1 h4").click(function(){var ah=$(this).parent(".bs-accordion");if(ah.hasClass("active")){$(this).find("span").text("Hide price breakup");$(this).find("i").removeClass("icon-ion-android-arrow-dropdown").addClass("icon-ion-android-arrow-dropup")}else{$(this).find("span").text("View price breakup");$(this).find("i").removeClass("icon-ion-android-arrow-dropup").addClass("icon-ion-android-arrow-dropdown")}});$(".bs-accordion.bsa2 h4").click(function(){var ah=$(this).parent(".bs-accordion");if(ah.hasClass("active")){$(this).find("span").text("Hide Customization");$(this).find("i").removeClass("icon-ion-android-arrow-dropdown").addClass("icon-ion-android-arrow-dropup")}else{$(this).find("span").text("Customize this product");$(this).find("i").removeClass("icon-ion-android-arrow-dropup").addClass("icon-ion-android-arrow-dropdown")}});$(".bs-accordion.bsa3 h4").click(function(){var ah=$(this).parent(".bs-accordion");if(!ah.hasClass("active")){$(this).parent(".bs-accordion").find(".pe-input").removeClass("active").hide();$(this).parent(".bs-accordion").find(".pe-checkbox").removeClass("checked")}});$("#select-gold").click(function(){$(this).find("ul").fadeToggle("fast")});$(".select-gold .title ul li").click(function(){var ah=$(this).attr("class");var aj=$(this);aj.closest(".select-gold .title").find("div.selected").html(aj.html()).removeClass("yellow-gold white-gold").addClass(ah);var aj=$(this);$("#details-top-sub-sub-inner").removeClass("no-image-available-white-gold no-image-available-yellow-gold");var ai="";if($(this).hasClass("no-image-available-yellow")){$("#details-top-sub-sub-inner").addClass("no-image-available-yellow-gold")}if($(this).hasClass("no-image-available-white")){$("#details-top-sub-sub-inner").addClass("no-image-available-white-gold")}if($(this).hasClass("white-gold")){ai="White"}if($(this).hasClass("yellow-gold")){ai="Yellow"}$(".metal-purities").hide();$("."+ai+"-purities").show();getCustomizationOnDiamondQuality()});$(".select-gold .title").click(function(ah){ah.stopPropagation()});$(document).click(function(){$(".select-gold .title ul").hide()});$("#add_to_cart .addToCart").prop("disabled",false);$("#etd .date").click(function(ah){ah.stopPropagation();$(".pin-code-error").hide();$(this).parent("#etd").find(".form-text").val("");$(this).parent("#etd").find(".etd-popup").slideDown("fast")})}})}$(".lb-landing span.marker").mouseover(function(aj){B=$(this).data("name");G=$(this).data("image");s=$(this).data("sdsc");k=$(this).data("price");g=$(this).data("cf");pDesignId=$(this).data("design_id");var ai=s.split("In");var af=ai[0]+" In";var ae=ai[1];L.find("h3 a").text(B);L.find("a").attr("title",B);L.find(".lbt-img a img").attr("src",G);L.find("#adsc").text(af);L.find("#sdsc").text(ae);L.find(".lbt-price #price").text(k);L.find(".lbt-price #simbol").html(g);L.find(".lbt-btn a").data("designid",pDesignId);var al=$(window).width()-aj.clientX;var ak=$(window).height()-aj.clientY;var ah=L.width()+100;var ad=L.height();L.stop().addClass("lb-active");var ag=$(this).offset();L.css("top",ag.top-50);if(al<=ah&&ak>ad){L.find(".arrow").removeAttr("id");L.find(".arrow").attr("id","lb-rarrow");L.css("left",ag.left-L.width()-30)}if(ak<=ad){L.find(".arrow").removeAttr("id");L.find(".arrow").attr("id","lb-barrow");L.css({left:ag.left-L.width()/2,top:ag.top-L.height()-50})}if(al>=ah&&ak>ad){L.find(".arrow").removeAttr("id");L.find(".arrow").attr("id","lb-larrow");L.css("left",ag.left+35)}clearTimeout(V)}).mouseout(T);$(".lb-landing .lb-tooltip").mouseover(function(){clearTimeout(V)}).mouseout(T);$(".lb-landing span.marker-self").mouseover(function(af){$(".lb-landing #lbt-self").stop().addClass("lb-active");s=$(this).data("sdsc");var ag=s.split("In");var ae=ag[0]+" In";var ad=ag[1];$(".lb-landing #lbt-self").find("#adsc").text(ae);$(".lb-landing #lbt-self").find("#sdsc").text(ad);clearTimeout(V)}).mouseout(T);$(".lb-landing .lazy-img").lazyload({threshold:200,failure_limit:10});$(".fbsharelink, .twsharelink").click(function(ad){ad.preventDefault();window.open($(this).attr("href"),"fbShareWindow","height=450, width=550, top="+($(window).height()/2-275)+", left="+($(window).width()/2-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0");return false});$(".top-ticker .t-offer, #press-room .clickable").click(function(){window.location=$("a",this).attr("href")});var e=new Date($("#date_today").val());for(var W=1;W<=7;W++){var v=document.createElement("option");e.setDate(e.getDate()+1);var X=e.getDate();if(X<10){X="0"+X}var z="en-us";var d=e.toLocaleString(z,{month:"short"});var A=e.toLocaleString(z,{weekday:"long"});var p=e.getMonth()+1;if(p<10){p="0"+p}v.value=e.getFullYear()+"-"+p+"-"+X;if(W!=1){v.innerHTML=X+" "+d+"  - "+A+"&nbsp;&nbsp;&nbsp;"}else{v.innerHTML=X+" "+d+"  - Tomorrow&nbsp;&nbsp;&nbsp;"}$("#try_date_pd").append(v)}$(".read-more").click(function(){var ad=$(this).parents(".tc").find(".tc-content");ad.toggleClass("show");if(ad.hasClass("show")){$(this).text("Hide")}else{$(this).text("Read More")}});$(".clns-banner a.link-a").click(function(){$("body,html").animate({scrollTop:560},650,"easeInOutQuad");return false});$(".clns-banner a.link-b").click(function(){$("body,html").animate({scrollTop:450},650,"easeInOutQuad");return false});$(".clns-banner a.link-c").click(function(){$("body,html").animate({scrollTop:1000},650,"easeInOutQuad");return false});if(window.location.search.indexOf("target=gc")>-1){$("body,html").animate({scrollTop:1000},650,"easeInOutQuad")}if(window.location.search.indexOf("target=ej")>-1){$("body,html").animate({scrollTop:560},650,"easeInOutQuad")}$(".bs-accordion h4").click(function(){$(this).parent(".bs-accordion").toggleClass("active")});$(".bs-accordion.bsa1 h4").click(function(){var ad=$(this).parent(".bs-accordion");if(ad.hasClass("active")){$(this).find("span").text("Hide price breakup");$(this).find("i").removeClass("icon-ion-android-arrow-dropdown").addClass("icon-ion-android-arrow-dropup")}else{$(this).find("span").text("View price breakup");$(this).find("i").removeClass("icon-ion-android-arrow-dropup").addClass("icon-ion-android-arrow-dropdown")}});$(".bs-accordion.bsa2 h4").click(function(){var ad=$(this).parent(".bs-accordion");if(ad.hasClass("active")){$(this).find("span").text("Hide Customization");$(this).find("i").removeClass("icon-ion-android-arrow-dropdown").addClass("icon-ion-android-arrow-dropup")}else{$(this).find("span").text("Customize this product");$(this).find("i").removeClass("icon-ion-android-arrow-dropup").addClass("icon-ion-android-arrow-dropdown")}});$(".bs-accordion.bsa3 h4").click(function(){var ad=$(this).parent(".bs-accordion");if(!ad.hasClass("active")){$(this).parent(".bs-accordion").find(".pe-input").removeClass("active").hide();$(this).parent(".bs-accordion").find(".pe-checkbox").removeClass("checked")}});var N=$("#details-top-right .pe-input .form-text");$(".p-engraving .pe-form .pe-label label").click(function(ae){ae.stopPropagation();var ad=$(this).find("input[type=checkbox]").is(":checked");if(ad){$(".p-engraving .pe-input").slideDown().addClass("active");$(this).find(".pe-checkbox").addClass("checked")}else{$(".p-engraving .pe-input").slideUp().removeClass("active");$(this).find(".pe-checkbox").removeClass("checked");N.attr("value","")}});N.change(function(){if(N.val().length>0){N.removeClass("invalid")}else{N.addClass("invalid")}});$("body").on("click",".wishlist, .no-wishlist",function(){browseWishlist($(this))});$("body").on("click",".wishlist-bp-tooltip .close",function(){$(this).closest(".pr-i, .pr-d-inner").find(".wishlist-bp-tooltip").remove();trackGA("browse page share popup","later clicked")});$(".wishlist-shared-id").on("click",function(){var ae=$(this).data("auth");var ad=$(this).data("id");if(ae==true){sharedlistRedirect(ad);return false}else{action="sharedlistRedirect";actionParams=ad;return}});var M=$(".country-switcher").find(".top-level-dd ").find(".top-level-dd-inner").find("span").html();var aa=$(".country-switcher").find(".orange-color").html();var c=true;var F=false;if($("#ringselect")){F=true}if(M&&!M.match(/inr/i)){c=false}$("#buy_block").validationEngine({showOneMessage:true,scroll:false});var w=$("#ringselect").val();$("#selectedSize").val(w);if(w==""){$("#selectedSize").val("select size")}jQuery.extend(jQuery.fancybox.defaults,{autoCenter:false,fixed:false});$(".signInToKnowBestPrice").on("click",function(){action="signInToKnowBestPriceFunction";var ad=$("#discountedPriceSpan").text();var ae=$("#our_price_display").text();var af=ae.replace(/,/g,"");if(ad!=undefined){af=ad.replace(/,/g,"")}actionParams="showingPrice="+af});$(".emi-help").click(function(){emiDetails()});var H;function a(){H=setTimeout(function(){$(".product-sets-wrapper ul li").removeClass("active")},1000)}$(".product-sets-wrapper ul li").mouseover(function(ad){$(this).addClass("active").siblings().removeClass("active");clearTimeout(H)}).mouseout(a);$(".list-job-wrapper .list-item h3").click(function(){$(this).parent().find(".content").toggleClass("active");$(this).find("i").toggleClass("hideit")});$(".shipping-steps .completed > .icon-bullet, .shipping-steps .active > .icon-bullet").mouseover(function(){$(this).parents(".shipping-steps").find(".tooltip").hide();$(this).siblings(".tooltip").show()});$(".click-build-preset-solitaire").click(function(af){af.preventDefault();var ae=$("#ringselect").val();var ad=$("#category").val();logInitiatedSolitaireCustomizationEvent();if(ad!=null&&ad!=""){if((ad=="Ring")&&(ae==null||ae=="")){$(".addToCart").submit()}else{$("#preset-ringselect").replaceWith('<input type="hidden" id="preset-ringselect" name="chainselect" value="'+ae+'" />');$("#product-page-design-form").submit()}}});$("#blue-wallet label").click(function(ai){ai.stopPropagation();ai.preventDefault();var am=false;if($("#voucher-code input[type=checkbox]").is(":checked")){am=true}var ae=false;var ak=$(this).find("input[type=checkbox]").val();var ad=$("#updateUserData .form-group:first-child #login-email").val();var af="0";if($(this).find("input[type=checkbox]").is(":checked")){ae=false;$(this).parents("#blue-wallet").removeClass("show-content");$(this).parents("#blue-wallet").find("input[type=checkbox]").prop("checked",false);$("#blue-wallet label i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline");$(".your-order .cart-footer .blue-wallet-applied").addClass("hide")}else{ae=true;$(this).parents("#blue-wallet").addClass("show-content");$(this).parents("#blue-wallet").find("input[type=checkbox]").prop("checked",true);$("#blue-wallet label i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark");$(".your-order .cart-footer .blue-wallet-applied").removeClass("hide")}var ag=$(".your-order .cart-footer .you-pay #getDiscountedPrice").html();var ah=$(".your-order .cart-footer .you-pay #getActualPrice").html();var aj=$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html();var af=$(".your-order .cart-body .offer-container #actual-blue-wallet").val();var al=0;if(ae){al=parseFloat(ag.replace(/,/g,""))-parseFloat(af.replace(/,/g,""));if(al<=0){al=0;aj=parseFloat(ag.replace(/,/g,""))}else{aj=af}}else{al=parseFloat(ag.replace(/,/g,""))+parseFloat(aj.replace(/,/g,""));aj=0}$(".your-order .heading .right .you-pay").html(al.toLocaleString());$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(al.toLocaleString());$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(aj.toLocaleString());if(al=="0"){$(".cart-footer .confirm-btn-wrapper").removeClass("hide");$(".cart-footer #cart-continue-to-pay").addClass("hide");$("section.payment-options").addClass("hide")}else{$(".cart-footer .confirm-btn-wrapper").addClass("hide");$(".cart-footer #cart-continue-to-pay").removeClass("hide");$("section.payment-options").removeClass("hide")}if(al<parseFloat(ah.replace(/,/g,""))){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}else{$(".your-order .cart-footer .you-pay .price-without-discount").addClass("hide")}});filtersBrowsePage();if($("body").hasClass("with-white-header")){if($(window).scrollTop()<=88){setTimeout(function(){$("html.p-details, html.p-details body, body.tah-landing-page").animate({scrollTop:"88"},650,"easeOutSine")},500)}}else{if($("body").hasClass("with-ticker")){if($(window).scrollTop()<75){setTimeout(function(){$("html.p-details, html.p-details body").animate({scrollTop:"75"},650,"easeOutSine")},500)}}else{if($(window).scrollTop()<43){setTimeout(function(){$("html.p-details, html.p-details body").animate({scrollTop:"43"},650,"easeOutSine")},500)}}}$("#shop-in-shop-form").validationEngine();$(".pla-buynow").click(function(ad){$("#buy_block").submit()});showVoucherAddPopUp();var l=$(".size-helper").data("type");$("#map-canvas").click(function(){return false});$(".size-helper .locate-me").click(function(ad){ad.preventDefault();ad.stopPropagation();var ae=$(this);ae.find("span").addClass("hidden");ae.find("img").removeClass("hidden");setTimeout(function(){locateMe();ae.find("span").removeClass("hidden");ae.find("img").addClass("hidden")},500)});$(".size-helper .map-search-input-wrapper .icon-close").click(function(){$("#map-search-input").val(" ").focus();var ad=$("#map-location").val();trackGA(l+"-Size-Help","Initiated-Location-Change",ad)});$(".size-helper .confirm-fht label").click(function(){var ad=$(this).find("#fht").is(":checked");if(ad){$(".size-helper .time-date-block").removeClass("in-active");$(".size-helper").removeClass("wo-hto")}else{$(".size-helper .time-date-block").addClass("in-active");$(".size-helper").addClass("wo-hto")}});$("#sizeHelperS1").validationEngine();$("#sizeHelperS1 .btn").click(function(){if($("#sizeHelperS1").validationEngine("validate")==false){return false}$(this).parents(".single-page").removeClass("active");var ad=$("#map-location").val();trackGA(l+"-Size-Help","Provided-Mobilenumber-Location",ad);geocode("desktop")});$(".size-helper #size-helper-s2 .btn").click(function(ae){var ad=$("#map-search-input").val();trackGA(l+"-Size-Help","Confirmed_Location",ad);sizeHelperProceed()});$("#sizeHelperS2").validationEngine();$("#sizeHelperS2 .btn").click(function(af){if($("#sizeHelperS2").validationEngine("validate")==false){return false}var ae=$("#size-helper-s3 #fht").is(":checked");$(this).parents(".single-page").removeClass("active");var ad=$(".size-helper").hasClass("wo-hto");if(ad){$(".size-helper").removeClass("wo-hto")}if($(".is-hto-available").is(":visible")){if(ae&&!($("#is-hto-available-check").is(":hidden"))){$("#size-helper-s4").addClass("active");$(".size-helper").removeClass("stp3").addClass("stp4");trackGA(l+"-Size-Help","Request-Completed-With-HTO")}else{$("#size-helper-s5").addClass("active");$(".size-helper").removeClass("stp3").addClass("stp5");trackGA(l+"-Size-Help","Request-Completed-Without-HTO")}}else{$("#size-helper-s5").addClass("active");$(".size-helper").removeClass("stp3").addClass("stp5");trackGA(l+"-Size-Help","Request-Completed")}bookRingSizerAndHto(ae,"desktop")});$("#ringSizerForm").validationEngine();$("#ringSizerForm .btn").click(function(){if($("#ringSizerForm").validationEngine("validate")==false){return false}bookRingSizer()});$(".size-helper .address-block textarea").on("focus",function(){$(this).parent().find(".edit-label").hide()});$(".size-helper .edit-label").on("click",function(){$(this).parent().find("textarea").focus()});$(document).on("click",".bvideo-icon",function(af){af.preventDefault();var ai=$(this).parents("li").data("pid").toString();var aj=$(this).data("video-url");var al=$(this).data("poster-url");var ag="";ag+='<div class="bvideo-wrap">';ag+='<video class="bvideo" width="100%" height="100%" poster="'+al+'" loop controls>';ag+='<source src="'+aj+'" type="video/mp4">';ag+="</video>";ag+='<span class="close-bvideo icon-ion-android-close"></span>';ag+="</div>";$(this).parents("li").find(".inner .p-image").append(ag);$(this).parents("li").find(".bvideo").get(0).play();$(this).parents("li").find(".bvideo-icon").hide();logVideoPlayedPausedByUserEvent("Play","Manual");var ah=$(this).parents("li").find("video");bStartTime=Date.now();var ak=1;var ad=0,ae=0;ah.get(0).addEventListener("timeupdate",function(){if(ad==0){ad=1;ae=1}var ao=ah.get(0).duration;var am=(ah.get(0).currentTime/ao)*100;if(am==0&&ae==1){ae=0;var an=Date.now();trackGA("Video","ClickedPlay-ProductHover",ai,(an-bStartTime),false)}if(video.paused){logVideoPlayedPausedByUserEvent("Pause","Manual")}});trackGA("Video","ClickedPlay-ProductHover",ai,0,false)});$("body").on("click",".close-bvideo",function(){var ad=$(this).parents("li").data("pid").toString();$(this).parents(".bvideo-wrap").remove();$(".bvideo-icon").show();trackGA("Video","StoppedVideo-ProductHover",ad)});$("body").on("mouseleave","li.three-column-browse .inner",function(){$(this).find(".bvideo-wrap").remove();$(this).find(".bvideo-icon").show()});$(document).on("click",".bvideo-icon2",function(ai){ai.preventDefault();jQuery.extend(jQuery.fancybox.defaults,{autoCenter:true,fixed:true});var ah=$(this).data("video-url");var ae=$(this).data("poster-url");var ag=$(this).data("viewurl");var af=$(this).parents("li").data("pid");var ad="";ad+='<div class="bvideo-wrap">';ad+='<video class="bvideo" width="100%" height="100%" poster="'+ae+'" loop controls>';ad+='<source src="'+ah+'" type="video/mp4">';ad+="</video>";ad+='<div class="view-details"><a href="javascript:;" data-url="'+ag+'" data-pos="'+af+'"  id="pd-page-url" class="btn btn-block style2">View Details >></a></div>';ad+="</div>";$("#bvideo-fancybox").html("");$("#bvideo-fancybox").html(ad);trackGA("Video","ClickedPlay-ProductHover",""+af);setTimeout(function(){$("#bvideo-fancybox video").get(0).play();videoTimeUpdate($(".bvideo").get(0),Date.now(),false)},1000)});$("body").on("click","#bvideo-fancybox .btn",function(){trackGA("Video","ClickedViewDetails-VideoHover")});$("body").on("click","#pd-page-url",function(ah){ah.preventDefault();var ae=$(".product-grid li[data-pid='"+$(this).data("pos")+"']"),ad=$(this).data("url"),af=Math.round(ae.offset().top-120),ag=ae.data("page");location.href=ad;isProductClicked=true;window.location.hash="s_"+af+"_"+ag;return false});if(PAGE_TYPE=="browse"&&$("body").hasClass("animated-ui-cue")){var S=$.cookie("floatingElement");if(S==null){$(".floating-element").show();$.cookie("floatingElement",1,{expires:1});var y=$(".floating-element").data("count");trackGA("BsUI","ScrollDownAnimationShown",""+y)}var f=$(window);var j=f.scrollTop();f.scroll(function(){if(f.scrollTop()>0){$(".floating-element").fadeOut()}j=f.scrollTop()});var E=$(window).height();$(".floating-element").click(function(){$("html, body").animate({scrollTop:E})})}$("body").on("click",".homeTryOnBrowseButton",function(){var ae=$(this).parents("li").data("pid");$("#htoButtonId").val($(this).attr("id"));var ad=$(this).parents("li").find(".product-details").data("details");ad=ad.split("__");productDetails.name=ad[0];productDetails.id=ad[1];productDetails.category=ad[2];return addToHomeTryOn(ae,productDetails)});$("body").on("click","button.update-design-quotation",function(){var ai=this;var af=$(this);var ae=af.data("sku-code");var ah={};var aj=[];var ag={};var ad=af.data("quotation-item-id");if(ad!=undefined&&ad!=""){ag.quotationItemId=ad}if(ae!=undefined&&ae!=""){ag.skuCode=ae;ag.quantity=1;aj.push(ag)}ah.quotationItemUpdateRequests=aj;$.ajax({type:"POST",url:GLOBAL_CTX+"/account/quotation/update-latest-active-quotation",async:true,cache:false,contentType:"application/json",dataType:"json",data:JSON.stringify(ah),success:function(ak){if(!ak.hasError){o(ai,af,ak)}else{alert(ak.error)}},error:function(ak){alert("something went wrong")}})});$("body").on("click","button.add-design-quotation",function(){var af=this;var ae=$(this);var ad=ae.data("design-code");$.ajax({type:"POST",url:GLOBAL_CTX+"/account/quotation/add-design-to-active-quotation",async:true,cache:false,contentType:"application/json",dataType:"json",data:ad,success:function(ag){if(!ag.hasError){o(af,ae,ag)}else{alert(ag.error)}},error:function(ag){alert("something went wrong")}})});function o(ai,ae,af){var aj=$("#sis-quotation-shortlist");if(aj.find(".cart-count").length===0){aj.append("<span class='cart-count'></span>")}aj.find("span.cart-count").text(af.quotationItemsCount);if(af.quotationId){aj.prop("href",GLOBAL_CTX+"/account/quotation/"+af.quotationId+"/edit")}ai.outerHTML="<span class='btn btn-block sis-shortlisted'>Added to Quotation</span>";var ah=ae.data("product-name");var ag=ae.data("design-id");var ad=ae.data("design-code");clevertap.event.push("Added to Quotation",{"Product Name":ah,"Design ID":ag,"Design Code":ad})}$("#refinesSearch").html($("#filterRefinesSearch").html());showHideFilter();$(".sidebar-left input").click(function(){var ad="";if(typeof search_query!="undefined"){ad=ad+"search_query="+search_query+"&"}window.location=$(this).attr("link")});$(window).load(function(){$("#top-filter-hover .content").mCustomScrollbar()});$(".new-filters .ndd").mouseover(function(){var ah=$(this);var ag=ah.offset();var af=$(".nf-ndd-info");var ad=(ag.left-af.width()+3);if($(window).scrollTop()>150){var ae=(ag.top+ah.height()+15);af.removeClass("bs-tt-br").addClass("bs-tt-tr")}else{var ae=(ag.top-af.height())-(ah.height()+20);af.removeClass("bs-tt-tr").addClass("bs-tt-br")}af.addClass("active");af.css({left:ad,top:ae})}).mouseout(function(){$(".nf-ndd-info").removeClass("active").removeAttr("style")});$(".new-filters .content .form-item.disabled").on("mouseover",function(){var ag=$(this).offset();var af=$(".disabled-filter-tt");var ad=($(this).width()+ag.left)-5;var ae=(ag.top-af.height())+($(this).height()/2)+7;af.addClass("active");af.css({left:ad,top:ae})}).mouseout(function(){$(".disabled-filter-tt").removeClass("active").removeAttr("style")});$(".pd-collections-info .pd-collections-info-title a").mouseover(function(ad){ad.stopPropagation();$(".pd-collections-info .bs-tt").addClass("active");clearTimeout(timer)}).mouseout(function(){timer=setTimeout(function(){$(".pd-collections-info .bs-tt").removeClass("active")},400)});$(".pd-collections-info .bs-tt").mouseover(function(){clearTimeout(timer)}).mouseout(function(){timer=setTimeout(function(){$(".pd-collections-info .bs-tt").removeClass("active")},400)});$(window).load(function(){$("#top-filter-hover .content").mCustomScrollbar()});$("#breadcrumb ul li:last-child a").on("click",function(ad){ad.preventDefault()});if(PAGE_TYPE=="product"){var x;$("#slider-main #wrap").hover(function(){if(!x){var ad=$("#customizationId").val();x=window.setTimeout(function(){x=null;var ae=new Object();ae._eventId="zoomed_over_product";ae.pageType=PAGE_TYPE;ae.id=ad;processServerEvent(ae)},500)}},function(){if(x){window.clearTimeout(x);x=null}else{$("#SeeAllEvents").slideUp("slow")}})}$(".explore-rings .btn").click(function(){$.fancybox.close();return false});$(".appointment.updated a.edit-appointment").click(function(){$(".appointment.updated").addClass("hidden");$(".appointment.edit").removeClass("hidden")});loadInstagramWidget();$(window).scroll(function(){loadInstagramWidget()});loadFacebookPageWidget();$(window).scroll(function(){loadFacebookPageWidget()});$("body").on("click","#airpayEmiPopup-trigger",function(){var ad=parseInt($(".final-pd-price").text().replace(/,/g,""));if(is_airpay_emi_available&&ad>airpay_min_eligibility){airPayEMIDetails(ad)}if(is_kissht_emi_available&&ad>kissht_min_eligibility&&ad<kissht_max_eligibility){getKisshtPlan(ad)}trackGA("EMI","Viewed EMI Plans","",ad)});$("body").on("click","#airpayEmiPopup .emi-tab",function(){$(".emi-tab").removeClass("active");$(this).addClass("active");if($(this).hasClass("credit-card-emi")){$(".airpay-content").removeClass("hidden");$(".kissht-content").addClass("hidden")}if($(this).hasClass("without-card-emi")){$(".kissht-content").removeClass("hidden");$(".airpay-content").addClass("hidden");trackGA("EMI","ViewedEMIwithoutCardPlans")}});if(PAGE_TYPE=="product"||execution_step=="viewReviewAndPlaceOrder"){var h=$(".final-pd-price").text().replace(/,/g,"");if(is_airpay_emi_available||is_kissht_emi_available){getEMIMinValue(h)}}if(execution_step=="checkoutPaymentDetails"){$(".pincode-check-wrapper .form-control").keypress(function(ae){var ad=(ae.keyCode?ae.keyCode:ae.which);if(ad=="13"){ae.preventDefault();$(".check-kissht-pincode").trigger("click")}});$(".check-kissht-pincode").click(function(ad){ad.preventDefault();$(".error-container").removeClass("pulse animated");var ae=$(this).parents(".pincode-check-wrapper").find("input.pincode").val();isPinSupported(ae,function(af){if(af==true){$(".kissht-available").removeClass("hidden");$(".kissht-not-available").addClass("hidden");$("#emiWithKissht").attr("data-pincode",ae)}else{$(".kissht-available").addClass("hidden");$(".kissht-not-available").removeClass("hidden");$(".kissht-pincode").text(ae);$("#emiWithKissht").attr("data-pincode",ae);$(".error-container").addClass("pulse animated")}})});var ac=$("#emiWithKissht").data("spincode");var Q=$("#emiWithKissht").data("pincode");if(Q==ac){$(".kissht-msg-address").text("shipping")}else{$(".kissht-msg-address").text("billing")}}$(".store-feature .inner").hover(function(){$(this).find(".hover-content").addClass("active")},function(){$(".hover-content").removeClass("active")});var Z=$(".customer-review .product-image img");loadTestimonialProductImages(Z);$(window).scroll(function(){loadTestimonialProductImages(Z)})});function loadTestimonialProductImages(a){if($(window).scrollTop()>100){a.each(function(b,c){var d=c.getAttribute("data-src");c.setAttribute("src",d)})}}function loadInstagramWidget(){if($(window).scrollTop()>100){$("#lightWidget").replaceWith('<script src="//lightwidget.com/widgets/lightwidget.js"><\/script><iframe src="//lightwidget.com/widgets/2d3204bf89c15980af344dafe7b88a3c.html" id="lightwidget_2d3204bf89" name="lightwidget_2d3204bf89"  scrolling="no" allowtransparency="true" class="lightwidget-widget" style="width: 100%; border: 0; overflow: hidden;"></iframe>')}}function loadFacebookPageWidget(){if($(window).scrollTop()>100){$("#facebookWidget").replaceWith('<div class="fb-page" data-href="https://www.facebook.com/bluestonejewels" data-width="515" data-hide-cover="false" data-show-facepile="true" data-tabs="false"></div><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s); js.id = id;js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.7";fjs.parentNode.insertBefore(js, fjs);}(document, "script", "facebook-jssdk"));<\/script>')}}function showVoucherAddPopUp(){if($("#showFreeGiftRemovalPopupDiv").html()=="true"){$(".fg-popup-wrapper #addVoucherPopup").fancybox({autoScale:false,wrapCSS:"fancybox-style2"}).trigger("click")}}function removeProductPopup(b,a){console.log("testing cartItemId is :"+b);$("#removeProductPopup_"+b).fancybox().trigger("click")}function jewelleryExchangeRegister(){var a=$("#jewellery-exchange-form #name").val();var e=$("#jewellery-exchange-form #email").val();var d=$("#jewellery-exchange-form #phone").val();var f=$("#jewellery-exchange-form .je-city input[type=radio]:checked").val();var g=$("#jewellery-exchange-form #pincode").val();var j=$("#jewellery-exchange-form #address").val();var c=$("#jewellery-exchange-form #tnc").val();var h={je_name:a,je_email:e,je_phone:d,je_city:f,je_pincode:g,je_address:j,je_tnc:c,};var b=JSON.stringify(h);$.ajax({type:"POST",url:GLOBAL_CTX+"/exchange_jewellery/store_exchange_leads",dataType:"json",data:{data:b},success:function(k){if(!k.hasError){$("#popup-messages").html('<div class="success-container text-center"><div class="success-container-inner"><i class="icon-ion-ios-checkmark-outline"></i><br>Thank you!<br> We will get back to you soon.</div><div>');$("#popup-messages").fadeIn();$("#jewellery-exchange-form").hide()}else{$("#popup-messages").html('<div class="error-container text-center"><div class="error-container-inner">There was some error while submitting the form.</div><div>');$("#popup-messages").fadeIn();$("#jewellery-exchange-form").show()}}})}function shopInShopRegister(){if($("#shop-in-shop-form").validationEngine("validate")==false){return false}else{$("#popup-messages").html('<div class="success-container text-center"><div class="success-container-inner"><i class="icon-ion-ios-checkmark-outline"></i><br>Thank you!<br> We will get back to you soon.</div><div>');$("#popup-messages").fadeIn();$("#shop-in-shop-form").hide()}}function filtersBrowsePage(){$(".sidebar-left input").click(function(){var a="";if(typeof search_query!="undefined"){a=a+"search_query="+search_query+"&"}window.location=$(this).attr("link")});$(window).load(function(){$("#top-filter-hover .content").mCustomScrollbar()})}$(document).ready(function(){$(".order-details-block .orderItem-cancel").fancybox({height:500,width:400,scrolling:"no",});$(".order-details-block .orderItem-return").fancybox({height:500,width:400,scrolling:"no",});$(".order-details-block .orderItem-getPoints").fancybox({height:500,width:400,scrolling:"no",});$(".order-details-block .orderItem-getPrice").fancybox({height:250,width:200,scrolling:"no",})});$(".order-details-block #orderItem-cancel-no").click(function(){$.fancybox.close();return false});$(".order-details-block .orderItem-cancel-ok").click(function(){$.fancybox.close();return false});$(".order-details-block .orderItem-return-error-ok").click(function(){$.fancybox.close();return false});$(document).ready(function(){$(".solitaire-landing .has-carousel .product-grid").owlCarousel({items:4,lazyLoad:true,slideSpeed:1200,paginationSpeed:1200,loop:false,scrollPerPage:true,rewindNav:false,responsiveBaseWidth:".row",pagination:false,navigation:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]})});$(document).on("click",".solitaire-landing .signature .product-grid a",function(a){a.preventDefault()});$(document).on("click",".solitaire-landing .signature .Pendant a",function(){window.location=$(".solitaire-landing a.sol-pendant").attr("href")});$(document).on("click",".solitaire-landing .signature .Earring a",function(){window.location=$(".solitaire-landing a.sol-earring").attr("href")});$(document).on("click",".solitaire-landing .signature .Ring a",function(){window.location=$(".solitaire-landing a.sol-ring").attr("href")});$("#custDetailsForRingSizerForm").submit(function(a){a.preventDefault();return false});function noZero(e,f,d,c){var b=f[d+1];if(e.val().charAt(0)==0){return"First letter cannot be 0."}}$(document).keyup(function(a){if(a.keyCode==27){$(".offers-carousel").animate({top:-260},500,"easeOutCubic",function(){$(".offers-overlay").fadeOut(700,"easeOutCubic");$(".offers-badge").animate({top:0},700,"easeOutCubic")})}});function submitTryAtHome(){var b=$("#try_name").val();var a=$("#try_phone").val();var d=$("#try_city :selected").val();var c=$("#referer").val();if(d=="Other"){d=$("#try_other_city").val()}$.ajax({type:"POST",url:GLOBAL_CTX+"/tryAtHome",async:false,cache:false,dataType:"json",data:"userName="+encodeURI(b)+"&contactNo="+encodeURI(a)+"&city="+encodeURI(d)+"&referrer="+encodeURI(c),success:function(e){if(!e.hasError){$("#try-home-msg").show();$("#try-at-home-form").each(function(){this.reset()});return true}else{$("#try-home-msg").html(e.message);$("#try-home-msg").show();$("#try-at-home-form").each(function(){this.reset()});return true}}})}function getCookie(d){var b=d+"=";var a=document.cookie.split(";");for(var e=0;e<a.length;e++){var f=a[e];while(f.charAt(0)==" "){f=f.substring(1)}if(f.indexOf(b)==0){return f.substring(b.length,f.length)}}return""}function formatIndianNumber(j,a,f,k){j=Number(j).toFixed(a);var b=j+"";var d=b.split(".");var g=(d.length==2)?d[0]:b;var c=("0."+(d.length==2?d[1]:0)).substr(2);var e=g.length;var h="";if(e>3){h=f+g.substring(e-3);g=g.substring(0,e-3);e-=3;while(e>2){h=f+g.substring(e-2)+h;g=g.substring(0,e-2);e-=2}}g+=h;if(parseInt(a)==0){return g}return g+k+(c>0?c:"00")}var customerPayment=11;var bluestonePayment=1;function setNumberOfPayment(b,a){customerPayment=b;bluestonePayment=a;$("#userPayments").html(customerPayment);$("#totalPayments").html(b);updatePrice($(".input-price").val())}function updatePrice(a){$("#have-question-landing").find(".customer-invested").html(formatIndianNumber(a*customerPayment,0,",",".")+"/-");$("#have-question-landing").find(".bs-invested").html(formatIndianNumber(a*bluestonePayment,0,",",".")+"/-");$("#have-question-landing").find(".total-invested").html(formatIndianNumber(a*(customerPayment+bluestonePayment),0,",",".")+"/-")}$(function(){$("ul.products-grid li, #daily-fortune, #s-d li, .gift-link, .landing-browse-page").click(function(){window.location=$("a",this).attr("href")});$("#voucher-form .btn").click(function(a){if(($("#voucher-form .form-control").val()=="")){a.preventDefault();$("#voucher-form .form-control").addClass("error")}else{$("#voucher-form .form-control").removeClass("error")}});$("#newOffer-form .btn").click(function(a){if(($("#newOffer-form .form-control").val()=="")){a.preventDefault();$("#newOffer-form .form-control").addClass("error")}else{$("#newOffer-form .form-control").removeClass("error")}})});$(document).ready(function(){$("#featured-tabs ul.tabs li:first").attr("rel","tab1");$(".tabs li").click(function(c){switch_tabs($(this));c.preventDefault()});if(PAGE_TYPE=="product"&&!getCookie("tah_tooltip")){setTimeout(function(){$("#homeTryOnProductButton").parent().find(".jtooltip").addClass("active animated fadeInDown");createCookie("tah_tooltip","true",365)},5000)}if(PAGE_TYPE=="browse"&&!getCookie("tah_tooltip_bp")&&!$(".tah-add-option-wrap").hasClass("hidden")){setTimeout(function(){var c=false;$("#product_list_ui li").each(function(d,e){if(!$(e).hasClass("banner-ab-bp")&&$(e).find(".tah-add-option").hasClass("tah-plus-link")&&!c){var f='<div class="tah-bp-tooltip"> <div class="tooltip-style2 jtooltip dark-bg active animated fadeInRight">You can add a design to your try at home by clicking here<div class="close-tooltip">Ok, Got it</div></div> </div>';$(this).find(".tah-plus-link").after(f);trackGA("TAH","BP Tooltip","Tooltip Shown");createCookie("tah_tooltip_bp",true);c=true}})},1000);$("body").on("click",".tah-bp-tooltip .close-tooltip",function(){$(".tah-bp-tooltip").remove();trackGA("TAH","BP Tooltip","Got it clicked")})}switch_tabs($(".defaulttab"));var b;function a(){b=setTimeout(function(){$(".jtooltip-trigger").parent().find(".jtooltip").removeClass("active")},400)}$(".jtooltip-trigger").mouseover(function(c){c.stopPropagation();$(".jtooltip").removeClass("active animated fadeInDown");$(this).parent().find(".jtooltip").addClass("active");clearTimeout(b)}).mouseout(a);$(".jtooltip").mouseover(function(){clearTimeout(b)}).mouseout(a);htoButtonDisabledFormOne();htoButtonDisabledFormTwo();$("#try-at-home-form_pd input").keyup(function(){htoButtonDisabledFormOne()});$("#try-at-home-form_pd_2 input, #try-at-home-form_pd_2 textarea").keyup(function(){htoButtonDisabledFormTwo()});$(".hto-skip").click(function(){$(".f-step2").slideUp();$(".f-step3").slideDown()})});function htoButtonDisabledFormOne(){var a=false;$("#try-at-home-form_pd input").each(function(){if($(this).val()==""){a=true}});if(a){$("#try-at-home-form_pd #name_pd").attr("disabled","disabled").addClass("btn-disabled")}else{$("#try-at-home-form_pd #name_pd").removeAttr("disabled").removeClass("btn-disabled")}}function htoButtonDisabledFormTwo(){var a=false;$("#try-at-home-form_pd_2 input.form-control, #try-at-home-form_pd_2 textarea.form-control").each(function(){if($(this).val()==""){a=true}});if(a){$("#try-at-home-form_pd_2 #name_pd").attr("disabled","disabled").addClass("btn-disabled")}else{$("#try-at-home-form_pd_2 #name_pd").removeAttr("disabled").removeClass("btn-disabled")}}function switch_tabs(a){$(".tab-content").fadeOut("fast");var b=a.attr("rel");$("#"+b).fadeIn("slow");a.addClass("selected")}$(function(){$("#featured-categories section, #featured-blocks .block-style1, #featured-blocks .box-link, #featured-cat section, #featured-cat2 section").click(function(){window.location=$("a",this).attr("href")})});$(function(){$("#featured-cat img").hover(function(){$(this).stop().animate({top:"-5"},200)},function(){$(this).stop().animate({top:"0"},400)})});$(document).ready(function(){$("#featured-next, #featured-prev, #tfeatured-next, #tfeatured-prev").css({opacity:0});$("#trends, #featured-inner").hover(function(){$("#featured-next, #featured-prev, #tfeatured-next, #tfeatured-prev",this).stop().animate({opacity:"1"},{duration:300})},function(){$("#featured-next, #featured-prev, #tfeatured-next, #tfeatured-prev",this).stop().animate({opacity:"0"},{duration:300})})});function performAction(a){if(a.checked==false){downQuantity(a.id.replace("cart_quantity_up_",""),1)}else{upQuantity(a.id.replace("cart_quantity_up_",""))}}$(document).ready(function(){$("a.fancybox-popup").fancybox({autoScale:false,afterClose:function(){$(".formError").remove()}});$(".fancybox-popup-style2").fancybox({autoScale:false,wrapCSS:"fancybox-style2",afterClose:function(){$(".formError").remove()}});$(".fancybox-popup-style3").fancybox({width:560,height:560,autoSize:false,wrapCSS:"fancybox-style3",afterClose:function(){$(".formError").remove();trackGA("BsUI","BrowsePage","Video Fancybox Closed");$("body").off("click",".fancybox-overlay")},afterShow:function(){setTimeout(function(){$("body").on("click",".fancybox-overlay",function(){$.fancybox.close()})},1000)},helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.8)"},closeClick:false}}});$(".fancybox-popup-style-4").fancybox({width:726,height:426,autoSize:false,wrapCSS:"fancybox-style-4",afterClose:function(){$(".formError").remove()},tpl:{closeBtn:'<a title="Close" class="fancybox-item fancybox-close myClose" href="javascript:;"><i class="icon-ion-android-close"></i></a>'},helpers:{overlay:{css:{background:"rgba(0, 0, 0, 0.8)"}}}});$(".fancybox-popup-style-5").fancybox({autoScale:false,wrapCSS:"fancybox-style-5",afterClose:function(){$(".formError").remove()}});$(".fg-fancybox-close").click(function(){$.fancybox.close();return false});$("a.fancybox-popup-ov").fancybox({autoScale:false,wrapCSS:"fancybox-overflow-visible",afterClose:function(){$(".formError").remove()},helpers:{overlay:{closeClick:false}},keys:{close:[]}});$("a.fancybox-popup-trn").fancybox({autoScale:false,wrapCSS:"fp-transparent"});gridView()});function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=c+"="+d+a+"; path=/"}function gridView(){$("#list-view-result").hide().removeClass("list-view-result-active");$("#grid-view-result").show().addClass("grid-view-result-active");$("#grid-view-span").addClass("grid-view-active");$("#list-view-span").removeClass("list-view-active");createCookie("viewType","grid",365);$(".product-grid .pr-i").lazyload();$("body").removeClass("browse-listView")}function listView(){$("#list-view-result").show().addClass("list-view-result-active");$("#grid-view-result").hide().removeClass("grid-view-result-active");$("#grid-view-span").removeClass("grid-view-active");$("#list-view-span").addClass("list-view-active");createCookie("viewType","list",365);$(".product-grid .pr-i").lazyload();$("body").addClass("browse-listView")}function updateAddressByCountry(){var a=$("#countryId_delivery option:selected").text();if(a=="India"){updateCityStateByPincode();$("#edit-pin-wrapper .description").show();$("#edit-pin-wrapper").removeClass("no-auto-population");$("#edit-pin-wrapper .label_txt").html("Pin Code")}else{$("#edit-pin-wrapper .description").hide();$("#edit-pin-wrapper").addClass("no-auto-population");$("#edit-pin-wrapper .label_txt").html("Zip Code")}$("#edit-state-wrapper").children().remove();$.ajax({type:"GET",url:GLOBAL_CTX+"/address/states",data:"ajax=true&id_country="+$("#countryId_delivery").val(),async:false,cache:true,dataType:"json",success:function(e){var g=e.callPrefix;if(g!=0){$("#edit-phone-wrapper .country-code").html("+"+g);$("#edit-phone-wrapper").removeClass("without-country-code");$("#edit-phone-wrapper .country-code").show()}else{$("#edit-phone-wrapper .country-code").html("");$("#edit-phone-wrapper").addClass("without-country-code");$("#edit-phone-wrapper .country-code").hide()}var f=false;var c=e.states;for(var d in c){f=true;break}if(f){var b='<label for="id_state" class="col-xs-3 control-label">State</label><div class="col-xs-7"><select id="stateId_delivery" class="validate[required] form-control" name="state.id"><option value="">Select State</option>';for(var d in c){b+='<option value="'+d+'">'+c[d]+"</option>"}b+="</select></div>";$("#edit-state-wrapper").append(b);$("#edit-state-wrapper").show()}else{var b='<label for="id_state" class="col-xs-3 control-label">State</label><div class="col-xs-7"><select id="stateId_delivery" class="validate[required] form-control" name="state.id"><option value="-1">NA</option></select></div>';$("#edit-state-wrapper").append(b);$("#edit-state-wrapper").hide()}}})}function updateAddress(){var b="fullname="+encodeURIComponent($("#fullname_delivery").val())+"&";var a=$("#id_address_delivery").val();if(a.length==0){a=0}b+="address="+encodeURIComponent($("#address_delivery").val())+"&";b+="cityName="+encodeURIComponent($("#cityName_delivery").val())+"&";b+="stateId="+encodeURIComponent($("#stateId_delivery").val())+"&";b+="countryId="+encodeURIComponent($("#countryId_delivery").val())+"&";b+="contactNumber="+encodeURIComponent($("#contactNumber_delivery").val())+"&";b+="alternateContactNumber="+encodeURIComponent($("#alternateContactNumber_delivery").val())+"&";b+="postCode="+encodeURIComponent($("#postcode_delivery").val())+"&";b+="token="+encodeURIComponent($("#token").val())+"&";b+="createdAt="+encodeURIComponent($("#createdAt").val())+"&";b=b.substr(0,b.length-1);$.ajax({type:"POST",url:GLOBAL_CTX+"/address/saveAddress",async:false,cache:false,dataType:"json",data:"alias=shipping&"+b,success:function(e){if(e.hasError){var d="";var c=0;for(error in e.errors){if(error!="indexOf"){c=c+1;d+="<li>"+e.errors[error]+"</li>"}}d+="</div></ol>";var f='<div class="error-container-inner"><ol>'+d;$("#opc_account_errors").html('<div class="error-container">'+f+"</div>").slideDown("slow");result=false}else{$("input#opc_id_address_delivery").val(e.id_address_delivery);$("input#opc_id_address_invoice").val(e.id_address_invoice);window.location.reload()}},error:function(c,e,d){alert("TECHNICAL ERROR: unable to save adresses \n\nDetails:\nError thrown: "+c+"\nText status: "+e)}})}$(".has-address #edit-submit-shipping-address, .has-address #edit-submit-billing-address").click(function(){$(this).parents(".my-account").children(".user-address").slideUp("medium");$(this).parents(".my-account").children(".content").slideToggle("medium");return false});$(".has-address #edit-cancel-shipping-address, .has-address #edit-cancel-billing-address").click(function(){$(this).parents(".my-account").children(".content").slideUp("medium");$(this).parents(".my-account").children(".user-address").slideToggle("medium");return false});function validateAndSubmitAddress(){$("#address-form").validationEngine();if($("#address-form").validationEngine("validate")){updateAddress()}}function validateAndUpdatePassword(){$("#address-password-form").validationEngine();if($("#address-password-form").validationEngine("validate")){updatePassword()}}function validateForgotPassword(){$("#forgot-password-form-set").validationEngine();if($("#forgot-password-form-set").validationEngine("validate")){$("#forgot-password-form-set").submit()}}function validateAndSubmitGiveawayForm(b){b.preventDefault();$("#giveaway-form").validationEngine();if($("#giveaway-form").validationEngine("validate")){var a=$("#giveaway-email").val();var c=$("#giveaway-newsletter").is(":checked");$.ajax({type:"POST",url:GLOBAL_CTX+"/newsletter/weekly-giveaway",async:false,cache:false,dataType:"json",data:"email="+encodeURIComponent(a)+"&newsletter="+c,success:function(d){if(!d.hasError){$("#giveaway-form").hide();$("#giveaway-form .error").hide();$(".ga-form, .giveaway-form").html('<div class="success-container-new"><div class="success-container-inner">Thank You For Signing Up!<br/>Be sure to use your welcome credit of Rs 1000 on the first purchase.</div></div>');setTimeout(function(){$(".suw").removeClass("stp2")},5000);setTimeout(function(){$.fancybox.close()},6000);setTimeout(function(){$.fancybox.close()},5000)}else{$("#giveaway-form .error").html('<div class="error-container-new"><div class="error-container-inner"> '+d.error+" </div></div>");$("#giveaway-form .error").show()}}})}}function validateAndSubmitRakhiContest(){var c=$("#name").val();var b=$("#email").val();var a=$("#mobile").val();var d=$("#moment").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/contest/rakhimoment",async:false,cache:false,dataType:"json",data:"email="+encodeURIComponent(b)+"&name="+encodeURIComponent(c)+"&mobile="+encodeURIComponent(a)+"&moment="+encodeURIComponent(d),success:function(e){if(e.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+e.error+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+e.success+"</div><div>");$("#popup-messages").show();$("#rakhicontest-form").each(function(){this.reset()});return true}}})}function validateAndSubmitDirectSeller(){var c=$("#customername").val();var b=$("#question-email").val();var a=$("#question-phone").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/directseller/subscribe",async:false,cache:false,dataType:"json",data:"email="+encodeURIComponent(b)+"&name="+encodeURIComponent(c)+"&phone="+encodeURIComponent(a),success:function(d){if(d.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+d.error+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+d.success+"</div><div>");$("#popup-messages").show();$("#express-interest").each(function(){this.reset()});return true}}})}function careerForm(){var e=$("#positionName").val();var c=$("#fullName").val();var b=$("#email").val();var d=$("#experience").val();var a=$("#fileData").prop("files")[0];var f=new FormData();f.append("fileData",a);f.append("positionName",e);f.append("fullName",c);f.append("email",b);f.append("experience",d);$.ajax({type:"POST",url:GLOBAL_CTX+"/career/uploadResume",async:false,cache:false,dataType:"json",cache:false,contentType:false,processData:false,data:f,success:function(g){if(g.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+g.errorStr+"</div><div>");$("#popup-messages").show();$(".career-form-wrapper").hide();return false}else{$("#popup-messages").html('<div class="success-container text-center"><div class="success-container-inner"><i class="icon-ion-ios-checkmark-outline"></i><span>Thank You for applying at Bluestone!</span><p>Once shortlisted, our recruitment team will get in touch with you.</p><p>In case you don\'t hear form us in the next 15 days, please write in to<br/><a href="mailto:careers@bluestone.com">careers@bluestone.com</a></p></div></div>');$("#popup-messages").show();$(".career-form-wrapper").hide();return true}}})}function updatePassword(){var c=$("#old_passwd").val();var b=$("#passwd").val();var a=$("#confirmation").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/account/identity/",async:false,cache:false,dataType:"json",data:"updateCustomer=true&attributeName=password&oldPassword="+encodeURI(c)+"&attributeValue="+encodeURI(b)+"&confirmPassword="+encodeURI(a),success:function(d){if(d.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+d.errors.join("<br />")+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+d.success+"</div><div>");$("#popup-messages").show();$("#change-password").hide();$("#changePasswd").show();return true}}})}function updateCustomerAttribute(b,a,c){if(!$("#address-form").validationEngine("validateField","#"+a)){var d=$("#"+a).val();$.ajax({type:"POST",url:GLOBAL_CTX+"/account/identity/",async:false,cache:false,dataType:"json",data:getQueryString(b,d),success:function(e){if(e.hasError){$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+e.errors.join("<br />")+"</div><div>");$("#popup-messages").show();return false}else{$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+e.success+"</div><div>");$("#"+c).html(e.inputElementValue);$("#popup-messages").show();afterSaveButton(a);return true}}})}}function afterSaveButton(a){if($("#"+a).parents("body").children(".formError:visible").length!=0){$("#"+a).parents(".form-item").children(".cancel-button, .save-button, .form-text, .subscribe-link").show();$("#"+a).parents(".form-item").children(".edit-item, .edit-button").hide();$("#change-password").slideUp("fast");$("#changePasswd").slideDown("fast")}else{$("#"+a).parents(".form-item").children(".cancel-button, .save-button, .form-text, .subscribe-link").hide();$("#"+a).parents(".form-item").children(".edit-item, .edit-button").show();$("#change-password").slideUp("fast");$("#changePasswd").slideDown("fast")}if($(".success-container:visible").length){$("#"+a).parents(".form-item").children(".cancel-button, .save-button, .form-text, .subscribe-link").hide();$("#"+a).parents(".form-item").children(".edit-item, .edit-button").show();$("#change-password").slideUp("fast");$("#changePasswd").slideDown("fast")}}function getQueryString(a,b){return"updateCustomer=true&attributeName="+a+"&attributeValue="+encodeURI(b)}function changeOfferSubscription(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/account/identity",async:false,cache:false,dataType:"json",data:getQueryString("newsletter",a),success:function(b){if(!b.hasError){$("#offer-inner-content").html("");if(a===true){$("#unsubscribe-offer").show();$("#subscribe-offer").hide()}else{$("#subscribe-offer").show();$("#unsubscribe-offer").hide()}$("#popup-messages").html('<div class="success-container"><div class="success-container-inner">'+b.success+"</div><div>");$("#popup-messages").show();return true}}})}function validateAndUpdateName(){if(!$("#address-form").validationEngine("validateField","#name")){updateCustomerAttribute("userName","name","firstname")}}function checkCarrierAvailabilityFaq(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/carrier/availability-faq",async:false,cache:true,dataType:"json",data:"ajax=true&mode=prepaid&faqPage=1&pincode="+a,success:function(b){if(!b.hasError){$("#carrier_success").html(b.successStr);$("#carrier_error").html("")}else{$("#carrier_success").html("");$("#carrier_error").html(b.errorStr)}}})}function checkCodAvailabilityFaq(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/carrier/availability-faq",async:false,cache:true,dataType:"json",data:"ajax=true&mode=cod&faqPage=1&pincode="+a,success:function(b){if(!b.hasError){$("#cod_carrier_success").html(b.successStr);$("#cod_carrier_error").html("")}else{$("#cod_carrier_success").html("");$("#cod_carrier_error").html(b.errorStr)}}})}function validateAndSubmitRingSizerRequest(a){$("#custDetailsForRingSizerForm").validationEngine();if($("#custDetailsForRingSizerForm").validationEngine("validate")){submitBookRingAndBangleSizer(a)}}function validateAndSubmitBangleSizerRequest(){$("#custDetailsForBangleSizerForm").validationEngine();if($("#custDetailsForBangleSizerForm").validationEngine("validate")){submitBookRingAndBangleSizer()}}function submitWeddingPreference(){var h=$("#customername_contact").val();var e=$("input[name='kindofjewellery\\[\\]']:checked").map(function(){return $(this).val()}).get();var g=$("input[name='preferredstyle\\[\\]']:checked").map(function(){return $(this).val()}).get();var c=$("input[name='categories\\[\\]']:checked").map(function(){return $(this).val()}).get();var b=$("#budget").val();var d=$("#email_contact").val();var f=$("#phone_contact").val();var a=$("#address_contact").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/weddingPreference",async:false,cache:false,dataType:"json",data:"userName="+encodeURI(h)+"&contactNo="+encodeURI(f)+"&email="+encodeURI(d)+"&address="+encodeURI(a)+"&budget="+encodeURI(b)+"&kindofjewellery="+encodeURI(e)+"&preferredstyle="+encodeURI(g)+"&categories="+encodeURI(c),success:function(j){if(!j.hasError){$("#popup-messages-preference").html('<div class="success-container"><div class="success-container-inner"><span>Thank you for your interest!</span><br/>One of our stylists will get in touch with you very soon..</div><div>');$("#popup-messages-preference").show();$("#wedding-preference-form").each(function(){this.reset()});return true}else{$("#popup-messages-preference").html('<div class="error-container"><div class="error-container-inner">'+j.message+"</div><div>");$("#popup-messages-preference").show();$("#wedding-preference-form").each(function(){this.reset()});return true}}})}function submitSubscriber(){var a=$("#newsletter_subscriber").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/newsletter/subscribe",async:false,cache:false,dataType:"json",data:"email="+encodeURI(a),success:function(b){if(!b.hasError){$("#subscriber_msg").html(b.success);$("#subscriber_msg").show();$("#subscriber-form .input-group").hide();$("#subscriber-form").each(function(){this.reset()});return true}else{$("#subscriber_msg").html(b.error);$("#subscriber_msg").show();$("#subscriber-form .input-group").hide();$("#subscriber-form").each(function(){this.reset()});return true}}})}function submitDailyFortuneSubscriber(){var a=$("#daily_fortune_newsletter_subscriber").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/newsletter/daily-fortune-subscribe",async:false,cache:false,dataType:"json",data:"email="+encodeURI(a),success:function(b){if(!b.hasError){$("#daily_fortune_subscriber_msg").html(b.success);$("#daily_fortune_subscriber_msg").show();$("#daily-fortune-subscriber-form").each(function(){this.reset()});setTimeout(function(){$(".etd-popup, .alert-popup").slideUp();$("#daily_fortune_subscriber_msg").hide()},3000);$("#daily-fortune-subscriber-form").hide();return true}else{$("#daily_fortune_subscriber_msg").html(b.error);$("#daily_fortune_subscriber_msg").show();$("#daily-fortune-subscriber-form").each(function(){this.reset()});return true}}})}function getPriceForCountry(b,c){if(c!="India"){var a=eRates[COUNTRY];b=Math.ceil(b/a)}return b}function getCurrencySymbolForCountry(a){if(a=="United Kingdom"){return"&pound;"}else{if(a=="India"){return'<span class="WebRupee">Rs.</span>'}}return"$"}function HideshowCustomizationDiv(){$("#selectMetalAndDiamondQuality").slideUp();$("#longDescriptionInRightPane").slideDown()}function getCustomization(b,a){$.ajax({type:"GET",url:GLOBAL_CTX+"/design/getcustomization",async:false,cache:false,dataType:"text",data:"ajax=true&customizationId="+customizationId+"&metals="+b+"&stones="+a,success:function(c){$("#customizationResponse").html(c);$("#designContent #details-top-right #details-top-right-inner #short_desc").html($("#customizationResponse #details-top-right #details-top-right-inner #short_desc").html());$("#designContent #details-top-right #details-top-right-inner #our_price_display").html($("#customizationResponse #details-top-right #details-top-right-inner #our_price_display").html());$("#designContent #details-top-right #details-top-right-inner #our_price_emi").html($("#customizationResponse #details-top-right #details-top-right-inner #our_price_emi").html());$("#designContent #details-top-right #details-top-right-inner #expected_delievery_date").html($("#customizationResponse #details-top-right #details-top-right-inner #expected_delievery_date").html());$("#designContent #details-top-left").html($("#customizationResponse #details-top-left").html());$("#customizationIdField").html($("#customizationResponse #customizationIdField"));$("#designContent #item-details").html($("#customizationResponse #item-details").html());$(".jcarousel-active-thumbs").jcarousel({vertical:true,scroll:1});$(".slide-thumbs ul li:last").addClass("last");$(".slide-thumbs ul li:first").addClass("active");$(".slide-thumbs ul li a").click(function(){$(".slide-thumbs ul li").removeClass("active");$(this).parent().addClass("active")});$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()}})}$(document).ready(function(){$("#openGsPoup a").fancybox({type:"iframe",scrolling:"no",height:319,width:473});$("#openGsPoup a").eq(0).trigger("click");$("body.page-front .shop-b-p").fancybox().trigger("click");$(".shop-b-p").fancybox();$("#shop-b-p .optns .quiz").click(function(){var h=$(this).parents("li").attr("id");if(h=="basequestion"){var f=$(this).find(".chk-select");if(f.length<1){$(this).parents("#shop-b-p").find(".checkbox").removeClass("chk-select");$(this).parents("#shop-b-p").find("input").attr("checked",false);$(this).parents("#shop-b-p").find(".next").css({visibility:"hidden"})}$(".formyself").show();$(".formygirl").show();var g=$(this).find("input").val();if(g=="myself"){$(".formygirl").hide()}else{$(".formyself").hide()}}$(this).parents(".optns").find(".checkbox").removeClass("chk-select");$(this).parents("li").find(".next").css({visibility:"visible"}).animate({opacity:1},200);$(this).find(".checkbox").addClass("chk-select");$(this).parents(".optns").find("input").attr("checked",false);$(this).children("input").attr("checked","checked");return false});var e=0;$("#shop-b-p #personality-quiz .finish").click(function(){var g=$('input[name="q10"]:checked').val();var f="q10="+g+"&score="+e;d("breaktie",f)});$("#shop-b-p #personality-quiz .tiecheck").click(function(){var p=$('input[name="q1"]:checked').val();var o=$('input[name="q2"]:checked').val();var n=$('input[name="q3"]:checked').val();var m=$('input[name="q4"]:checked').val();var l=$('input[name="q5"]:checked').val();var k=$('input[name="q6"]:checked').val();var j=$('input[name="q7"]:checked').val();var g=$('input[name="q8"]:checked').val();var f=$('input[name="q9"]:checked').val();var h="q1="+p+"&q2="+o+"&q3="+n+"&q4="+m+"&q5="+l+"&q6="+k+"&q7="+j+"&q8="+g+"&q9="+f;d("check",h)});function d(g,f){$.ajax({type:"POST",url:GLOBAL_CTX+"/personality/"+g,async:false,cache:false,dataType:"json",data:f,success:function(j){if(!j.isTie){$.fancybox.close();window.location=j.redirectURL;return false}else{e=j.score;$(".optns .tiebreaker").hide();var l=j.winner;var k=l.split(",");for(var h=0;h<k.length;h++){k[h]=k[h].replace(/^\s*/,"").replace(/\s*$/,"");var m=k[h].toLowerCase();$("."+m).show()}}}})}function c(){if($(".platinum-page").length!=0){var f=window.location.search;if(f.indexOf("sp=1")!=-1){$(".trigger-c-q-p").fancybox().trigger("click")}}}c();$("#shop-b-p #couple-quiz .finish").click(function(){var p=$('input[name="q1"]:checked').val();var o=$('input[name="q2"]:checked').val();var n=$('input[name="q3"]:checked').val();var m=$('input[name="q4"]:checked').val();var l=$('input[name="q5"]:checked').val();var k=$('input[name="q6"]:checked').val();var j=$('input[name="q7"]:checked').val();var g=$('input[name="q8"]:checked').val();var f=$('input[name="q9"]:checked').val();var h="q1="+p+"&q2="+o+"&q3="+n+"&q4="+m+"&q5="+l+"&q6="+k+"&q7="+j;a("check",h)});function a(g,f){$.ajax({type:"POST",url:GLOBAL_CTX+"/couplequiz/"+g,async:false,cache:false,dataType:"json",data:f,success:function(h){$.fancybox.close();window.location=h.redirectURL;return false}})}$(".international-shipping a").fancybox({height:500,width:400,scrolling:"no"});$(".a-t-tc").fancybox({height:500,width:400,scrolling:"no"});$("#bscash-refund-details").find(":checkbox").prop("checked","checked");$("#initiate-offline-refund").click(function(){if($(this).is(":checked")){$(".offline-payment-row").fadeIn("slow")}else{$(".offline-payment-row").fadeOut("fast");$(".formError").remove()}});if($(".neft-check").is(":checked")){$(".offline-payment-row").show()}else{$(".offline-payment-row").hide()}$(".bscash-refund").fancybox({height:500,width:400,scrolling:"no",afterClose:function(){$(".bscash-refund").validationEngine("hideAll")},afterLoad:function(){b()}});$(".bscash-refund-success-href").fancybox({height:500,width:400,scrolling:"no",afterClose:function(){location.reload()}});$(".refund-tx").change(function(){b()});$(".neft-check").change(function(){b();if($(".neft-check").is(":checked")){$("#refund-buttons_refund").hide();$("#refund-buttons_neft").show()}else{$("#refund-buttons_refund").show();$("#refund-buttons_neft").hide()}});function b(){var h=0,g=0,f=Number($("#available-bs-cash").html());$(".refund-row input:checkbox").each(function(){var l=Number($(this).parents("tr").find("span.refundable-amt").html().trim()),k=Number($(this).parents("tr").find("span.refund-amt").html().trim()),j=Number($(this).parents("tr").find("span.refund-amt").data("amount"));if($(this).is(":checked")){k=j;f-=k;h+=k}else{k=0;f+=k;h-=k}$(this).parents("tr").find("span.refund-amt").html(k)});$("#bscash-refund-amount").html(h);$("#bscash-balance").html(f)}$("#bs-cash-refund-cancel,#bs-cash-neft-refund-cancel").click(function(){$.fancybox.close();return false});$("#bs-cash-refund-edit").click(function(){$("#refund-neft-details").show();$("#refund-buttons").show();$("#refund-confirm-details").hide();return false});$("#bscash-refund-success-ok").click(function(){$.fancybox.close();location.reload();return false});$("#bs-cash-refund-ok").click(function(){var j=$("input:checkbox[name=refund-tx]:checked").length;var h=$(".neft-check").is(":checked");if(h){j++}if(j==0){alert("Please select an option");return}if(h){$("#neft-form").validationEngine();if(!$("#neft-form").validationEngine("validate")){return false}}var l=$("#accountHolderName").val();var g=$("#bankName").val();if(g=="Other"){g=$("#otherBankName").val()}var f=$("#bankBranchName").val();var m=$("#accountNumber").val();var k=$("#ifscCode").val();$("#confirm-bank").html(g);$("#confirm-bankbranch").html(f);$("#confirm-ifsc").html(k);$("#confirm-accountname").html(l);$("#confirm-accountnumber").html(m);$("#refund-neft-details").slideUp();$("#refund-buttons").slideUp();$("#refund-confirm-details").slideDown()});$("#bs-cash-refund-confirm-ok,#bs-cash-neft-refund-confirm-ok").click(function(){var g=$("input:checkbox[name=refund-tx]:checked").length;var n=$(".neft-check").is(":checked");if(n){g++}if(g==0){alert("Please select an option");return}if(n){$("#neft-form").validationEngine();if(!$("#neft-form").validationEngine("validate")){return false}}var h="";var m=0;$("input:checkbox[name=refund-tx]:checked").each(function(){var q=Number($(this).parents("tr").find(".ptx-id").html().trim());var p=Number($(this).parents("tr").find(".ptx-amnt").html());h=h+"ptxId"+m+"="+q+"&";h=h+"ptxAmnt"+m+"="+p+"&";m++});h=h+"ptxCount="+m;if(n){if(h){h+="&"}h+="neft=true";var f=Number($(".neft-refund .refund-amt").html().trim());var l=$("#accountHolderName").val();var o=$("#bankName").val();if(o=="Other"){o=$("#otherBankName").val()}var k=$("#accountNumber").val();var j=$("#ifscCode").val();h=h+"&accountHolderName="+l;h=h+"&bankName="+o;h=h+"&accountNumber="+k;h=h+"&ifscCode="+j;h=h+"&neftAmount="+f}$.ajax({type:"POST",url:GLOBAL_CTX+"/pg/refund",async:false,cache:false,dataType:"json",data:h,success:function(p){if(!p.hasError){$(".bscash-refund-success a").trigger("click")}else{$("#bscash-refund-details .error-container-inner").html("Your request could not be processed.");$("#bscash-refund-details #popup-messages").show()}}});return false});$(".goldmine-redeem").fancybox({height:500,width:400,scrolling:"no",onClosed:function(){location.reload()}});$(".gm-redeem-success-href").fancybox({height:500,width:400,scrolling:"no",onClosed:function(){location.reload()}});$(".gm-redeem-cancel").click(function(){$.fancybox.close();return false});$(".gm-redeem-success-ok").click(function(){$.fancybox.close();return false})});function redeemGoldminePlan(b,c){c.preventDefault();var a="planCode="+b;$.ajax({type:"POST",url:GLOBAL_CTX+"/gmsp/redeem",async:false,cache:false,dataType:"json",data:a,success:function(d){if(!d.hasError){$("#gm-redeem-success-wrapper-"+b+" a").trigger("click")}else{$("#goldmine-redeem-"+b+" .error-container-inner").html("Your request could not be processed.");$("#goldmine-redeem-"+b+" #popup-messages").show()}}});return false}$(document).ready(function(){$("#accountNumber, #confirmAccountNumber").on("cut copy paste",function(a){a.preventDefault()});$(".other-bank").hide();$("#neft-form select").change(function(){$("#confirmAccountNumber").removeClass();$("#accountNumber").removeClass();var d=$("option:selected",this).data("minchar");var a="validate[required,custom[onlyNumberSp],equals[accountNumber],minSize["+d+"]] form-control";$("#confirmAccountNumber").addClass(a);$("#accountNumber").addClass(a);var c=$("option:selected",this).data("placeholder");$("#ifscCode").removeAttr("placeholder");$("#ifscCode").attr("placeholder",c);$(".other-bank").slideUp("fast");var b=$("option:selected",this).val();if(b=="Other"){$(".other-bank").slideDown("slow")}$("#ifscCode").removeAttr("placeholder");$("#ifscCode").attr("placeholder",c)});$("#neft-form").validationEngine("attach",{})});function mycarousel_initCallback(a){a.buttonNext.bind("click",function(){a.startAuto(0)});a.buttonPrev.bind("click",function(){a.startAuto(0)});a.clip.hover(function(){a.stopAuto()},function(){a.startAuto()})}jQuery(document).ready(function(){jQuery(".product-carousel ul li:last-child").addClass("last");$("#etd .date").click(function(a){a.stopPropagation();$(".pin-code-error").hide();$(this).parent("#etd").find(".form-text").val("");$(this).parent("#etd").find(".etd-popup").slideDown("fast")});$(".d-f-alert").click(function(a){a.stopPropagation();$("#daily-fortune-subscriber-form").show();$(".alert-popup").slideDown("fast");$(".formError").show("fast")});$("body").click(function(){$(".etd-popup, .alert-popup").slideUp();$(".daily_fortune_newsletter_subscriberformError").hide("fast");$(".invalid-pin-code-error").hide("fast");if($(".etd-popup").is(":visible")){$(".formError").remove()}});$(".etd-popup, .alert-popup").click(function(a){a.stopPropagation()});$("#sol-details #etd a.btn").click(function(c){c.preventDefault();var f=$(this).parents("#etd").find(".form-text").val();var d=$("#solitaire-code").html().trim();var a=GLOBAL_CTX+"/deliverydate/solitaire/get";var b="ajax=true&productcode="+d+"&pincode="+f;updateDeliveryDateByPincode(f,a,b)});$("#build-sol #etd a.btn").click(function(f){f.preventDefault();var g=$(this).parents("#etd").find(".form-text").val();var a=$(".solitaire-code").html().trim();var c=$(".mount-code").html().trim();var b=GLOBAL_CTX+"/deliverydate/solitairejewellery/get";var d="ajax=true&mountcode="+c+"&solitaireCode="+a+"&pincode="+g;updateDeliveryDateByPincode(g,b,d)});$("#p-ss .other a").click(function(e){var c=575,a=400,g=($(window).width()-c)/2,f=($(window).height()-a)/2,b=this.href,d="status=1,width="+c+",height="+a+",top="+f+",left="+g;window.open(b,"twitter",d);return false});$(".elowrcase").on("blur",function(b){var a=b.target.value.toLowerCase();$(this).val(a)});$("body").on("blur","#edit-email-wrapper #email-id, #signup-edit-email-wrapper #email, #forget-edit-email-wrapper #recover_email",function(b){var a=b.target.value.toLowerCase();$(this).val(a)})});function noenter(){return !(window.event&&window.event.keyCode==13)}function showReservePriceFancyBox(c,a){trackGA("Product_Detail_Link","Click","Reserve Price",c);a=typeof a!=="undefined"?a:1;var b=getCustomizationCode();if(a==1){$.fancybox({transitionIn:"elastic",transitionOut:"fade",overlayColor:"#000",overlayOpacity:".2",centerOnScroll:false,scrolling:"no",onComplete:function(){},onCleanup:function(){$("#reserve-price-form").validationEngine("hideAll")},href:GLOBAL_CTX+"/showReservePricePageBody/"+b})}}function validateAndReservePrice(){$("#reserve-price-form").validationEngine();if($("#reserve-price-form").validationEngine("validate")){reserve_price()}return false}function reserve_price(){$("#fancybox-loading").css("display","block");$("#popup-messages").html('<div class="success"> Please wait ......</div>');$.post($("#reserve-price-form").attr("action"),$("#reserve-price-form").serialize(),function(a){handleReservePriceResponse(a)},"json");$("#fancybox-loading").css("display","none");return false}function handleReservePriceResponse(a){if(a.hasError==false){$(".price-reserve-wrapper").html($(".price-reserved-wrapper").html())}else{$("#popup-messages").html('<div class="error-container"><div class="error-container-inner">'+a.errors.join("<br />")+"</div></div>")}}var _second=1000;var _minute=_second*60;var _hour=_minute*60;var _day=_hour*24;var timer;var end;var now;var gosf_end;var gosf_now;function showRemaining(){now.setSeconds(now.getSeconds()+1);var e=end-now;if(e<0){clearInterval(timer);return}var d=Math.floor(e/_day);var a=Math.floor((e%_day)/_hour);var b=Math.floor((e%_hour)/_minute);var c=Math.floor((e%_minute)/_second);document.getElementById("countdown").innerHTML=a<10?('<span class="hr">0'+a+"</span>"):'<span class="hr">'+a+"</span>";document.getElementById("countdown").innerHTML+='<span class="min">'+(b<10?("0"+b):b)+"</span>";document.getElementById("countdown").innerHTML+='<span class="sec">'+(c<10?("0"+c):c)+"</span>";$(".page-dod .d-counter span").each(function(g){var f=$(this).text().split("");$this=$(this);$this.empty();$.each(f,function(h,j){$this.append("<i>"+j+"</i>")})})}function showRemainingGosf(){gosf_now.setSeconds(gosf_now.getSeconds()+1);var e=gosf_end-gosf_now;if(e<0){clearInterval(timer);document.getElementById("countdown").innerHTML="EXPIRED!";return}var d=Math.floor(e/_day);var a=Math.floor((e%_day)/_hour);var b=Math.floor((e%_hour)/_minute);var c=Math.floor((e%_minute)/_second);document.getElementById("countdown").innerHTML="<span class='first'>"+d+"</span><span class='separator'>:</span>";document.getElementById("countdown").innerHTML+="<span>"+a+"</span><span class='separator'>:</span>";document.getElementById("countdown").innerHTML+="<span>"+b+"</span><span class='separator'>:</span>";document.getElementById("countdown").innerHTML+="<span>"+c+"</span>"}$(document).ready(function(){$("#surprise-form .btn").click(function(g){g.preventDefault();$("#surprise-form-feedback").validationEngine();if($("#surprise-form-feedback").validationEngine("validate")){var f=$("#surprise-form").find('input[name="date-of-birth"]').val();var b=$("#surprise-form").find('input[name="married"]:checked').val();var d=$("#surprise-form").find('input[name="anniversary-date"]').val();var c=$("#surprise-form").find('input[name="spouse-birth"]').val();var a=$("#purchase-occasion option:selected").text();var h=$("#surprise-form").find('input[name="oCode"]').val();var j=$("#surprise-form").find('input[name="cid"]').val();$.ajax({type:"POST",url:GLOBAL_CTX+"/feedback/order/surprise",async:false,cache:false,dataType:"json",data:"birthday="+f+"&maritalStatus="+b+"&anniversary="+d+"&spouseBirthday="+c+"&purchaseOccassion="+a+"&cid="+j+"&oCode="+h,success:function(e){$("#surprise-form .success-container").show();$("#surprise-form .content").hide()}})}})});$(document).ready(function(){mainMenuInt();$("#filter_ndd").on("click",function(){if(!$(this).is(":checked")){window.location.href=$("#checkBoxLinkId").val()}else{window.location.href=$("#checkBoxLinkId").val();trackGA("Browse-Page-Filters","Delivery Time","next day delivery checkbox")}});var a;$(".main-menu > ul > li .inner").hover(function(){var b=$(this).text();a=setTimeout(function(){trackGA("BsUI","MainMenuHover",b)},500)},function(){clearTimeout(a)});$(".wh-navbar .menuparent > a, .wh-navbar .menuparent > .prcs-d, .wh-navbar .menuparent > .prcs-dlh").hover(function(){var b=$(this).text();a=setTimeout(function(){trackGA("NewMenuHover",b)},1000)},function(){clearTimeout(a)});$(".wh-navbar .menuparent > a, .wh-navbar .menuparent > span.prcs-d, .wh-navbar .menuparent > span.prcs-dlh").click(function(){var b=$(this).text();trackGA("NewMenuClick",b)});$(".wh-submenu a, .wh-submenu .prcs-d, .wh-submenu .prcs-dlh").hover(function(){var c=$(this).closest(".menuparent").children("a, .prcs-d, .prcs-dlh").text();if($(this).parents(".collection-slider").hasClass("active")){c="Collections_Infocus"}var d=$(this).text();var b=$(this).hasClass("has-badge")?1:0;a=setTimeout(function(){trackGA("NewMenuHover",c,d,b)},1000)},function(){clearTimeout(a)});$(".wh-submenu a, .wh-submenu .prcs-d, .wh-submenu .prcs-dlh").click(function(){var c=$(this).closest(".menuparent").children("a, .prcs-d, .prcs-dlh").text();if($(this).parents(".collection-slider").hasClass("active")){c="Collections_Infocus"}var d=$(this).text();var b=$(this).hasClass("has-badge")?1:0;trackGA("NewMenuClick",c,d,b)});$(".menu-close").click(function(){$(this).closest(".menuparent").removeClass("active");$(".wh-overlay").hide()});$(".tooltip-close").click(function(){$(this).closest(".top-level-dd").removeClass("top-level-dd-hover")});$(".wh-navbar").hover(function(){$(this).closest("body").addClass("menu-hovered")},function(){$(this).closest("body").removeClass("menu-hovered")})});var LC_API=LC_API||{};LC_API.on_after_load=function(){$(".live-chat").click(function(){LC_API.open_chat_window()})};function mainMenuInt(){$(".main-menu ul li.menuparent, .wh-navbar ul li.menuparent").hoverIntent({sensitivity:400,interval:25,over:showNav,timeout:25,out:hideNav});$(".main-menu div.submenu ul li, .wh-navbar div.wh-submenu ul li").hoverIntent({sensitivity:400,interval:50,over:showSubNav,timeout:50,out:hideSubNav});$(".no-submenu").parent(".submenu").width(198);$(".main-menu, .wh-navbar").hover(function(){$(".main-menu img, .wh-navbar img").each(function(){var a=$(this).data("imgsrc");$(this).attr("src",a)})})}function showNav(){$(this).addClass("active").find("div.submenu, div.wh-submenu").fadeIn("fast");if(!$(this).hasClass("no-wh-submenu")){$(".wh-overlay").show()}}function hideNav(){$(this).removeClass("active").find("div.submenu, div.wh-submenu").fadeOut("medium");$(".wh-overlay").hide()}function showSubNav(){$(this).addClass("active");$(this).siblings().removeClass("active")}function hideSubNav(){$(this).addClass("active")}function showHideFilter(){$("#top-filter .block").hoverIntent({sensitivity:200,interval:25,over:showFilter,timeout:25,out:hideFilter})}showHideSortBy();function showHideSortBy(){$(".sort-options .sort-by").hoverIntent({sensitivity:200,interval:25,over:showFilter,timeout:25,out:hideFilter})}function showFilter(){$(this).addClass("active").find(".content").slideDown("fast");var a=$(this).find(".title").text();logHoveredOverFilterEvent(a)}function hideFilter(){$(this).removeClass("active").find(".content").slideUp("medium")}showHideCustomizeSizes();function showHideCustomizeSizes(){$(".default-size-holder").hoverIntent({sensitivity:200,interval:25,over:showNDDFilter,timeout:25,out:hideNDDFilter})}function showNDDFilter(){$(this).addClass("active").find(".content").slideDown("fast");var a=$(this).find(".title").text();logHoveredOverFilterEvent(a)}function hideNDDFilter(){$(this).removeClass("active").find(".content").slideUp("medium")}$(document).ready(function(){$(".landingv2 .animated, .womens-day .animated").css({top:"30px",opacity:0});$(".landingv2 .show-animated, .womens-day .show-animated").animate({top:"0",opacity:1},800,"easeOutQuad");$(".womens-day .with-hover .hover").css({opacity:".9"})});$(function(){$(".landingv2 .animated, .womens-day .animated").appear();$(".landingv2 .animated").bind("appear",".landingv2 ul",function(a){$(this).animate({top:"0",opacity:1},800,"easeOutQuad")});$(".womens-day .animated").bind("appear",".womens-day div",function(a){$(this).animate({top:"0",opacity:1},800,"easeOutQuad")});$("div.submenu ul.submenu-left").hover(function(){$(this).toggleClass("active")})});function formatNumberIndian(j,a,f,k){j=Number(j).toFixed(a);var b=j+"";var d=b.toString().split(".");var g=(d.length==2)?d[0]:b;var c=("0."+(d.length==2?d[1]:0)).substr(2);var e=g.length;var h="";if(e>3){h=f+g.substring(e-3);g=g.substring(0,e-3);e-=3;while(e>2){h=f+g.substring(e-2)+h;g=g.substring(0,e-2);e-=2}}g+=h;if(parseInt(a)==0){return g}return g+k+(c>0?c:"00")}function formatNumber(a){if(COUNTRY=="India"){return formatNumberIndian(a,0,",",".")}a=a+"";return a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function getSingleProductContentSimliar(d,b){var a=d.itemURL;if(typeof b!="undefined"&&b){a+="?ndd=true"}var e=d.itemPrice;var m=e;var j=d.itemTitle;var c=d.itemImage;var n=d.isGreyImage;var l=d.designId;var k=j.replace(/ /g,"_");e=getPriceForCountry(e,COUNTRY);e=formatNumber(e);var h=getCurrencySymbolForCountry(COUNTRY);var g="<div class='inner ";if(n=="true"){g=g+"pd-gray-bg'>"}else{g=g+"'>"}var f="<div title='"+j+"' data-url='"+a+"' class='item col-xs-2'>"+g+"<a href='"+a+"' title='"+j+"' onclick='similarProdGA(\""+k+'");logSimilarProductClickedEvent('+l+","+m+")' >";f+="<img alt='"+j+"' src='"+c+"' data-original='"+c+"' data-hu='"+c+"' class='lazyOwl center-block img-responsive' style='display: block;'>";f+="<div class='price'><span class='list-curr'>"+h+"</span>"+e+"</div></a><div class='clear'></div></div></div>";return f}function similarProdGA(a){trackGA("BsUI","Similar-products","clicked_"+a+"")}function logError(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/log/error/client",async:true,cache:false,dataType:"json",data:"data="+a})}function forgotPasswordWithValidation(){$("#forget-password").validationEngine();$(".fancybox-overlay").on("click",function(){$(".formError").remove()});if($("#forget-password").validationEngine("validate")){forgotPassword()}return false}function showLoading(a){$(a+" button.btn span").hide();$(a+" .ajax-loader").show()}function hideLoading(a){$(a+" button.btn span").show();$(a+" .ajax-loader").hide()}function spcEmailValidation(c,a){$("#userLoginForm").validationEngine();$("#passwordForm").validationEngine();if($("#userLoginForm").validationEngine("validate")&&$("#passwordForm").validationEngine()){var b=document.getElementById("login-email").value;if(a=="change"){b=$(".your-details .spc-content-inner #change-email input[type=text]").val()}$(".user-email .email").html(b);$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/customerByEmail",async:false,cache:false,dataType:"json",data:"loginEmail="+b+"&cartId="+c,success:function(d){updateSpcAddress(d,b);updateSpcLoginPage(d,a)}})}}function updateSpcAddress(c,d){setSpcStates(c);$(".spc-call-prefix").html("+"+c.callPrefix);if(typeof c.emailStatus!="undefined"&&c.emailStatus!="new"){var b=JSON.parse(c.customerDetail);if(b&&b.length!==0){var a='<input id="countryId1_delivery" name="country.name" class="form-control-3" disabled="disabled" type="text"+ value="'+b.customerCountry+'" placeholder="SELECT COUNTRY"  size="42"/>';setSpcAddressHeader(b,d);$(".your-details #updateUserData .user-email .email").html(d);$(".your-details #updateUserData #fullname").val(b.customerName);$(".your-details #updateUserData #contactNumber").val(b.customerContactNo);$(".your-details #updateUserData #altContactNumber").val(b.customerAltContactNo);$(".your-details #updateUserData .countryList").html(a);$(".your-details #updateUserData #address").val(b.customerAddress);$(".your-details #updateUserData #postcode_delivery").val(b.customerPincode);$(".your-details #updateUserData #cityName_delivery").val(b.customerCity);if(c.city){$("#cityName_delivery").val(c.city);if(c.country=="India"){$("#stateId_delivery").val(c.id_state-1)}}if(c.country=="United Kingdom"){$(".state-list").addClass("hide")}else{$(".state-list").removeClass("hide")}if(c.country!="India"){$(".spc-pin-code").html("Zip Code")}else{$(".spc-pin-code").html("Pin Code")}}}else{$(".your-details .heading .email").html(d);$(".your-details #updateUserData .user-email .email").html(d);if(c.country=="United Kingodm"){$(".state-list").addClass("hide")}else{$(".state-list").removeClass("hide")}if(c.country!="India"){$(".spc-pin-code").html("Zip Code")}else{$(".spc-pin-code").html("Pin Code")}}}function setSpcAddressHeader(a,b){$(".your-details .heading .email").html(b);$(".your-details .heading .name-contact").html(a.customerName+" +"+a.callPrefix+a.customerContactNo);$(".your-details .heading .city-pincode").html(a.customerCity+" - "+a.customerPincode);if(a.country!="United Kingdom"){$(".your-details .heading .state").slideDown()}else{$(".your-details .heading .state").slideUp()}$(".your-details .heading .state").html(a.customerState);$(".your-details .heading .address").html(a.customerAddress)}function updateSpcCartDetail(b){var a=b.cartItemTotalCount;var c="";c=b.spcCartDivision;$(".your-order .heading .cartCount").html(a);$(".your-order .cart-body .cart-item").html(c);var e=b.cartFinalPrice;$(".your-order .cart-footer .you-pay #getActualPrice").html(b.cartPriceWithoutDiscount);$(".your-order .you-pay .price-without-discount .WebRupee").html(b.currencySymbol);if(b.country=="India"){$(".your-order .you-pay .price-without-discount .WebRupee-spc").switchClass("WebRupee-spc","WebRupee").html(b.currencySymbol);$(".your-order .you-pay .price .WebRupee-spc").switchClass("WebRupee-spc","WebRupee").html(b.currencySymbol);$(".offer-helper-block #voucher-code").removeClass("hide")}else{$(".your-order .you-pay .price-without-discount .WebRupee").switchClass("WebRupee","WebRupee-spc").html(b.currencySymbol);$(".your-order .you-pay .price .WebRupee").switchClass("WebRupee","WebRupee-spc").html(b.currencySymbol);$(".offer-helper-block #voucher-code").addClass("hide")}var d=$(".your-order .cart-body .offer-container #actual-blue-wallet").val();if($("#voucher-code input[type=checkbox]").is(":checked")&&b.voucherValue==0){$(".your-order .cart-footer .voucher-code").addClass("hide")}if(typeof b.voucherValue!="undefined"&&b.voucherValue!=0&&typeof b.voucherCode!=undefined){$(".your-order .cart-footer .voucher-code .voucher-value").html(b.voucherValue.toLocaleString());$(".your-order .cart-footer .voucher-code").removeClass("hide");$("#discountCode").val(b.voucherCode);$(".offer-helper-block #voucher-code #have-discount").prop("checked",true);$(".offer-helper-block #voucher-code").addClass("show-content");$(".offer-helper-block #voucher-code label i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark");$("#voucher-form button.btn > span").text("Remove");$("#voucher-code .voucher .message.success").removeClass("hide");$("#discountCode").attr("readonly","readonly")}if($("#blue-wallet input[type=checkbox]").is(":checked")&&d!=0&&typeof b.isVeryFirstOrder=="undefined"){e=e-parseFloat(d.replace(/,/g,""));if(e<=0){e=0;$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(b.cartFinalPrice.toLocaleString());$(".your-order .cart-body .offer-container .blue-wallet .blue-wallet-amount").html(b.cartFinalPrice.toLocaleString())}else{$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(d);$(".your-order .cart-body .offer-container .blue-wallet .blue-wallet-amount").html(d.toLocaleString())}}$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(e.toLocaleString());$(".your-order .heading .right .you-pay").html(e.toLocaleString());if(e<b.cartPriceWithoutDiscount){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}else{$(".your-order .cart-footer .you-pay .price-without-discount").addClass("hide")}}function updateSpcLoginPage(c,a){var d=c.blueWallet;if(a=="change"){var b=$(".your-details .spc-content-inner #change-email #login-email-update").val();$(".your-details .spc-content-inner .input-email #login-email").val(b)}if(d&&d.length!=0&&d!=="0"&&typeof c.isVeryFirstOrder=="undefined"){$(".your-details .spc-content-inner #change-email").slideUp();$(".your-details .spc-content-inner .input-email").slideUp();$(".your-details .user-email .info-block .blue-wallet").html(d);if(c.country=="India"){$(".your-details .user-email .info-block .WebRupee-spc").switchClass("WebRupee-spc","WebRupee").html(c.currencySymbol)}else{$(".your-details .user-email .info-block .WebRupee").switchClass("WebRupee","WebRupee-spc").html(c.currencySymbol)}$(".your-order .offer-helper-block .blue-wallet .blue-wallet-amount").html(d);updateBlueWalletInfo(c);$(".your-details .spc-content-inner .user-email").slideDown();$(".your-details .spc-content-inner .login-email").slideDown();$(".your-details .spc-content-inner #enter-password-block").slideDown()}else{$(".your-details .spc-content-inner .change-email").slideUp();$(".your-details .spc-content-inner #userLoginForm").slideUp();$(".your-details .spc-content-inner #updateUserData").slideDown()}}function updateBlueWalletInfo(b){var e=b.blueWallet;if(e==0&&b.country!="India"){$(".offer-helper-block").addClass("hide");return}else{$(".offer-helper-block").removeClass("hide")}var d=false;var c=false;var a="Your account contains "+b.currencySymbol;if(b.blueCash&&b.blueCash.length!=0&&b.blueCash!=="0"){a+=b.blueCash+" in Blue Cash ";d=true}if(b.blueCredit&&b.blueCredit.length!=0&&b.blueCredit!=="0"){if(d){a+="And "+b.currencySymbol+b.blueCredit+" in Blue Credit "}else{a+=b.blueCredit+" in Blue Credit "}c=true}if(b.blueFew&&b.blueFew.length!=0&&b.blueFew!=="0"){if(d||c){a+="And "+b.currencySymbol+b.blueFew+" in Blue Few "}else{a+=b.blueFew+" in Blue Few "}}if(e!=""){$(".your-order .offer-helper-block .blue-wallet .blue-wallet-info").html(a);$(".your-details .login-email .user-email .blue-wallet-info").html(a)}}function spcLogin(c){var b=$("#userLoginForm .user-email span.email").text();var a=$("#passwordForm #password").val();$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/loginCustomer",async:false,cache:false,dataType:"json",data:"loginEmail="+b+"&loginPassword="+a+"&cartId="+c,success:function(d){getSpcAddressDetail(d.errorMessage)}});return false}function getSpcAddressDetail(a){if(!a||0===a.length){$(".spc-content-inner #updateUserData #show-email-2").addClass("hide");$(".your-details #enter-password-block .error").addClass("hide");$(".spc-content-inner .login-email").slideUp();$(".spc-content-inner #enter-password-block").slideUp();$(".spc-content-inner #updateUserData").slideDown()}else{$(".your-details #enter-password-block .error").removeClass("hide");$(".your-details #enter-password-block .error .v-msg").html(a);$(".spc-content-inner #updateUserData #show-email-2").removeClass("hide")}}function updateSpcShippingAddress(m){$("#updateUserData").validationEngine();if($("#updateUserData").validationEngine("validate")){var q=$(".your-details #updateUserData #fullname").val();var b=$(".your-details #updateUserData .user-email .email").html();var l=$(".your-details #updateUserData #contactNumber").val();var h=$(".your-details #updateUserData #altContactNumber").val();var e=document.getElementById("countryId1_delivery");if(e==null){e=document.getElementById("countryId_delivery")}var c="";if(e.tagName=="SELECT"){c=e.options[e.selectedIndex].value}else{c=$(".your-details #updateUserData #countryId1_delivery").val()}var d=document.getElementById("stateId_delivery");var g=d.options[d.selectedIndex].text;var n=$(".your-details #updateUserData #address").val();var k=$(".your-details #updateUserData #postcode_delivery").val();var j=$(".your-details #updateUserData #cityName_delivery").val();if($("#blueWallet").is(":checked")){useBlueWallet=true}else{useBlueWallet=false}var a=$(".your-details #gift-msg-form #giftTo").val();var o=$(".your-details #gift-msg-form #giftFrom").val();var f=$(".your-details #gift-msg-form #giftMsg").val();var p="";if($("#edit-gift-wrapper label input").is(":checked")){p="on"}$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/updateShippingAddress",async:false,cache:false,dataType:"json",data:"cartId="+m+"&fullname="+q+"&contactNumber="+l+"&altContactNumber="+h+"&state="+g+"&customerCountry="+c+"&customerAddress="+n+"&customerPincode="+k+"&customerCity="+j+"&loginEmail="+b+"&addGiftMsg="+p+"&giftTo="+a+"&giftFrom="+o+"&giftMsg="+f,success:function(s){var t="";if(typeof s.showJpMilesOption!="undefined"&&s.showJpMilesOption==true){if(typeof s.jpMilesCardNumber!="undefined"&&s.jpMilesCardNumber!="-1"){$("#jp-miles .jp-miles #jp-miles-form #jp-miles-discountCode").val(s.jpMilesCardNumber);$(".offer-helper-block #jp-miles #lbl-jp-miles").prop("checked",true);$(".offer-helper-block #jp-miles").addClass("show-content");$(".offer-helper-block #jp-miles label i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark");$("#jp-miles .jp-miles .error").addClass("hide");if(typeof s.jpMilesPoints!="undefined"){$("#jp-miles .jp-miles .success #jp-miles-point").html(s.jpMilesPoints)}$("#jp-miles-discountCode").attr("readonly","readonly");$("#jp-miles-form #jp-miles-toggle").val("Remove");$("#jp-miles .jp-miles .success").removeClass("hide")}else{$("#jp-miles .jp-miles #jp-miles-form #jp-miles-discountCode").val("");$(".offer-helper-block #jp-miles #lbl-jp-miles").prop("checked",false);$(".offer-helper-block #jp-miles").removeClass("show-content");$(".offer-helper-block #jp-miles label i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline");$("#jp-miles .jp-miles .error").addClass("hide");$("#jp-miles-discountCode").removeAttr("readonly");$("#jp-miles-form #jp-miles-toggle").val("Apply");$("#jp-miles .jp-miles .success").addClass("hide")}$("#jp-miles").removeClass("hide")}else{$("#jp-miles").addClass("hide")}if(typeof s.pinCodeError!="undefined"&&s.pinCodeError==true){t='<div class="msg-style-2 error"> <span class="icon-ion-android-alert"></span> <div class="v-msg"> Invalid Pincode</div> </div>';$(".spc-body .pincode-error").html(t);$(".spc-body .pincode-error").slideDown()}else{$(".spc-body .error-wrapper").html(t);$(".spc-body .error-wrapper").slideUp();if(typeof s.country!="undefined"&&s.country=="India"){$(".your-order .cart-body .offer-container .blue-wallet .WebRupee").switchClass("WebRupee-spc","WebRupee").html(s.currencySymbol);$(".your-order .cart-footer .blue-wallet-applied .WebRupee").switchClass("WebRupee-spc","WebRupee").html(s.currencySymbol)}else{$(".your-order .cart-body .offer-container .blue-wallet .WebRupee").switchClass("WebRupee","WebRupee-spc").html(s.currencySymbol);$(".your-order .cart-footer .blue-wallet-applied .WebRupee").switchClass("WebRupee","WebRupee-spc").html(s.currencySymbol)}updateSpcCartDetail(s);getSpcCartDetail(s);setSpcAddressHeader(s,b);updateBlueWalletInfo(s);var r=s.cartFinalPrice;if(typeof s.blueWallet!="undefined"&&s.blueWallet!="0"){r=s.cartFinalPrice;if(typeof s.isVeryFirstOrder=="undefined"){$(".your-order .cart-body .offer-container #actual-blue-wallet").val(s.blueWallet);$(".offer-helper-block #blue-wallet").removeClass("hide").addClass("show-content");$(".offer-helper-block #blue-wallet #blueWallet").prop("checked",true);$(".offer-helper-block #blue-wallet label i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark");r=r-s.blueWallet}if(s.blueWallet&&s.blueWallet.length!=0&&s.blueWallet!=="0"&&typeof s.isVeryFirstOrder=="undefined"){$(".your-order .cart-footer .blue-wallet-applied").removeClass("hide");if(r<=0){$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(0);$(".your-order .cart-body .offer-container .blue-wallet .blue-wallet-amount").html(s.cartFinalPrice);$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(s.cartFinalPrice)}else{$(".your-order .cart-body .offer-container .blue-wallet .blue-wallet-amount").html(s.blueWallet.toLocaleString());$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(r.toLocaleString());$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(s.blueWallet.toLocaleString())}}else{$(".your-order .cart-footer .blue-wallet-applied").slideUp();$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(s.blueWallet);$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(r)}$(".your-order .heading .right .you-pay").html(r)}if(r<=0){$(".cart-footer .confirm-btn-wrapper").removeClass("hide");$(".cart-footer #cart-continue-to-pay").addClass("hide");$("section.payment-options").addClass("hide")}else{$(".cart-footer .confirm-btn-wrapper").addClass("hide");$(".cart-footer #cart-continue-to-pay").removeClass("hide");$("section.payment-options").removeClass("hide")}$(".your-details .spc-content .spc-content-inner > .content").slideUp();$("#updateUserData button.btn span").show();$("#updateUserData .ajax-loader").hide();if(r<s.cartPriceWithoutDiscount){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}else{$(".your-order .cart-footer .you-pay .price-without-discount").addClass("hide")}}}})}}function setPaymentDetail(e,d){var c=e.cartFinalPrice;if(typeof e.voucherValue!="undefined"){c+=e.voucherValue}var a='<span class="WebRupee-spc">'+e.currencySymbol+"</span>";if(typeof e.country!="undefined"&&e.country=="India"){a='<span class="WebRupee">'+e.currencySymbol+"</span> "}var b=false;if(typeof e.isVeryFirstOrder!="undefined"&&e.isVeryFirstOrder==true){b=true}var g=e.finalPriceToPay;var f="<ul>";f+="<li>";f+="<div>Items Total</div>";f+="<div>"+a+c.toLocaleString()+"</div>";f+="</li>";if(d==true&&typeof e.blueWallet!="undefined"&&e.blueWallet!="0"&&b==false){f+="<li>";f+='<div class="blue-wallet">Blue Wallet</div>';f+="<div>-"+a+e.blueWallet.toLocaleString()+"</div>";f+="</li>"}if(typeof e.voucherValue!="undefined"&&e.voucherValue!="0"){f+="<li>";f+='<div class="dicount-voucher">Discount<span>(Via Voucher)</span></div>';f+="<div>-"+a+e.voucherValue.toLocaleString()+"</div>";f+="</li>"}if(typeof e.giftVoucher!="undefined"&&e.giftVoucher!="0"){if(d==false&&typeof e.creditDebited!="undefined"&&e.creditDebited!="0"){f+="<li>";f+='<div class="blue-wallet">Blue Wallet</div>';f+="<div>-"+a+e.creditDebited.toLocaleString()+"</div>";f+="</li>"}f+="<li>";f+='<div class="gift-voucher">Gift Voucher<span></span></div>';f+="<div>-"+a+e.giftVoucher.toLocaleString()+"</div>";f+="</li>"}f+='<li class="reward-point-tab hide">';f+='<div class="reward-point">Reward Points</div>';f+="<div>-"+a+'<span class="reward-amount"> '+e.rewardPoint+"</span></div>";f+="</li>";$(".payment-options .payment-option-wrapper .payment-details .paymnet-breakup").html(f);f="</ul>";f+='<div class="final-price">';f+="<div>You Pay</div>";f+="<div>";f+='<div class="new-price">'+a+'<span class="you-pay-net"> '+g.toLocaleString()+"</span></div>";if(e.cartFinalPrice<e.cartPriceWithoutDiscount){f+='<div class="old-price strike" >'+a+e.cartPriceWithoutDiscount.toLocaleString()+"</div>"}f+="</div>";f+="</div>";$(".payment-options .payment-option-wrapper .payment-details .paymnet-you-pay").html(f);if(g<=0){$("section.payment-options").addClass("disable-payment-option")}else{$("section.payment-options").removeClass("disable-payment-option")}$(".your-order .heading .right .you-pay").html(g.toLocaleString());if(typeof e.country!="undefined"&&e.country=="India"){$(".your-order .heading .right .WebRupee-spc").switchClass("WebRupee-spc","WebRupee").html(e.currencySymbol)}else{$(".your-order .heading .right .WebRupee").switchClass("WebRupee","WebRupee-spc").html(e.currencySymbol)}}function updateSpcCityStateByPincode(){var a=document.getElementById("countryId_delivery");var b="";if(a==null){b=document.getElementById("countryId1_delivery").value}else{b=a.options[a.selectedIndex].text}if(b!="India"){return}$(".spc-body .pincode-error").html("");$(".spc-body .pincode-error").slideUp();var c=$("#postcode_delivery").val();$.ajax({type:"GET",url:GLOBAL_CTX+"/address/",async:false,cache:true,dataType:"json",data:"ajax=true&submitPincode=true&pincode="+c,success:function(d){if(d.city){$("#cityName_delivery").val(d.city);$("#stateId_delivery").val(d.id_state-1)}}})}function updateSpcAddressFormByCountry(b){var a=$("#countryId_delivery")[0];$("#edit-state-wrapper").children().remove();$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/address/states",data:"ajax=true&country="+$("#countryId_delivery").val(),async:false,cache:true,dataType:"json",success:function(c){setSpcStates(c)}})}function setSpcStates(d){var e=false;var b=d.states;for(var c in b){e=true;break}var a='<label class="col-xs-3 control-label text-right" for="stateId_delivery">State</label>';a+='<div class="col-xs-5">';if(e){a+='<select id="stateId_delivery" name="stateId" class="form-control-3 validate[required]" ><option value="">Select State</option>';for(var c in b){a+='<option value="'+c+'">'+b[c].stateName+"</option>"}a+="</select></div>";$("#updateUserData .state-list").html(a);$("#updateUserData .state-list").removeClass("hide")}else{a+='<select id="stateId_delivery" name="stateId" class="form-control-3 validate[required]" ><option value="-1">NA</option></select></div>';$("#updateUserData .state-list").html(a);$("#updateUserData .state-list").addClass("hide")}}function getSpcCartDetail(a){$(".spc-content-inner #updateUserData").slideUp();$(".spc-body .your-details").addClass("completed");$(".spc-body .your-details").removeClass("active-tab");$(".spc-body .your-order").addClass("active-tab");$(".spc-body .your-order .spc-content-inner > .content").slideDown();if(a.cartFinalPrice<a.cartPriceWithoutDiscount){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}}function updateSpcQuantity(a,d,c){var b=a.options[a.selectedIndex].value;$(a).prop("disabled","disabled");setTimeout(function(){$(a).removeAttr("disabled")},3000);updateSpcCartItemQuantity(c,d,b);$(a).removeAttr("disabled")}function updateSpcCartItemQuantity(c,d,a){$(".formError").remove();var b="false";if($("#blueWallet").is(":checked")){b=true}else{b=false}$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/updateQuantity",async:false,cache:false,dataType:"json",data:"cartItemId="+c+"&cartItemQuantity="+a+"&cartId="+d,success:function(f){if(typeof f.jpMilesPoints!="undefined"){$("#jp-miles .jp-miles .success #jp-miles-point").html(f.jpMilesPoints)}$(".spc-body .your-order .delivery-error").slideUp();if(f.cartItemTotalCount==0){window.location.href=GLOBAL_CTX+"/jewellery.html"}else{updateSpcCartDetail(f);var e=0;if($("#blue-wallet input[type=checkbox]").is(":checked")&&blueWallet!=0&&typeof f.isVeryFirstOrder=="undefined"){e=f.blueWallet}if(f.cartFinalPrice<=e){$(".cart-footer .confirm-btn-wrapper").removeClass("hide");$(".cart-footer #cart-continue-to-pay").addClass("hide");$("section.payment-options").addClass("hide")}else{$(".cart-footer .confirm-btn-wrapper").addClass("hide");$(".cart-footer #cart-continue-to-pay").removeClass("hide");$("section.payment-options").removeClass("hide")}}}})}function toggleVoucherCode(a,e){var c=document.getElementById("discountCode").value;var d=$("#voucher-form button.btn > span").text();if(d=="Apply"){d="true"}else{d="false"}var b=$(".your-details #updateUserData .user-email .email").html();$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/toggleVoucherCode",async:false,cache:false,dataType:"json",data:"discountCode="+c+"&cartId="+e+"&useVoucherCode="+d+"&loginEmail="+b,success:function(f){handleVoucherCode(a,f,d)}})}function handleVoucherCode(c,d,f){if(d.isVoucherCodeError==false){var a=false;if($("#jp-miles input[type=checkbox]").is(":checked")){a=true}if(a){$("#jp-miles label").removeClass("jpm-applied");$("#jp-miles .jp-miles .error").addClass("hide");$("#jp-miles .jp-miles .success").addClass("hide");$("#jp-miles-form #jp-miles-toggle").val("Apply");$("#jp-miles-discountCode").removeAttr("readonly");$("#jp-miles .jp-miles #jp-miles-form #jp-miles-discountCode").val("");$(".offer-helper-block #jp-miles #lbl-jp-miles").prop("checked",false);$(".offer-helper-block #jp-miles").removeClass("show-content");$(".offer-helper-block #jp-miles label i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}if($("#blue-wallet input[type=checkbox]").is(":checked")){useBlueWallet=true}else{useBlueWallet=false}var e=0;var b=0;if(useBlueWallet){e=d.cartFinalPrice-d.blueWallet}else{e=d.cartFinalPrice}if(e<=0){b=d.cartFinalPrice;$(".your-order .heading .right .you-pay").html(0);$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(0)}else{b=d.blueWallet;$(".your-order .heading .right .you-pay").html(e.toLocaleString());$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(e.toLocaleString())}$(".your-order .cart-body .offer-container .blue-wallet .blue-wallet-amount").html(b);$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(b);if(f=="true"&&d.isVoucherCodeError==false&&d.voucherApplied==true&&d.voucherValue&&d.voucherValue!=="0"){$(".your-order .cart-body #voucher-code label").addClass("voucher-applied");$("#discountCode").attr("readonly","readonly");$("#have-discount").attr("readonly","readonly");$("#voucher-form button.btn > span").text("Remove");$(".your-order .cart-footer .voucher-code .voucher-value").html(d.voucherValue);$(".your-order .cart-footer .voucher-code").removeClass("hide");$(".your-order .cart-body .offer-helper-block .voucher .error").addClass("hide").fadeOut();setTimeout(function(){$(".your-order .cart-body .offer-helper-block .voucher .success").removeClass("hide")},500)}else{if(f=="false"&&d.isVoucherCodeError==false&&d.voucherApplied==true){$("#discountCode").removeAttr("readonly");$("#have-discount").removeAttr("readonly");$(".your-order .cart-body #voucher-code label").removeClass("voucher-applied");$("#voucher-form button.btn > span").text("Apply");$(".your-order .cart-body .offer-helper-block .voucher .success").addClass("hide");$(".your-order .cart-footer .voucher-code").addClass("hide");$(".your-order .cart-footer .voucher-code .voucher-value").html(d.voucherValue)}}if(e<d.cartPriceWithoutDiscount){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}else{$(".your-order .cart-footer .you-pay .price-without-discount").addClass("hide")}}else{$(".your-order .cart-body .offer-helper-block .voucher .error").fadeOut().fadeIn()}}function toggleJpMilesCode(b,e){var d=document.getElementById("jp-miles-discountCode").value;var a=$("#jp-miles-form #jp-miles-toggle").val();if(a=="Apply"){a="true"}else{a="false"}var c=$(".your-details #updateUserData .user-email .email").html();$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/toggleJpMilesPoint",async:false,cache:false,dataType:"json",data:"jpmNumber="+d+"&cartId="+e+"&useJpMiles="+a+"&loginEmail="+c,success:function(g,f){setJpMilesInfo(g,a)}})}function setJpMilesInfo(f,d){if(d=="true"){if(typeof f.isJpmNumberError!="undefined"&&f.isJpmNumberError==false){var k=false;if($("#voucher-code input[type=checkbox]").is(":checked")){k=true}if(k){$("#discountCode").removeAttr("readonly");$("#have-discount").removeAttr("readonly");$(".your-order .cart-body #voucher-code label").removeClass("voucher-applied");$("#voucher-form button.btn > span").text("Apply");$(".your-order .cart-body .offer-helper-block .voucher .success").addClass("hide");$(".your-order .cart-body .offer-helper-block .voucher .error").addClass("hide");$(".your-order .cart-footer .voucher-code").addClass("hide");$(".your-order .cart-footer .voucher-code .voucher-value").val("");$(".offer-helper-block #voucher-code #voucher #discountCode").val("");$(".offer-helper-block #voucher-code #have-discount").prop("checked",false);$(".offer-helper-block #voucher-code").removeClass("show-content");$(".offer-helper-block #voucher-code label i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}$("#jp-miles label").addClass("jpm-applied");$("#jp-miles .jp-miles .error").addClass("hide");if(typeof f.jpMilesPoints!="undefined"){$("#jp-miles .jp-miles .success #jp-miles-point").html(f.jpMilesPoints)}$("#jp-miles-discountCode").attr("readonly","readonly");$("#jp-miles-form #jp-miles-toggle").val("Remove");$("#jp-miles .jp-miles .success").removeClass("hide");var c=$(".your-order .cart-footer .you-pay #getDiscountedPrice").html();var g=$(".your-order .cart-footer .you-pay #getActualPrice").html();var a=false;if($("#blue-wallet input[type=checkbox]").is(":checked")){a=true}c=f.cartFinalPrice;var j=c;if(a){var e=$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html();var b=$(".your-order .cart-body .offer-container #actual-blue-wallet").val();j=j-parseFloat(b.replace(/,/g,""));if(j<=0){j=0;e=parseFloat(cartPrice.replace(/,/g,""))}else{e=b}$(".your-order .cart-footer .blue-wallet-applied .blue-wallet").html(e.toLocaleString());if(j=="0"){$(".cart-footer .confirm-btn-wrapper").removeClass("hide");$(".cart-footer #cart-continue-to-pay").addClass("hide");$("section.payment-options").addClass("hide")}else{$(".cart-footer .confirm-btn-wrapper").addClass("hide");$(".cart-footer #cart-continue-to-pay").removeClass("hide");$("section.payment-options").removeClass("hide")}if(j<f.cartPriceWithoutDiscount){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}else{$(".your-order .cart-footer .you-pay .price-without-discount").addClass("hide")}}$(".your-order .heading .right .you-pay").html((j).toLocaleString());$(".your-order .cart-footer .you-pay #getDiscountedPrice").html((j).toLocaleString())}else{var h="Error in redemtion";if(typeof f.isJpmNumberError!="undefined"&&typeof f.jpMilesError!="undefined"){h=f.jpMilesError;$("#jp-miles .jp-miles .error #jp-miles-error").html(h);$("#jp-miles .jp-miles .success").addClass("hide");$("#jp-miles .jp-miles .error").removeClass("hide")}}}else{if(typeof f.isJpmNumberError!="undefined"&&f.isJpmNumberError==false){$("#jp-miles .jp-miles .error").addClass("hide");$("#jp-miles .jp-miles .success").addClass("hide");$("#jp-miles-form #jp-miles-toggle").val("Apply");$("#jp-miles-discountCode").removeAttr("readonly");$("#jp-miles .jp-miles #jp-miles-form #jp-miles-discountCode").val("");$("#jp-miles label").removeClass("jpm-applied")}else{var h="Error in remove";$("#jp-miles .jp-miles .error #jp-miles-error").html(h);$("#jp-miles .jp-miles .success").addClass("hide");$("#jp-miles .jp-miles .error").removeClass("hide")}}}function getPaymentOptions(f,a,e){clearGiftCardField();var c=$(".your-details #updateUserData #login-email").val();if(f==null){f="jewellery"}var d=false;var b="false";if($("#blueWallet").is(":checked")){b=true}else{b=false}$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/getPaymentDetail",async:false,cache:false,dataType:"json",data:"loginEmail="+c+"&cartId="+e+"&useBlueWallet="+b,success:function(g){var h="";if(typeof g.isPrePaidCarrierAvailable!="undefined"&&g.isPrePaidCarrierAvailable==false){h='<p><span class="icon"></span>'+g.prepaidErrorStr+"</p>";$(".spc-body .your-order .delivery-error").html(h);$(".spc-body .your-order .delivery-error").slideDown();d=true}else{if(typeof g.pinCodeError!="undefined"&&g.pinCodeError==true){h='<p><span class="icon"></span> Invalid Pincode </p>';$(".spc-body .your-order .delivery-error").html(h);$(".spc-body .your-order .delivery-error").slideDown();d=true}else{d=false;$(".spc-body .your-order .delivery-error").html(h);$(".spc-body .your-order .delivery-error").slideUp();setPaymentDetail(g,b);$(".cart-footer button.btn span").show();$(".cart-footer .ajax-loader").hide();if(typeof g.country!="undefined"&&g.country=="India"){$(".payment-option-title ul li.paypal-tab").addClass("hide");$(".payment-option-title ul li.paypal-tab").removeClass("selected");$(".payment-option-title ul li").removeClass("selected");$(".indian-payment-form").children().removeClass("selected");$(".payment-option-title ul li.credit-card-tab").addClass("selected");$(".payment-option-title ul li.selected").siblings().not(".paypal-tab").removeClass("hide");$(".indian-payment-form #paypal-content").removeClass("selected");$(".indian-payment-form #creditcard-content").addClass("selected");if(typeof g.rewardPoint!="undefined"&&g.rewardPoint!="0"&&g.cartFinalPrice==g.rewardPoint){$(".payment-option-title .reward-point-tab").addClass("selected");$(".payment-option-title ul li.selected").siblings().not(".paypal-tab").addClass("hide");$(".payment-option-title ul li.gc").removeClass("hide")}else{$(".payment-option-title ul li.selected").siblings().not(".paypal-tab").removeClass("hide");if(typeof g.rewardPoint!="undefined"&&g.rewardPoint>=0){$(".payment-option-form #spc-finalMessageDiv #spc-amountRedeemed").html(g.rewardPoint.toLocaleString());$(".payment-option-form #spc-finalMessageDiv").slideDown();$(".payment-option-form #rewardPointsFinalForm #ContinuePaymentDiv").slideDown();$(".payment-option-form  #cardDetailsDiv").slideUp()}else{$(".payment-option-form #spc-finalMessageDiv").slideUp();$(".payment-option-form #spc-finalMessageDiv #spc-amountRedeemed").html("0");$(".payment-option-form #rewardPointsFinalForm #ContinuePaymentDiv").slideUp();$(".payment-option-form  #cardDetailsDiv").slideDown()}}if(typeof g.rewardPoint!="undefined"&&g.rewardPoint!="0"){$(".payment-option-wrapper .payment-details .paymnet-breakup .reward-point-tab .reward-amount").html(g.rewardPoint.toLocaleString());$(".paymnet-breakup .reward-point-tab").removeClass("hide")}if(g.isEmiApplicable==true){$(".payment-option-wrapper .payment-option-title .emi-tab").removeClass("hide")}else{$(".payment-option-wrapper .payment-option-title .emi-tab").addClass("hide")}if(g.hasGoldCoin==true){$(".payment-option-wrapper .payment-option-title .reward-point-tab").addClass("hide")}else{$(".payment-option-wrapper .payment-option-title .reward-point-tab").removeClass("hide")}if(typeof g.isPostPaidCarrierAvailable!="undefined"&&g.isPostPaidCarrierAvailable==false){$(".payment-options #cashondelivery .cod-carrier-error").removeClass("hide");$(".payment-options #cashondelivery .cod-carrier-error .spc-cod-error").html(g.codErrorStr);$(".payment-options #cashondelivery .cod-error").addClass("hide");$(".payment-options #cashondelivery .net-banking").addClass("hide")}else{$(".payment-options #cashondelivery .cod-carrier-error").addClass("hide");$(".payment-options #cashondelivery .cod-error").removeClass("hide");$(".payment-options #cashondelivery .net-banking").removeClass("hide");if(typeof g.isBluestoneCarrier_checkout!="undefined"&&g.isBluestoneCarrier_checkout==false){$(".payment-options #cashondelivery .nopadding").addClass("hide")}else{$(".payment-options #cashondelivery .nopadding").removeClass("hide")}if(typeof g.hasSolitaire!="undefined"&&g.hasSolitaire){$(".payment-options #cashondelivery .net-banking").addClass("hide");$(".payment-options #cashondelivery .cod-error").removeClass("hide")}else{$(".payment-options #cashondelivery .net-banking").removeClass("hide");$(".payment-options #cashondelivery .cod-error").addClass("hide")}}}else{$(".payment-option-title ul li.credit-card-tab").removeClass("selected");$(".payment-option-title ul li.paypal-tab").addClass("selected");$(".payment-option-title ul li.selected").siblings().addClass("hide");$(".payment-option-title ul li.paypal-tab").removeClass("hide");$(".indian-payment-form").children().removeClass("selected");$(".indian-payment-form #paypal-content").addClass("selected")}}}}});if(d==false){$(".spc-body .your-order .spc-content-inner > .content").slideUp();$(".spc-body .your-order").removeClass("active-tab");$(".spc-body .your-order").addClass("completed");$(".spc-body .payment-options").addClass("active-tab");$(".spc-body .payment-options .spc-content-inner > .content").slideDown()}}function toggleGiftCard(e,c){$("#egift-card-form .gc-apply .gc-err").addClass("hide");$("#egift-card-form").validationEngine();if($("#egift-card-form").validationEngine("validate")==false){return false}$("#add-more-btn-div").addClass("hide");var d=0;if($(".giftcard-1 #giftCardNumber-1").val()!=undefined&&$(".giftcard-1 #giftCardNumber-1").val()!=""){d++;$(".gc-info .gc-succ-1 .gift-card-no").html($(".giftcard-1 #giftCardNumber-1").val())}if($(".giftcard-2 #giftCardNumber-2").val()!=undefined&&$(".giftcard-2 #giftCardNumber-2").val()!=""){d++;$(".gc-info .gc-succ-2 .gift-card-no").html($(".giftcard-2 #giftCardNumber-2").val())}if($(".giftcard-3 #giftCardNumber-3").val()!=undefined&&$(".giftcard-3 #giftCardNumber-3").val()!=""){d++;$(".gc-info .gc-succ-3 .gift-card-no").html($(".giftcard-3 #giftCardNumber-3").val())}var a="giftCardNumber1="+$(".giftcard-1 #giftCardNumber-1").val()+"&giftCardPin1="+$(".giftcard-1 #giftCardPin-1").val();a+="&giftCardNumber2="+$(".giftcard-2 #giftCardNumber-2").val()+"&giftCardPin2="+$(".giftcard-2 #giftCardPin-2").val()+"&giftCardNumber3="+$(".giftcard-3 #giftCardNumber-3").val()+"&giftCardPin3="+$(".giftcard-3 #giftCardPin-3").val();var b=false;if($("#blue-wallet input[type=checkbox]").is(":checked")){b=true}$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/getGiftCardDetail",async:false,cache:false,dataType:"json",data:a+"&cartId="+e+"&giftCardsCount="+d+"&useBlueWallet="+b,success:function(f){$(".gc-info .success").removeClass("hide");if(isAllCardAppliedValid(f,d)&&typeof f.giftCardAmount!=="undefined"&&f.giftCardAmount!=0){$("#egift-card-form .gc-apply .gc-err").addClass("hide");setPaymentDetail(f,b);if(typeof f.rewardPoint!="undefined"&&f.rewardPoint!="0"){$(".payment-option-wrapper .payment-details .paymnet-breakup .reward-point-tab .reward-amount").html(f.rewardPoint.toLocaleString());$(".paymnet-breakup .reward-point-tab").removeClass("hide")}$(".gc-info .gc-succ .gc-remain").html(f.finalPriceToPay);$(".gc-info .gc-succ-remain").removeClass("hide");$(".your-order .heading .right .you-pay").html(f.finalPriceToPay);$(".gc-info").removeClass("hide");$(".gc-info .remain-info").removeClass("hide");if(f.finalPriceToPay>0){$("#egift-card-form .gc-apply #gcPlaceOrder").addClass("hidden");$(".payment-option-title ul li.selected").siblings().not(".paypal-tab").removeClass("hide")}else{$(".payment-option-title ul li.selected").siblings().addClass("hide");$("#egift-card-form .gc-apply #gcPlaceOrder").removeClass("hidden");$("#egift-card-form .gc-apply #gcButton").addClass("hidden");$(".gc-info .remain-info").addClass("hide")}$("#egift-card-form .gc-apply #gcButton").addClass("hidden");$(".gc-info .success").removeClass("hide");if(f.giftCardAmountUsed1>0){$(".gc-info .gc-succ-1 .gc-used").html(f.giftCardAmountUsed1);$(".gc-info .gc-succ-1").removeClass("hide");$(".gc-info .gc-bal-1 .card-value").html(f.giftCardAmountRemain1);$(".gc-info .gc-bal-1").removeClass("hide");$(".giftcard-1").addClass("hide")}if(f.giftCardAmountUsed2>0){$(".gc-info .gc-succ-2 .gc-used").html(f.giftCardAmountUsed2);$(".gc-info .gc-succ-2").removeClass("hide");$(".gc-info .gc-bal-2 .card-value").html(f.giftCardAmountRemain2);$(".gc-info .gc-bal-2").removeClass("hide");$(".giftcard-2").addClass("hide")}if(f.giftCardAmountUsed3>0){$(".gc-info .gc-succ-3 .gc-used").html(f.giftCardAmountUsed3);$(".gc-info .gc-succ-3").removeClass("hide");$(".gc-info .gc-bal-3 .card-value").html(f.giftCardAmountRemain3);$(".gc-info .gc-bal-3").removeClass("hide");$(".giftcard-3").addClass("hide")}if((d==1||d==2)&&f.finalPriceToPay>0){$("#add-more-btn-div").removeClass("hide")}$(".form-group .gc-apply").addClass("hide")}else{if(c==true&&d==0){$(".payment-option-title ul li.selected").siblings().not(".paypal-tab").removeClass("hide");$("#egift-card-form .gc-apply #gcPlaceOrder").addClass("hidden");setPaymentDetail(f,b);$(".giftcard-1").removeClass("hide");$("#egift-card-form .gc-apply #gcButton").removeClass("hidden");$(".gc-info .gc-bal-1").addClass("hide");$(".gc-info .remain-info").addClass("hide");$(".gc-info .gc-succ-remain").addClass("hide");$(".gc-info .gc-succ-remain .gc-remain").html();$(".your-order .heading .right .you-pay").html(f.finalPriceToPay)}else{$("#egift-card-form .gc-apply .gc-err").removeClass("hide");$("#egift-card-form .gc-apply .gc-err .gc-error-msg").html(f.giftCardErrorMessage)}}if(f.isEmiApplicable==true&&c==true){$(".payment-option-wrapper .payment-option-title .emi-tab").removeClass("hide")}else{$(".payment-option-wrapper .payment-option-title .emi-tab").addClass("hide")}if(f.hasGoldCoin==true){$(".payment-option-wrapper .payment-option-title .reward-point-tab").addClass("hide")}else{if(typeof f.rewardPoint!="undefined"&&f.rewardPoint!="0"){$(".payment-option-wrapper .payment-details .paymnet-breakup .reward-point-tab .reward-amount").html(f.rewardPoint.toLocaleString());$(".payment-option-wrapper .payment-option-title .reward-point-tab").removeClass("hide");$(".paymnet-breakup .reward-point-tab").removeClass("hide")}}}})}function isAllCardAppliedValid(a,b){var d=0;var c=false;if(a.giftCardAmountUsed1>0){d++}if(a.giftCardAmountUsed2>0){d++}else{$(".giftcard-2 #giftCardNumber-2").val("");$(".giftcard-2 #giftCardPin-2").val("");$("#egift-card-form .giftcard-2").addClass("hide")}if(a.giftCardAmountUsed3>0){d++}else{$(".giftcard-3 #giftCardNumber-3").val("");$(".giftcard-3 #giftCardPin-3").val("");$("#egift-card-form .giftcard-3").addClass("hide")}if(b==d){c=true}else{c=false}if(b>1&&d==0){$("#add-more-btn-div").removeClass("hide");$("#egift-card-form .gc-apply #gcPlaceOrder").addClass("hidden");$("#egift-card-form .gc-apply #gcButton").addClass("hidden")}return c}function removeGiftCard(b,a){$(".gc-info .gc-bal-1").addClass("hide");$(".gc-info .gc-bal-1 .card-value").html();$(".gc-info .gc-succ-1").addClass("hide");$(".gc-info .gc-succ-1 .gift-card-no").html();$(".gc-info .gc-bal-2").addClass("hide");$(".gc-info .gc-bal-2 .card-value").html();$(".gc-info .gc-succ-2").addClass("hide");$(".gc-info .gc-succ-2 .gift-card-no").html();$(".gc-info .gc-bal-3").addClass("hide");$(".gc-info .gc-bal-3 .card-value").html();$(".gc-info .gc-succ-3").addClass("hide");$(".gc-info .gc-succ-3 .gift-card-no").html();$("#egift-card-form .giftcard-"+a).addClass("hide");$(".giftcard-"+a+" #giftCardNumber-"+a).val("");$(".giftcard-"+a+" #giftCardPin-"+a).val("");toggleGiftCard(b,true)}function clearGiftCardField(){$(".gc-info .gc-bal-1").addClass("hide");$(".gc-info .gc-bal-1 .card-value").html();$(".gc-info .gc-succ-1").addClass("hide");$(".gc-info .gc-succ-1 .gift-card-no").html();$(".gc-info .gc-bal-2").addClass("hide");$(".gc-info .gc-bal-2 .card-value").html();$(".gc-info .gc-succ-2").addClass("hide");$(".gc-info .gc-succ-2 .gift-card-no").html();$(".gc-info .gc-bal-3").addClass("hide");$(".gc-info .gc-bal-3 .card-value").html();$(".gc-info .gc-succ-3").addClass("hide");$(".gc-info .gc-succ-3 .gift-card-no").html();$(".giftcard-1 #giftCardNumber-1").val("");$(".giftcard-1 #giftCardPin-1").val("");$(".giftcard-2 #giftCardNumber-2").val("");$(".giftcard-2 #giftCardPin-2").val("");$(".giftcard-3 #giftCardNumber-3").val("");$(".giftcard-3 #giftCardPin-3").val("");$(".giftcard-1").removeClass("hide");$(".giftcard-2").addClass("hide");$(".giftcard-2").addClass("hide");$(".gc-succ-remain").addClass("hide");$(".gc-info .gc-succ-remain .gc-remain").html();$("#egift-card-form .gc-apply #gcPlaceOrder").addClass("hidden");$("#egift-card-form .gc-apply #gcButton").removeClass("hidden")}function handleGiftCardPayment(b,c){var a="giftCardNumber1="+$(".giftcard-1 #giftCardNumber-1").val()+"&giftCardPin1="+$(".giftcard-1 #giftCardPin-1").val();a+="&giftCardNumber2="+$(".giftcard-2 #giftCardNumber-2").val()+"&giftCardPin2="+$(".giftcard-2 #giftCardPin-2").val()+"&giftCardNumber3="+$(".giftcard-3 #giftCardNumber-3").val()+"&giftCardPin3="+$(".giftcard-3 #giftCardPin-3").val();handleBsCashPayment(c,a)}function handleMaxGetPayment(b){var a=getGiftCardDetail();handleBsCashPayment(b,a)}function confirmOrder(b){var a="false";if($("#blue-wallet input[type=checkbox]").is(":checked")){a="true"}url="useBlueWallet="+a;handleBsCashPayment(b,url)}function handleBsCashPayment(b,a){$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/bsCashPayment",async:false,cache:false,dataType:"json",data:a+"&cartId="+b,success:function(c){$("#bs-cash-success .bs-order").val(c.orderCode);$("#bs-cash-success").submit()}})}function addAnotherGiftCard(a){$(".giftcard-"+a).removeClass("hide");$("#egift-card-form .gc-apply #gcButton").removeClass("hidden");$("#egift-card-form .gc-apply").removeClass("hide");$(".gc-info .success").addClass("hide");$(".gc-info .success").addClass("hide");$("#egift-card-form .gc-apply .gc-err").addClass("hide");$("#egift-card-form #add-more-btn-div").addClass("hide");if(a=="3"){$("#add-more-btn-div").addClass("hide")}else{$(".add-more-btn #add-more").data("id","3")}}function sendSpcOTPForVerification(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/sendOtpForVerification/",async:false,cache:false,dataType:"json",data:"cartId="+a,success:function(b){if(b.hasError){$("#cash-on-delivery-content-otp").hide();$("#cash-on-delivery-content").show()}else{$("#otp-verification").hide();$("#cash-on-delivery-content-otp").show()}}})}function resendSpcOTPForVerification(a){$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/sendOtpForVerification/",async:false,cache:false,dataType:"json",data:"cartId="+a,success:function(b){if(b.hasError){$("#cash-on-delivery-content-otp").hide();$("#cash-on-delivery-content").show()}else{$(".sent-otp-code").show();$(".otp-code-expired").hide();$(".invalid-otp-code").hide();$(".EnterVerificationCode .form-control").val("")}}})}function spcOtpVerificationForCOD(b){b.preventDefault();var a=$("#otp-code").val();var c=$("#cartId").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/cart/otpVerification/",async:false,cache:false,dataType:"json",data:"otp="+a+"&cartId="+c,success:function(d){if(d.hasError){if(d.expired){$(".sent-otp-code").hide();$(".otp-code-expired").show();$(".invalid-otp-code").hide()}else{if(otpCounter>=2){$("#cash-on-delivery-content-otp").hide();$("#cash-on-delivery-content").show()}else{$(".invalid-otp-code").show();$(".sent-otp-code").hide();$(".EnterVerificationCode .form-control").val("")}otpCounter++}}else{initSinglePagePaymet(c)}}})}function getGiftCardDetail(){var a="";var b=0;if($(".giftcard-1 #giftCardNumber-1").val()!=undefined&&$(".giftcard-1 #giftCardNumber-1").val()!=""&&$(".gc-info .gc-succ-1 .gc-used").html()!=""){a="&giftCardNumber1="+$(".giftcard-1 #giftCardNumber-1").val()+"&giftCardPin1="+$(".giftcard-1 #giftCardPin-1").val();b++}if($(".giftcard-2 #giftCardNumber-2").val()!=undefined&&$(".giftcard-2 #giftCardNumber-2").val()!=""&&$(".gc-info .gc-succ-2 .gc-used").html()!=""){a+="&giftCardNumber2="+$(".giftcard-2 #giftCardNumber-2").val()+"&giftCardPin2="+$(".giftcard-2 #giftCardPin-2").val();b++}if($(".giftcard-3 #giftCardNumber-3").val()!=undefined&&$(".giftcard-3 #giftCardNumber-3").val()!=""&&$(".gc-info .gc-succ-3 .gc-used").html()!=""){a+="&giftCardNumber3="+$(".giftcard-3 #giftCardNumber-3").val()+"&giftCardPin3="+$(".giftcard-3 #giftCardPin-3").val();b++}if(b!=0){a+="&giftCardsCount="+b+"&useQwikcilverGiftCards=apply"}return a}function initSinglePagePaymet(g){var b="";var h=$(".payment-option-form .selected > form").attr("name");if(h=="cashondelivery"){$(".payment-option-form .selected >form input[name=instrumentType]").val(h);b="instrumentType="+h}else{var f=$(".payment-option-form .selected .service_provider_radio").filter(":checked").val();var l=$(".payment-option-form .selected #transfer-bank")[0];var k="default";if(l){k=l.options[l.selectedIndex].value}if(!f&&(!k||k=="default")){alert("Please select an option");return}var e="";if(k){e=k}if(f){e=f}$(".payment-option-form .selected > form input[name=instrumentType]").val(h);if(h=="netbanking"||h=="rewardpoints"){$(".payment-option-form .selected > form input[name=issuingAuthority]").val(e);b="instrumentType="+h+"&issuingAuthority="+e}else{if(h=="emi"){var j=e.split("-");$(".payment-option-form .selected > form input[name=instrumentType]").val(j[0]);$(".payment-option-form .selected > form input[name=issuingAuthority]").val(j[1]);b="instrumentType="+j[0]+"&issuingAuthority="+j[1]}else{$(".payment-option-form .selected > form input[name=cardPaymentNetwork]").val(e);b="instrumentType="+h+"&cardPaymentNetwork="+e}}}var c=false;if($("#blue-wallet input[type=checkbox]").is(":checked")){c=true;b+="&useBlueWallet="+c}else{c=false}var o=getGiftCardDetail();b+=o;var a=$(".your-details #gift-msg-form #giftTo").val();var m=$(".your-details #gift-msg-form #giftFrom").val();var d=$(".your-details #gift-msg-form #giftMsg").val();var n="";if($("#edit-gift-wrapper label input").is(":checked")){n="on"}b+="&giftTo="+a+"&giftFrom="+m+"&giftMsg="+d+"&addGiftMsg="+n;$.ajax({type:"POST",url:GLOBAL_CTX+"/singlepagecheckout/initPaymentTransaction",async:false,cache:false,dataType:"json",data:b+"&cartId="+g,success:function(p){if(h=="cashondelivery"){paymentPostPaidFormSubmission(p,g,h)}else{paymentPrePaidFormSubmission(p,g)}}})}function paymentPostPaidFormSubmission(g,f,c){var e=g.bluestoneTxnId;var a=$(".your-details #gift-msg-form #giftTo").val();var h=$(".your-details #gift-msg-form #giftFrom").val();var d=$(".your-details #gift-msg-form #giftMsg").val();var j="";if($("#edit-gift-wrapper label input").is(":checked")){j="on"}$(".payment-option-form .selected > form input[name=giftTo]").val(a);$(".payment-option-form .selected > form input[name=giftFrom]").val(h);$(".payment-option-form .selected > form input[name=giftMsg]").val(d);$(".payment-option-form .selected > form input[name=addGiftMsg]").val(j);$(".payment-option-form .selected > form input[name=instrumentType]").val(c);$(".payment-option-form .selected > form input[name=bluestoneTxnId]").val(e);$(".payment-option-form .selected > form input[name=cartId]").val(f);$(".payment-option-form .selected > form input[name=useBlueWallet]").val("true");var b=GLOBAL_CTX+"/singlepagecheckout/postPaidTransaction";$(".payment-option-form .selected > form").action=b;$('form[name="'+c+'"]').submit()}function paymentPrePaidFormSubmission(c,d){var b=c.bluestoneTxnId;var a=GLOBAL_CTX+"/paymentrequest/"+b+"/"+d;$.ajax({type:"GET",url:a,dataType:"json",async:false,cache:false,success:function(e){try{if(e.hasError){$("#payment-message .description").html(e.data)}else{$(".payment-options #paymentFormDiv").html(e.data);$("#paymentForm").submit()}}catch(f){alert(f)}}})}function getRewardBalance(d){$("#rewardpoints-1").validationEngine();if($("#rewardpoints-1").validationEngine("validate")==false){return false}if($(".rewardpoints-content .row").hasClass("error")){$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".cardError").html("");$(".mobileError").html("");var b=$("#cardNumber").val();var c=$("#mobileNo").val();var a=$(".your-order .heading .you-pay").html();if(a!="0"){a=parseFloat(a.replace(/,/g,""))}if(b==""||c==""){$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/checkBalance",async:false,cache:false,dataType:"json",data:"cardNumber="+b+"&mobileNumber="+c+"&cartId="+d,success:function(e){if(!e.hasError){if(e.amount>0){$("#amountAvailable").html(e.amount);$("#amountToRedeem").val(Math.min(e.amount,a));$("#mobileNumberSpan").html(c);$("#balanceDiv").css("display","block");$("#cardDetailsDiv .btn").attr("disabled","disabled");$("#balanceDiv .btn").removeAttr("disabled");$("#cardDetailsDiv .btn").addClass("gray");$("#balanceDiv .btn, #balanceEmptyDiv .btn, #balanceEmptyDiv .btn").removeClass("gray");$("#otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn-check-balance").addClass("btn-light-blue");$("#balanceDiv .btn-get-otp").removeClass("btn-light-blue")}else{$("#balanceEmptyDiv").css("display","block")}trackGA("BsUI","MaxGet","Get_Balance")}else{if(e.errorMessage!=""&&e.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(e.errorMessage))}$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");if(e.cardError!=""&&e.cardError!="undefined"){$(".cardError").html(getNotificationErrorHtml(e.cardError))}$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");if(e.mobileError!=""&&e.mobileError!="undefined"){$(".mobileError").html(getNotificationErrorHtml(e.mobileError))}$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();$("#cardDetailsDiv .btn, #otpDiv .btn").removeClass("gray");$("#cardDetailsDiv .btn-check-balance, #balanceDiv .btn-get-otp").removeClass("btn-light-blue");return true}}})}function spcGetOTP(f){$("#rewardpoints-2").validationEngine();if($("#rewardpoints-2").validationEngine("validate")==false){return false}if($(".rewardpoints-content .row").hasClass("error")){$("#otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".amountError").html("");var c=$("#cardNumber").val();var d=$("#mobileNo").val();var a=$("#amountToRedeem").val();var b=$(".your-order .heading .you-pay").html();if(b!="0"){b=parseFloat(b.replace(/,/g,""))}var e=$("#amountAvailable").html();if(parseInt(a,10)>parseInt(b,10)){$(".otherError").html(getNotificationErrorHtml("Amount to redeem is greater than final price."));return false}if(parseInt(a,10)>parseInt(e,10)){$(".otherError").html(getNotificationErrorHtml("Amount to redeem is greater than available balance."));return false}$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/getOTP",async:false,cache:false,dataType:"json",data:"amount="+a+"&cardNumber="+c+"&mobileNumber="+d+"&invoiceAmount="+b+"&cartId="+f,success:function(g){if(!g.hasError){$("#amountToRedeemSpan").html(a);$("#otpDiv").css("display","block");$("#tokenNumber").val(g.tokenNumber);$("#isPartial").val(g.isPartial);$("#balanceDiv .btn").addClass("gray");$("#balanceDiv .btn-get-otp").addClass("btn-light-blue");$("#entry").val(g.entry);$("#balanceDiv .btn").attr("disabled","disabled");var j=$("#counter");var h=j.text();OTPCounterInterval=setInterval(function(){j.text(h);if(h==0){$("#resend-otp-block span.information").hide();$("#resend-otp-block a.change-link").removeClass("hidden");clearInterval(OTPCounterInterval)}h-=1},1000);trackGA("BsUI","MaxGet","Get_OTP")}else{if(g.errorMessage!=""&&g.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(g.errorMessage))}if(g.amountError!=""&&g.amountError!="undefined"){$(".amountError").html(getNotificationErrorHtml(g.amountError))}return true}}})}function spcRedeemPoints(e){$("#rewardpoints-31").validationEngine();if($("#rewardpoints-31").validationEngine("validate")==false){return false}if($(".rewardpoints-content .row").hasClass("error")){$("#balanceDiv, #otpDiv, #spc-finalMessageDiv, #ConfirmPaymentDiv, #ContinuePaymentDiv").hide();return false}$(".otherError").html("");$(".otpError").html("");var a=$("#otpValue").val();var d=$("#tokenNumber").val();var c=$("#isPartial").val();var b=$(".your-order .heading .you-pay").html();$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/redeemPoints",async:false,cache:false,dataType:"json",data:"otpCode="+a+"&tokenNumber="+d+"&cartId="+e,success:function(g){if(!g.hasError){if(typeof g.amount!="undefined"&&g.amount!=0){$(".payment-option-wrapper .payment-details .paymnet-breakup .reward-point-tab .reward-amount").html(g.amount.toLocaleString());$(".paymnet-breakup .reward-point-tab").removeClass("hide")}var f=$(".payment-options .payment-option-wrapper .payment-details .paymnet-you-pay .you-pay-net").html();f=parseFloat(f.replace(/,/g,""))-g.amount;if(f>0){f=f.toLocaleString()}else{f=0}$(".your-order .heading .right .you-pay").html(f);$(".payment-options .payment-option-wrapper .payment-details .paymnet-you-pay .you-pay-net").html(f);if(parseFloat(b.replace(/,/g,""))>g.amount){c=true}$("#spc-finalMessageDiv").css("display","block");if(c){$("#ContinuePaymentDiv").css("display","block");$("#rewardPointsEventId").val("applyMaxgetPoints")}else{$("#ConfirmPaymentDiv").css("display","block");$("#rewardPointsEventId").val("bsCashPayment");$(".payment-option-title ul li.selected").siblings().addClass("hide");$(".payment-option-title ul li.gc").removeClass("hide")}$("#spc-programName").html(g.programName);$("#spc-amountRedeemed").html(g.amount);$("#spc-authCode").val(g.authCode);$("#amountRedeemed").val(g.amount);$("#spc-amountRedeemedFinal").val(g.amount);$("#otpDiv .btn").addClass("gray");$("#otpDiv .btn").attr("disabled","disabled");$("#balanceDiv, #otpDiv, #cardDetailsDiv").hide()}else{$(".payment-option-form #spc-finalMessageDiv").slideUp();if(g.errorMessage!=""&&g.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(g.errorMessage))}if(g.otpError!=""&&g.otpError!="undefined"){$(".otpError").html(getNotificationErrorHtml(g.otpError))}return true}}})}function spcCancelOffer(c,f){$(".otherError").html("");var e="jewellery";var d=confirm("Reward points will not be applicable for this order. Are you sure you want to continue?");if(d==true){var b=$(".paymnet-breakup .reward-point-tab .reward-amount").html();b=parseFloat(b.replace(/,/g,""));var a=$("#spc-authCode").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/maxget/cancel",async:false,cache:false,dataType:"json",data:"amount="+b+"&authCode="+a+"&cartId="+f,success:function(g){if(!g.hasError){$("#balanceDiv").css("display","none");$("#cardDetailsDiv").css("display","none");$("#transfer-bank-points").val("default");$("#ConfirmPaymentDiv").css("display","none");$("#ContinuePaymentDiv").css("display","none");$("#spc-finalMessageDiv").css("display","none");$("#otpDiv").css("display","none");$("#transfer-bank-points option:first").attr("selected","selected");$(".payment-option-form  #cardDetailsDiv #cardNumber").val("");$(".payment-option-form  #cardDetailsDiv #mobileNo").val("");$(".payment-option-form  #otpDiv #rewardpoints-31 #otpValue").val("");getPaymentOptions(e,c,f);$(".payment-option-form #rewardPointsFinalForm #ContinuePaymentDiv").slideUp();$(".payment-option-form  #cardDetailsDiv").slideDown()}else{$(".payment-option-form  #cardDetailsDiv").slideUp();$(".payment-option-form #rewardPointsFinalForm #ContinuePaymentDiv").slideDown();if(g.errorMessage!=""&&g.errorMessage!="undefined"){$(".otherError").html(getNotificationErrorHtml(g.errorMessage))}return true}}})}}function getOrderDetail(b){var a="India";$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/getCartDetail",async:false,cache:false,dataType:"json",data:"country="+a+"&cartId="+b,success:function(c){updateOrderDetail(c)}})}function updateOrderDetail(d){var c=d.cartDetail;var g=d.cartId;var b=d.cartItemTotalCount;cartDetailJson=JSON.parse(c);var e="";for(var f in cartDetailJson){var a=JSON.parse(cartDetailJson[f]);console.log(a);e+=getCartItemDiv(a,g)}$(".your-order .heading .cartCount").html(b);$(".your-order .cart-body .bag-item").html(e);$(".spc-content-inner #updateUserData").slidUp();$(".spc-body .your-details").addClass("completed");$(".spc-body .your-details").removeClass("active-tab");$(".spc-body .your-order").addClass("active-tab");$(".spc-body .your-order .spc-content-inner > .content").slideDown();$(".your-order .heading .WebRupee").html(d.cartFinalPrice);$(".your-order .cart-footer .you-pay #getActualPrice").html(d.cartPriceWithoutDiscount);$(".your-order .cart-footer .you-pay #getDiscountedPrice").html(d.cartFinalPrice);if(parseInt(d.cartFinalPrice)<parseInt(d.cartPriceWithoutDiscount)){$(".your-order .cart-footer .you-pay .price-without-discount").removeClass("hide")}}function getShoppingBagDetail(){if($(".shopping-bag-popup").is(":visible")){$(".shopping-bag-popup").slideUp();return false}$.ajax({type:"GET",url:GLOBAL_CTX+"/singlepagecheckout/getShoppingBag",async:false,cache:false,dataType:"json",data:"imgSize=50",success:function(a){showShoppingBagList(a)}})}function showShoppingBagList(g){var f=g.cartDetail;if(typeof f!="undefined"){var j=g.discount;cartDetailJson=JSON.parse(f);var e="";var d='<span class="WebRupee-spc">'+g.currencySymbol+"</span>";if(typeof g.country!="undefined"&&g.country=="India"){d='<span class="WebRupee">'+g.currencySymbol+"</span> "}for(var c in cartDetailJson){var a=JSON.parse(cartDetailJson[c]);e+=getShoppingBagItem(a,g,d)}$(".shopping-bag-popup #mCSB_1_container").html(e);$(".shopping-bag-popup .body").mCustomScrollbar();setTimeout(function(){$(".shopping-bag-popup").slideDown()},50);var b='<div class="row"><div class="col-xs-8">You Pay</div>';b+='<div class="col-xs-4 nopadding"><span class="total-amt">'+d+g.cartFinalPrice.toLocaleString()+"</span>";if(g.cartFinalPrice<g.cartPriceWithoutDiscount){b+='<span class="strike">'+d+g.cartPriceWithoutDiscount.toLocaleString()+"</span>"}b+="</div></div>";$(".shopping-bag-popup .you-pay").html(b);if(j!="0"){var h='<div class="row">';h+='<div class="col-xs-8">Discount</div> ';h+='<div class="col-xs-4">-'+d+j;h+="</div>";$(".shopping-bag-popup .footer .discounts-block").html(h)}}}function getShoppingBagItem(a,c,b){var d='<div class="row bag-item">';d+='<div class="col-xs-3 image">';d+="<img src="+a.cartItemImageUrl+" alt="+a.cartItemName+' class="img-responsive"/>';d+="</div>";d+='<div class="col-xs-6 description">';d+='<div class="title">'+a.cartItemName+"</div>";if(typeof a.cartItemSize!="undefined"){d+='<div class="row">';d+='<div class="col-xs-4 nopadding-right"> Size </div>';d+='<div class="col-xs-8 nopadding-left">: '+a.cartItemSize+"</div>";d+="</div>"}d+='<div class="row">';d+='<div class="col-xs-4 nopadding-right">Qty</div>';d+='<div class="col-xs-8 nopadding-left">: '+a.cartItemQuantity+"</div>";d+="</div>";d+="</div>";d+='<div class="col-xs-3 price">';d+='<div class="row item-price">';d+=b+a.cartItemTotalPrice.toLocaleString();d+="</div>";if(parseInt(a.cartItemTotalPrice)<parseInt(a.cartItemTotalPriceWithoutDiscount)){d+='<div class="row strike">';d+=b+a.cartItemTotalPriceWithoutDiscount.toLocaleString();d+="</div>"}d+="</div>";d+="</div>";return d}$(function(){var a=true;if(deviceName!="NORMAL"){a=false}if(a){var c=false;if(PAGE_TYPE=="product"){var b=$(".design-code").html();if($("#p-d-id").hasClass("ncrm")){$.ajax({type:"POST",url:GLOBAL_CTX+"/visenze/similar/product",async:true,cache:false,dataType:"json",data:"designId="+b,success:function(d){if(d.length==0){$("#prod_psims").parents(".horizontal-tabs").hide();$("#prod_psims").hide()}else{$("#prod_psims").parents(".horizontal-tabs").show();$("#prod_psims").show();var g=d.length;if(g>4){$("#prod_psims").addClass("carousel-similar-products")}var e="<div class='carousel-wrapper'>";for(var f in d){e+=getSingleProductContentSimliar(d[f])}e+="</div>";$("#prod_psims .content").html(e);jQuery(".carousel-similar-products .carousel-wrapper").owlCarousel({items:6,slideSpeed:1200,paginationSpeed:1200,scrollPerPage:true,pagination:false,navigation:true,autoPlay:true,navigationText:["<i class='icon-chevron-thin-left'></i>","<i class='icon-chevron-thin-right'></i>"]});$(".lazy-img").lazyload({threshold:200})}}})}else{$("#details-top-left").addClass("grid_15");$("#slider-main").addClass("grid_13");$("#wrap").addClass("grid_11");$("#slider-main, #wrap").removeClass("grid_10")}}}});(function(a){a.fn.extend({addTemporaryClass:function(b,d){var c=this;setTimeout(function(){c.removeClass(b)},d);return this.each(function(){a(this).addClass(b)})}})})(jQuery);$(function(){for(i=new Date().getFullYear();i>1900;i--){$("#dob-bs-years").append($("<option />").val(i).html(i));$("#ann-bs-years").append($("<option />").val(i).html(i));$("#spouse-bs-years").append($("<option />").val(i).html(i))}updateNumberOfDays("#dob-bs-days","#dob-bs-months","#dob-bs-years");$("#dob-bs-months, #dob-bs-years").change(function(){updateNumberOfDays("#dob-bs-days","#dob-bs-months","#dob-bs-years")});updateNumberOfDays("#ann-bs-days","#ann-bs-months","#ann-bs-years");$("#ann-bs-months, #ann-bs-years").change(function(){updateNumberOfDays("#ann-bs-days","#ann-bs-months","#ann-bs-years")});updateNumberOfDays("#spouse-bs-days","#spouse-bs-months","#spouse-bs-years");$("#spouse-bs-months, #spouse-bs-years").change(function(){updateNumberOfDays("#spouse-bs-days","#spouse-bs-months","#spouse-bs-years")})});function updateNumberOfDays(c,a,b){var d=$(c).val();$(c).html("");month=$(a).val();year=$(b).val();days=daysInMonth(month,year);for(i=1;i<days+1;i++){$(c).append($("<option />").val(i).html(i))}$(c).val(d);$(c).prepend("<option>Day</option>")}function daysInMonth(b,a){return new Date(a,b,0).getDate()}$(window).load(function(){var a=clevertap.getCleverTapID();if(typeof $(".cleverTapId").val()!="undefined"){$(".cleverTapId").val(a)}if($(".payment-options").parents("body").hasClass("page-easypay")){$(".payment_detail.paymentSelectedTab").find(".cleverTapId").val(a)}productImpressionAndLogEventLogger($("body"),window.location.href);jQuery(".pr-has-carousel .product-list, .has-carousel .product-list").owlCarousel({items:6,slideSpeed:1200,paginationSpeed:1200,scrollPerPage:true,pagination:true,navigation:false,autoPlay:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});jQuery(".recently-viewed .product-list").owlCarousel({items:12,slideSpeed:1200,paginationSpeed:1200,scrollPerPage:true,pagination:true,navigation:false,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});setTimeout(function(){$(".carousel-wrapper, .testimonial, .pd-testimonials").addClass("extend")},1000)});function appendShortDesc(){$("#short_desc_goldWt").html("("+$("#metalWeight").html()+" gram)");var b=$("td:contains('carats')");var a=0;$.each(b,function(d,e){var c=$(e).html().split(" ")[0];a=Number(a)+Number(c)});if((Number(a))>0){$("#short_desc_diamondCt").html(" with Diamonds&nbsp;("+a.toFixed(4)+" Ct)")}if(document.getElementById("preSetSolitaire-details")){$("#short_desc_preSetSolitaireCt").html(" and Solitaire&nbsp;("+$("#preSetSolitaireCarat").html()+" Ct)")}}$(document).ready(function(){var d=$("td.totalnoofdiamonds");var a=0;$.each(d,function(f,g){var e=$(g).html().split(" ")[0];a=Number(a)+Number(e)});if((Number(a))>0){$(".detail-with-diamond h2.title").remove(".t-d-d");$(".detail-with-diamond h2.title").after("<div class='t-d-d last'>Total No. Of Diamonds <span>"+a.toFixed(0)+"</span></div>");$(".detail-with-diamond h2.title").removeClass("expanded")}var c=$("td:contains('carats')");var b=0;$.each(c,function(f,g){var e=$(g).html().split(" ")[0];b=Number(b)+Number(e)});if((Number(b))>0){$(".detail-with-diamond h2.title").remove(".t-d-d");$(".detail-with-diamond h2.title").after("<div class='t-d-d'>Total Weight <span>"+b.toFixed(3)+" Ct</span></div>");$(".detail-with-diamond h2.title").removeClass("expanded")}});function showHideSameDayDeliveryMessage(a){if(a.sameDayDelivery==true||a.sameDayDelivery=="true"){if($("#ringselect").length>0){$("#same-day-delivery-top-div").addClass("full-width")}$("#same-day-delivery-top-div").fadeIn(0);$("#normal-delivery").fadeOut(0);$("#same-day-delivery").fadeIn(0);$(".pr-highligh-box-wrapper").addClass("same-day-delivery");$(".pr-highligh-box-wrapper").removeClass("normal-delivery");$(".making-charges-old-ndd").addClass("line-through");$(".offer-wrapper-ndd").addClass("offer-wrapper");$(".offer-wrapper-ndd").show(0);$(".our_price_display_ndd").show(0);$(".mkg-chrg-only-ndd").show(0);$(".making-charges-new-ndd").show(0);$(".making-charges-old-ndd").show(0);$(".earlydeliverylink").hide();$("#normal-delivery-size").hide();$(".ndd-static-msg").show()}else{$(".earlydeliverylink").show();$("#same-day-delivery").fadeOut(0);$(".our_price_display_ndd").hide(0);$(".mkg-chrg-only-ndd").hide(0);$(".making-charges-new-ndd").hide(0);$(".offer-wrapper-ndd").removeClass("offer-wrapper");$(".making-charges-old-ndd").removeClass("line-through");$(".making-charges-old-ndd").show(0);if(a.sameDayDeliveryPincode==true){$("#normal-delivery-pincode").fadeOut(0);$("#normal-delivery").fadeIn(0)}if(a.isSameDayDeliveryCustomization==true||a.isSameDayDeliveryCustomization=="true"){$(".making-charges-old-ndd").addClass("line-through");$(".offer-wrapper-ndd").addClass("offer-wrapper");$(".mkg-chrg-only-ndd").show(0);$(".making-charges-new-ndd").show(0);$("#makingChargesNew_b-ndd").show(0);$(".making-charges-old-ndd").show(0);$(".our_price_display_ndd").show(0)}$(".pr-highligh-box-wrapper").removeClass("same-day-delivery");$(".pr-highligh-box-wrapper").addClass("normal-delivery");var b=$("#product_type_name").val();if($("#same-day-delivery-top-div").css("display")=="block"&&$("#normal-delivery-size").css("display")=="block"){trackGA("BsUI","Viewed NDD link of specific size",b)}}$("#sdd_cityFromIP").html(a.city);$("#sdd_expectedDeliveryDate").html(a.expectedDeliveryDate);$(".etd-date").html(a.expectedDeliveryDate);changeEDDToOccasionDate()}function showHideSameDayDeliveryMessagePincode(a){if(a.sameDayDelivery==true||a.sameDayDelivery=="true"){$("#same-day-delivery-top-div").fadeIn(0);$("#normal-delivery").fadeOut(0);$("#normal-delivery-pincode").fadeOut(0);$("#same-day-delivery").fadeIn(0);$(".pr-highligh-box-wrapper").addClass("same-day-delivery");$(".pr-highligh-box-wrapper").removeClass("normal-delivery");$(".mkg-chrg-only-ndd").show(0);$(".earlydeliverylink").hide();$("#normal-delivery-size").hide();$(".ndd-static-msg").show()}else{if(a.sameDayDeliveryPincode==true){$("#same-day-delivery").fadeOut(0);$("#normal-delivery-pincode").fadeOut(0);$("#normal-delivery").fadeIn(0);$(".pr-highligh-box-wrapper").removeClass("same-day-delivery");$(".pr-highligh-box-wrapper").addClass("normal-delivery")}else{if(a.isSameDayDeliveryCustomization==true||a.isSameDayDeliveryCustomization=="true"){$(".making-charges-old-ndd").addClass("line-through");$(".mkg-chrg-only-ndd").show(0);$(".making-charges-new-ndd").show(0);$(".making-charges-old-ndd").show(0)}$("#same-day-delivery").fadeOut(0);$("#normal-delivery").fadeOut(0);$("#normal-delivery-pincode").fadeIn(0);$(".pr-highligh-box-wrapper").addClass("same-day-delivery");$(".pr-highligh-box-wrapper").removeClass("normal-delivery");$(".earlydeliverylink").show()}}$("#sdd_cityFromIP").html(a.city);$("#sdd_expectedDeliveryDate").html(a.expectedDeliveryDate);$(".etd-date").html(a.expectedDeliveryDate);changeEDDToOccasionDate()}$(document).ready(function(){$("#corporate-discount-form").submit(function(f){f.preventDefault();$("#corporate-discount-form").validationEngine();if($("#corporate-discount-form").validationEngine("validate")){var a=$("#login-email").val();var d=$("#userName").val();var c=$("#customerPhone").val();var b=$("#vouchercode").val();var g=$("#newsletter1").is(":checked");$.ajax({type:"POST",url:GLOBAL_CTX+"/corporatevoucher/redeem",async:false,cache:false,dataType:"json",data:"email="+a+"&userName="+d+"&customerPhone="+c+"&voucherCode="+b+"&newsletter="+g,success:function(e){if(!e.hasError){$(".error-container").hide();$(".success-container-inner").html("<i class='icon-ion-ios-checkmark-outline'></i><p>"+e.success+"</p>");$("#order-login-title").hide();$("#corporate-discount-form").hide();$(".success-container").show()}else{$(".error-container-inner").html("<i class='icon-ion-ios-close-outline'></i><p>"+e.errors[0]+"</p>");$(".error-container").show();for(error in e.errors){console.log(e.errors[0]);console.log(e.errors[error])}}}})}});$(document).ready(function(){$("#egc #eg-submit").click(function(b){b.preventDefault();var a=$("#eGiftCardSubmitForm");a.html("");a.append($("#eGiftCard2").html());a.append($("#eGiftCard3").html());$(".egc-details input").each(function(c){var d="#"+$(this).attr("id");a.find(d).val($(this).val())});$(".egc-details textarea").each(function(c){var d="#"+$(this).attr("id");a.find(d).val($(this).val())});a.append($("input#occasion:checked")[0].outerHTML);a.submit()})});$("#corporate-discount-form .fancybox-popup").click(function(){$("#corporate-discount-form").validationEngine("hideAll")})});function fillAddress(a){if(a.address){$("#try_address_pd").val(a.address);$("#try_pin_pd").val(a.pincode);if(a.date){$("#try_date_pd option[value='"+a.date+"']").prop("selected",true);$("#try_time_pd option[value='"+a.time+"']").prop("selected",true)}}}function submitTryAtHomePDAddCustomer(){var f=$("#try_name_pd").val();var e=$("#try_phone_pd").val();var g=$("#referer_pd").val();var d=$("#designId").val();var b=$("#ringSizerHTO").val();var a=$("#try_email_pd").val();var c="desktop";if(e!=""&&a!=""&&!$(".fl-wrap").hasClass("error")){submitTryAtHomePDAddCustomerBase(f,e,a,g,d,c,b)}}function submitTryAtHomePDAddCustomerBase(g,f,b,h,e,d,c){var a=formatContactForCL(f);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/addCustomer",async:false,cache:false,dataType:"json",data:"name="+encodeURI(g)+"&designId="+encodeURI(e)+"&phone="+encodeURI(f)+"&email="+encodeURI(b)+"&referrer="+encodeURI(h)+"&device="+encodeURIComponent(d)+"&preference="+c,success:function(j){if(!j.hasError){$("#phone_id").val(j.phone);$("#customerId").val(j.hto);$("#homeTryOnProductButton").hide();$("#app-booked").show();$("#homeTryOnProduct .hto-block.right").addClass("rpd");$(".f-step1").slideUp();$(".f-step2").slideDown();formFieldAutoFilled();$("#hto-wrapper h2.title").hide();if(PAGE_TYPE=="browse"){trackGA("TAH","Form 1","BP Form Submitted")}else{trackGA("TAH","Form 1","PD Form Submitted")}if(getURLparams.list==="true"){trackGA("BsUI","Hybrid-List","TAHbutton")}if(getURLparams.pla==="true"){trackGA("BsUI","Hybrid-PLA","TAHbutton")}clevertap.event.push("Event Performed",{"Event Name":"Provided Mobile Email",Feature:"Try At Home","Event Value":"Product"});clevertap.profile.push({Site:{Email:b,Phone:a}});fillCity(j.htoCities);fillAddress(j);htoButtonDisabledFormTwo();return true}else{$("#try-home-msg_pd").html(j.message);$("#try-home-msg_pd").show();$("#try-at-home-form_pd").each(function(){this.reset()});return true}}})}$("#try-at-home-form_pd_2 .btn-popup").unbind().click(function(){submitTryAtHomePDBookAppointment();logAddedToHomeTryOnCart()});function submitTryAtHomePDBookAppointment(j){if(!j){if($("#try-at-home-form_pd_2").validationEngine("validate")==false){return false}}var f=$("#try_name_pd").val();var g=$("#try_address_pd").val();var d=$("#try_pin_pd").val();var c=$("#try_date_pd").val();var b=$("#try_time_pd").val();var h=$("#customer_id").val();var a=$("#try_name_pd").val();var e=$("#referrer_pd").val();if(g!=""&&d!=""&&f!=""&&!$(".fl-wrap").hasClass("error")){submitTryAtHomePDBookAppointmentBase(j,g,d,c,b,h,a,e)}}function submitTryAtHomePDBookAppointmentBase(e,a,h,c,g,f,b,d){createEventLogInBatches("HTOBookingScheduled","pincode",h,"designId",$("#try-at-home-form_pd_2 #designId").val());if(e){data="id="+encodeURIComponent(f)+"&address="+encodeURIComponent(a)+"&pincode="+encodeURIComponent(h)+"&appointmentDate="+encodeURIComponent(c)+"&appointmentTime="+encodeURIComponent(g)+"&name="+b+"&referrer="+d;var g=$("#try_time_pd").val()}else{data="id="+encodeURIComponent($("#customerId").val())+"&address="+encodeURIComponent(a)+"&pincode="+encodeURIComponent(h)+"&appointmentDate="+encodeURIComponent(c)+"&appointmentTime="+encodeURIComponent(g)+"&name="+b+"&referrer="+d;var g=$("#try-at-home-form_pd_2 .hto-time-block li.active").text()}dateObj=tahDateFormat(c,g);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/bookAppointment",async:false,cache:false,dataType:"json",data:data,success:function(k){if(!e){if(!k.hasError){changeTahIconState(k.isAppointmentBooked,k.htoAppointmentDesignsCount);$("#try-home-msg_pd").show();$("#try-at-home-form_pdTrue").each(function(){this.reset()});if($("#homeTryOnProduct").hasClass("hto_ring")){trackGA("Ring-Size-Help","HTO","Booked-desktop")}else{if($("#homeTryOnProduct").hasClass("hto_bangle")){trackGA("Bangle-Size-Help","HTO","Booked-desktop")}else{if(PAGE_TYPE=="browse"){trackGA("TAH","Form 2","BP Appointment Booked")}else{trackGA("TAH","Form 2","PD Appointment Booked")}}}$(".try-on-detail").hide();$(".product-buttons #"+$("#htoButtonId").val()).replaceWith("<div id='hto-added'><span class='btn style2 btn-disabled btn-block hto-added-txt'> Added to Try at Home</span></div>");$(".tah-add-option-wrap #"+$("#htoButtonId").val()).replaceWith("<div id='tah-added' class='tah-add-option tah-added'><span>Added to Try at Home</span></div>");$(".browse-page-var1 .success-container-inner p a").click(function(){$.fancybox.close();return false});$("#hto-land-form .success-container").html('<div class="success-container-inner"><span>Thank you for your interest!</span><p>Our jewellery expert will soon get in touch with you.</p></div>');$("#hto-land-form .success-container").show();$(".f-step2").slideUp();$(".f-step3").slideDown();$(".hto-button").addClass("hidden");$(".details-button").addClass("full-width");$(".tah-add-option-wrap").removeClass("hidden");$("#product_list_ui .banner-ab-bp").addClass("tah-option-active");$(".tah-a-l").attr("href",GLOBAL_CTX+"/hto/view");if(PAGE_TYPE=="browse"){PAGE_TYPE="Browse"}else{if(PAGE_TYPE=="product"){PAGE_TYPE="Product"}}clevertap.event.push("Booked Try At Home",{"Day of week":dateObj.dayStringShort,"Next day booking":dateObj.isNextDay?"Yes":"No","Time Slot":g,Date:dateObj.fullDate,Source:PAGE_TYPE});clevertap.event.push("Added to Try At Home",{"Product Name":productDetails.name,"Product ID":productDetails.id,"Product Category":productDetails.category,Source:PAGE_TYPE});hasTahAppointment="true";return true}else{$("#try-home-msg_pd").html(k.message);$("#try-home-msg_pd").show();$("#try-at-home-form_pdTrue").each(function(){this.reset()});return true}}else{if(!k.hasError){var j=g+" on "+dateObj.dayString+" <span class='date-f'>("+dateObj.formattedDay+" "+dateObj.month+")</span>";$(".tah-history-page .appointment.updated .formated-string").html(j);$(".tah-history-page .appointment.edit").addClass("hidden");$(".tah-history-page .appointment.updated").removeClass("hidden");$(".appointment-booked").show();clevertap.event.push("Updated Try At Home",{"Day of week":dateObj.dayStringShort,"Next day booking":dateObj.isNextDay?"Yes":"No","Time Slot":g,Date:dateObj.fullDate});setTimeout(function(){$(".appointment-booked").hide()},5000)}}}})}function submitTryAtHomeListingAddCustomer(){var g=$("#try_name_pd").val();var f=$("#try_phone_pd").val();var b=$("#try_email_pd").val();var h=$("#referer_pd").val();var e=$("#designId").val();var c=$("#ringSizerHTO").val();var d="desktop";var a=formatContactForCL(f);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/addCustomer",async:false,cache:false,dataType:"json",data:"name="+encodeURI(g)+"&designId="+encodeURI(e)+"&phone="+encodeURI(f)+"&email="+encodeURI(b)+"&referrer="+encodeURI(h)+"&device="+encodeURIComponent(d)+"&preference="+c,success:function(j){createCookie("hto",j.hto,365);$("#phone_id").val(j.phone);if(!j.hasError){$("#try-at-home-form_pd").each(function(){this.reset()});$("#homeTryOnProductButton").hide();$("#app-booked").show();$("#homeTryOnProduct .hto-block.right").addClass("rpd");$(".f-step1").slideUp();$(".f-step2").slideDown();formFieldAutoFilled();$("#try-at-home-form_pd_2 #try_pin_pd").focus();$("#hto-wrapper h2.title").hide();trackGA("hometryon-product-listing","book-appointment-desktop","");fillCity(j.htoCities);fillAddress(j);clevertap.event.push("Event Performed",{"Event Name":"Provided Mobile Email",Feature:"Try At Home","Event Value":"Product"});clevertap.profile.push({Site:{Email:b,Phone:a}});return true}else{$("#try-home-msg_pd").html(j.message);$("#try-home-msg_pd").show();$("#try-at-home-form_pd").each(function(){this.reset()});return true}}})}function submitTryAtHomeListingBookAppointment(d){var a=$("#try_address_pd").val();var g=$("#try_pin_pd").val();var b=$("#try_date_pd").val();var e=$("#try_time_pd").val();var f=$("#try_city_pp").val();var c=$("#referer_pd").val();dateObj=tahDateFormat(b,e);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/bookAppointment",async:false,cache:false,dataType:"json",data:"id="+encodeURIComponent(getCookie("hto"))+"&address="+encodeURIComponent(a)+"&pincode="+encodeURIComponent(g)+"&city="+encodeURIComponent(f)+"&appointmentDate="+encodeURIComponent(b)+"&appointmentTime="+encodeURIComponent(e)+"&referrer="+c,success:function(h){if(typeof d==="undefined"){if(!h.hasError){changeTahIconState(h.isAppointmentBooked,h.htoAppointmentDesignsCount);$("#try-home-msg_pd").show();$("#try-at-home-form_pdTrue").each(function(){this.reset()});trackGA("hometryon-product-listing","appointment-booked-desktop","");clevertap.event.push("Booked Try At Home",{"Day of week":dateObj.dayStringShort,"Next day booking":dateObj.isNextDay?"Yes":"No","Time Slot":e,Date:dateObj.fullDate,Source:"Product"});clevertap.event.push("Added to Try At Home",{"Product Name":productDetails.name,"Product ID":productDetails.id,"Product Category":productDetails.category,Source:"Product"});hasTahAppointment="true";return true}else{$("#try-home-msg_pd").html(h.message);$("#try-home-msg_pd").show();$("#try-at-home-form_pdTrue").each(function(){this.reset()});return true}}else{if(typeof d!="undefined"){$(".appointment-booked").show()}}}})}function signup_through_hto(a){var b="password="+a.password+"&email="+a.email;$.post(GLOBAL_CTX+"/signin",b,function(c){$(".fancybox-close, .fancybox-overlay").on("click",function(d){location.reload()});sign_in_and_sigup_response(c,true)},"json")}function setRingSizerHTO(a){if(a){$("#ringSizerHTO").val("RING_SIZER_REQUEST");$("#homeTryOnProduct").addClass("hto_ring")}else{$("#ringSizerHTO").val("BANGLE_SIZER_REQUEST");$("#homeTryOnProduct").addClass("hto_bangle")}}function submitBookRingAndBangleSizer(f){var a=null;var c=null;var e=null;var b=null;var g=null;var d=null;if(f){d="RING_SIZER";a=$("#custAddress_RingSizer").val();c=$("#custPincode_RingSizer").val();e=$("#custState_RingSizer").val();mobile=$("#custMobile_RingSizer").val();b=$("#custName_RingSizer").val();g=$("#custCity_RingSizer").val()}else{d="BANGLE_SIZER";a=$("#custAddress_BangleSizer").val();c=$("#custPincode_BangleSizer").val();e=$("#custState_BangleSizer").val();mobile=$("#custMobile_BangleSizer").val();b=$("#custName_BangleSizer").val();g=$("#custCity_BangleSizer").val()}$.ajax({type:"POST",url:GLOBAL_CTX+"/ringAndBangleSizeHelp/bookDummyRingAndBangleSizer",async:false,cache:false,dataType:"json",data:"name="+encodeURIComponent(b)+"&address="+encodeURIComponent(a)+"&postcode="+encodeURIComponent(c)+"&city="+encodeURIComponent(g)+"&mobile="+encodeURIComponent(mobile)+"+&state="+encodeURIComponent(e)+"&type="+d,success:function(h){if(!h.hasError){$(".success-msg").html('<div class="success-container"><div class="success-container-inner"><span>Thank you for your interest!</span><p>Our jewellery expert will soon get in touch with you.</p></div></div>');$("#custDetailsForRingSizer.wrapper").hide();$(".success-msg").show();if(f){trackGA("Ring-Size-Help","RingSizer","Requested-desktop")}else{trackGA("Bangle-Size-Help","BangleSizer","Requested-desktop")}return true}else{alert(h.message)}}})}function addToHTOList(){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});var a=$("#designId").val();$.ajax({type:"POST",url:GLOBAL_CTX+"/hto",async:false,cache:false,dataType:"json",data:"designId="+encodeURI(a),success:function(b){if(!b.hasError){clevertap.event.push("Added to Try At Home",{"Product Name":productDetails.name,"Product ID":productDetails.id,"Product Category":productDetails.category,Source:"Product"});changeTahIconState(b.isAppointmentActive,b.htoAppointmentDesignsCount);$("#homeTryOnProductButtonAddToList").replaceWith("<div id='hto-added'><span class='btn style2 btn-disabled btn-block hto-added-txt'> Added to Try at Home</span></div>");return true}else{return true}}})}function addToWishList(b,a){paramsObj=getParamsObject(b);designId=paramsObj.design_id;trackGA("wishlist","add to wishlist clicked",designId,0,false);$.ajax({type:"POST",url:GLOBAL_CTX+"/wishlist/addProduct",async:true,cache:false,dataType:"json",data:"designId="+encodeURI(designId),success:function(d){if(!d.hasError){var f='<div class="bs-tt bs-tt-tr dark-bg wishlist-bp-tooltip active"><p><strong>Did you know?</strong>Now, you could also share your wishlist over Email with your friends and family.</p><div class="bottom-links"><span class="pull-left close">Later</span><span class="pull-right"><a href="'+GLOBAL_CTX+"/wishlist/view\" onclick=\"trackGA( 'browse page share popup',  'goto wishlist is clicked');\">Take me to my Wishlist ></a></span></div></div>";if(!getCookie("isWishlistShareTooltipShown")){$(".wishlist.clicked").closest(".pr-i, .pr-d-inner").append(f);createCookie("isWishlistShareTooltipShown",true,1);trackGA("browse page share popup","popup shown")}$.fancybox.close();if(!$(".white-header li .user-links").hasClass("loggedin")){$(".white-header").load(GLOBAL_CTX+"/about.html .white-header-inner",function(h,g,j){mainMenuInt();headerHoverItemInt()});$(".header-right").removeClass("header-right col-xs-10")}$(".testi-pager span").each(function(g){$(this).addClass("item"+(g+1))});if(a){window.location=a}else{$("#wishListCountHeader").replaceWith("<span class='wish-list-count cart-no' id='wishListCountHeader'><span>"+d.wishListItemCount+"</span> </span>");var e=$(".wishlist, .no-wishlist");e.removeClass("showLoginBox");e.unbind("click.fb");e.data("auth",true);for(var c=0;c<d.wishListItemDesignIds.length;c++){wishlistBtnToBeEnabled=$("a[data-id='"+d.wishListItemDesignIds[c]+"'], div[data-id='"+d.wishListItemDesignIds[c]+"']");wishlistBtnToBeEnabled.each(function(g){enableWishListButton($(this))})}}logAddedToWishListEvent();trackGA("wishlist","added to wishlist",designId);return true}else{return true}}})}function enableWishListButton(a){$(".wishlist-button").find(".txt").html("Remove from Wishlist");$(".added-to-wishlist").html("Product Added to your wish list");$(".added-to-wishlist").stop().animate({bottom:0},"easeOutCubic");setTimeout(function(){$(a).addClass("wishlist-added wave");$(a).attr("title","Added to wishlist");$(a).removeClass("outline").addClass("fill");$(a).attr("title","Added to wishlist")});setTimeout(function(){$(a).removeClass("wave")},1000);setTimeout(function(){$(".added-to-wishlist").stop().animate({bottom:-41},"easeOutCubic")},2500)}function fillCity(c){for(var b in c){var a=document.createElement("option");a.value=b;a.innerHTML=c[b];$("#try_city_pp").append(a)}}function signInToKnowBestPriceFunction(b){var a=getParamsObject(b);var c=a.showingPrice;$.ajax({type:"POST",url:GLOBAL_CTX+"/design/getbestprice",async:true,cache:false,dataType:"json",data:"showingPrice="+encodeURI(c),success:function(e){if(!e.hasError){loadSizeAndPrices();$("#best_price_amount").html(c);$("#price_best_price_amount").html(e.bestPrice);var d=getCurrencySymbolForCountry(COUNTRY);if(e.bestPrice){$("#best_price_display").html('<span class="price strike"><span class="price-inner">'+d+'</span><span id="best_price_amount">'+e.actualPrice+'</span></span><span class="price" > <span class="price_best_price_amount">'+d+'</span><span id="price_best_price_amount">'+e.bestPrice+"</span></span><span>Redeem "+e.redeemPoints+" points in your account</span>")}$.fancybox.close();$(".white-header").load(GLOBAL_CTX+"/about.html .white-header-inner",function(g,f,h){mainMenuInt();headerHoverItemInt()});$(".header-right").removeClass("header-right col-xs-10");$(".testi-pager span").each(function(f){$(this).addClass("item"+(f+1))});$("#best_price_display_non_loggedin").hide();$("#best_price_display").show();return true}else{return true}}})}function calculateBSContribution(){var c=$("#amount").val();var g=$("#goldMineMonth").val();var h=$("#goldMineMonth").find(":selected").data("discount");if(c!=null&&c!=""&&$.isNumeric(c)&&c>=1500&&g!=null&&g!=""&&h!=null&&h!=""){var f=Math.floor((c*h)/100);$("#bsAmount").val(f);var b=parseInt(c);var a=parseInt(f);var d=parseInt($("#goldMineMonth").find(":selected").val());var e=(d*b)+a;$("#TotalMaturityAmount").val(e)}if(g!=null&&g!=""&&h!=null&&h!=""){maturityDate()}}function maturityDate(){var a=$(".start-date").html();var j=parseInt($("#goldMineMonth").find(":selected").val());var h=new Date(a);h.setMonth(h.getMonth()+j);var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var f=h.getFullYear();var g=(e[h.getMonth()]);var c=h.getDate();var b=$("#maturityDate").html('<span class="day">'+c+' </span><span class="day">'+g+' </span><span class="day">'+f+"</span>")}function flogin(a){$.ajax({type:"GET",url:GLOBAL_CTX+a,async:false,cache:false,dataType:"text",success:function(e){if(e){var d=500;var b=300;var g=parseInt((screen.availWidth/2)-(d/2));var f=parseInt((screen.availHeight/2)-(b/2));var c="width="+d+",height="+b+",status,resizable,left="+g+",top="+f+"screenX="+g+",screenY="+f;window.open(e,"fbPopup",c);window.callParentFBFunction=function(j,h,k){if(j!=null&&j!=0){if(k=="false"){trackGA("BsUI","Signup successful","Facebook");logCompletedSignUpEvent("Facebook")}trackGA("SignupGiveaway","facebook-desktop-registration-complete","");$.ajax({type:"GET",url:GLOBAL_CTX+"/auth/checkFBHappyCustomerAfterLogin/"+j,async:false,cache:false,dataType:"json",success:function(l){if(!l.hasError){if(Object.keys(l.topCustomerWhoPurchased).length>0){$.fancybox({openEffect:"elastic",closeEffect:"fade",overlayColor:"#000",overlayOpacity:".2",centerOnScroll:false,scrolling:"no",type:"ajax",wrapCSS:"auth-login",beforeLoad:function(){$(this).validationEngine("hideAll")},onComplete:function(){},onCleanup:function(){$("#user-login1").validationEngine("hideAll")},afterClose:function(){if(action){window[action](actionParams)}location.reload()},href:GLOBAL_CTX+"/auth/showFBHappyCustomerAfterLogin/"+j});$(".fancybox-overlay").on("click",function(){if(action){window[action](actionParams)}location.reload()})}else{if(action){window[action](actionParams)}location.reload()}var m="Facebook";logCompletedLoginEvent(m);trackGA("BsUI","Login successful","Facebook")}else{location.reload()}}})}else{location.reload()}}}}})}function showHideHtoItems(a,c){a.preventDefault();$("#"+c).toggle();var b="appointmentId="+c;$.ajax({type:"GET",url:GLOBAL_CTX+"/hto/getHtoDetailsForAppointmentHistory",async:false,cache:false,dataType:"json",data:b,success:function(g){if(!g.hasError){if(Object.keys(g.htoProductDetails).length>0){var f=g.htoProductDetails;var d="<tr id='table_"+c+"'><td colspan='7' class='sub-item'>	<table  class='table customTable'> <thead> <tr>	<th>Product Name</th> <th>Product Code</th> <th>Product Image</th> </tr></thead> <tbody id='t-body-"+c+"' class='showHistoryBody'>";for(var e in f){d+="<tr class='item'>";d+="<td>"+e+"</td><td>"+f[e][0]+"</td><td><a target='_blank' href='/"+f[e][1]+"'><img class='lazy-img' width='90' height='90' src='"+f[e][2]+"'/></a></td>";d+="</tr>"}d+="</tbody></table></td></tr>";if($("#table_"+c).is(":visible")){$("#table_"+c).remove()}else{$("#row_"+c).after(d)}}else{if($("#table_"+c).is(":visible")){$("#table_"+c).remove()}else{$("#row_"+c).after("<tr id='table_"+c+"'><td colspan='7' class='sub-item not-found'><p>No products were added</p></td></tr>")}}return true}else{alert("Something went wrong. Please Login and try again");location.href=GLOBAL_CTX+"/showLoginPage"}}})}var getFilterparams=function(){var d={};var b=[];var c=[];$(".filters-container section.block").each(function(){if($(this).find(".form-item").hasClass("selected")){var g=$(this).find(".title").text();var f=$(this).find("a").attr("title");if((b!=null||b!=undefined)&&(c!=null||c!=undefined)){b.push(g);c.push(f)}}});var e=$.unique(b);var a=$.unique(c);d.filterUniqueCategory=e;d.filterUniqueTags=a;return d}();$("#uploadResumeForm").submit(function(b){b.preventDefault();$("#uploadResumeId").attr("disabled","disabled");var a=new FormData(this);$.ajax({type:"POST",url:GLOBAL_CTX+"/career/uploadResume",processData:false,contentType:false,dataType:"json",data:a,success:(function(c){if(c.hasError){$(".popup-messages").html('<div class="grid_12"><div class="alert error"> <span class="icon"></span><span class="close">x</span> <strong>Error!</strong>'+c.errorStr+"</div></div>")}else{$(".popup-messages").html('<div class="grid_12"><div class="alert success"> <span class="icon"></span><span class="close">x</span>Resume uploaded successfully</div></div>')}$("#uploadResumeId").removeAttr("disabled")}),failure:(function(c){alert("Server failed to process request");$("#uploadButtonId").removeAttr("disabled")})})});function addToHomeTryOn(a,b){var c=getCookie("hto");if(c==""){$("#book-appointment .bdesignId").val(a);$(".f-step3").hide();if($("#try-at-home-form_pd_2 input#customerId").val()!=""){$(".f-step1").hide();$(".f-step2").show()}else{$(".f-step1").show();$(".f-step2").hide()}return true}else{addToHTOListInBrowsePage(a,b);return false}}function addToHTOListInBrowsePage(b,a){$(".fancybox-close").on("click",function(){$(".formError").remove()});$(".fancybox-overlay").on("click",function(){$(".formError").remove()});$(".product-buttons #"+$("#htoButtonId").val()).replaceWith("<div id='hto-added'><span class='btn style2 btn-disabled btn-block hto-added-txt'> Added to Try at Home</span></div>");$(".tah-add-option-wrap #"+$("#htoButtonId").val()).replaceWith("<div id='tah-added' class='tah-add-option tah-added'><span>Added to Try at Home</span></div>");$.ajax({type:"POST",url:GLOBAL_CTX+"/hto",dataType:"json",data:"designId="+encodeURI(b),success:function(d){$(this).parents(".product-grid").addClass("form-filled");changeTahIconState(d.isAppointmentActive,d.htoAppointmentDesignsCount);trackGA("TAH","BP Added to Try at Home",""+b);clevertap.event.push("Added to Try At Home",{"Product Name":a.name,"Product ID":a.id,"Product Category":a.category,Source:"Browse"});if(d.isAppointmentActive=="true"){$(".browse-page-var1 .success-container-inner p a").click(function(){$.fancybox.close();return false});return true}else{var c='<a href="#homeTryOnProduct" id="homeTryOnProductButton-'+b+'" class="jtooltip-trigger btn btn-hto btn-green fancybox-popup-ov homeTryOnBrowseButton">Try before you buy</a>';$("li[data-pid='"+b+"'] .hto-button").html(c);return true}}})}function browseWishlist(e){var a="bs-tt-tr";if(e.parents("li").hasClass("three-column-browse")){a="bs-tt-tl"}var d='<div class="bs-tt '+a+' dark-bg wishlist-bp-tooltip active"><p><strong>Did you know?</strong>Now, you could also share your wishlist over Email with your friends and family.</p><div class="bottom-links"><span class="pull-left close">Later</span><span class="pull-right"><a href="'+GLOBAL_CTX+"/wishlist/view\" onclick=\"trackGA( 'browse page share popup',  'goto wishlist is clicked');\">Take me to my Wishlist ></a></span></div></div>";$(".wishlist").removeClass("clicked");$(".wishlist-bp-tooltip").remove();var c=e.data("auth");var b=e.data("id");if(e.hasClass("wishlist-added")){return}if(c==true){addToWishList("design_id="+b)}else{action="addToWishList";actionParams="design_id="+b;if(!getCookie("isWishlistShareTooltipShown")){e.addClass("clicked")}return}if(!getCookie("isWishlistShareTooltipShown")){e.closest(".pr-i, .pr-d-inner").append(d);createCookie("isWishlistShareTooltipShown",true,1);trackGA("browse page share popup","popup shown")}else{e.closest(".pr-i, .pr-d-inner").find(".wishlist-bp-tooltip").remove()}}function sendSelectedPaymentOptionEvent(b){var a={};a._eventId="selectedPaymentOption";a.paymentOption=b;sendClientEvent(a)}function productHoveredAndLogEventLogger(a,h,j){var c=j.find(".offer").text();var b=getURLparamsForURL(j.find(".p-image a").attr("href"));var d="";if(typeof b!="undefined"){d=b.posEvent}var f="";var g="";if(document.getElementById("view-sort-by")!=null){if($("body").hasClass("b-new-filter")){g=document.querySelector("#view-sort-by .selected").textContent.trim()}else{f=document.getElementById("view-sort-by").selectedIndex;g=document.getElementById("view-sort-by").options[f].text}}var e=new Object();e._eventId="hovered_over_product";e.id=h;e.sortOption=encodeURIComponent(g);e.pageType="browse";e.offerLabel=c;e.position=d;e.currentURL=window.location.href;processServerEvent(e)}function productImpressionAndLogEventLogger(d,a){if(PAGE_TYPE=="browse"){var j=d.find("#grid-view-result .product-grid  .pr-i");var f="";var k="";if(document.getElementById("view-sort-by")!=null){if($("body").hasClass("b-new-filter")){k=document.querySelector("#view-sort-by .selected").textContent.trim()}else{f=document.getElementById("view-sort-by").selectedIndex;k=document.getElementById("view-sort-by").options[f].text}}var g;var m=new Array();for(i=0;i<j.length;i++){product=j.eq(i);g=new Object();var c=product.find(".offer").text()||product.find(".saved-price .orange-color").text();var b=getURLparamsForURL(product.find(".p-image").attr("href")||product.find(".p-image a").attr("href"));var e="";var h=new Array();if(typeof b!="undefined"){e=b.posEvent}var l=$("input:hidden",product).val();h.push("product_impression");g._eventId=h;h=[l];g.id=h;h=[encodeURIComponent(k)];g.sortOption=h;h=["browse"];g.pageType=h;h=[c];g.offerLabel=h;h=[e];g.position=h;h=[window.location.href];g.currentURL=h;h=[COUNTRY];g.countryFromIp=h;m.push(g)}processBatchedServerEvent(m)}}function firstTimeBrowseVideo(){if(!getCookie("newFeatureIntroPopup")){if(PAGE_TYPE=="browse"&&$(".three-column-browse").hasClass("newFeatureIntroPopup-holder")){var c=$(".newFeatureIntroPopup-holder .bvideo-icon2").data("video-url");var d='<source src="'+c+'" type="video/mp4">';var a='<span class="bvideo-icon2-top"></span>';var b=$(".newFeatureIntroPopup-holder").data("position");setTimeout(function(){$(".newFeatureIntroPopup-wrapper video").get(0).play()},1000);$("body").addClass("newFeatureIntroPopup-inactive");$(".newFeatureIntroPopup-wrapper video").html(d);$(window).scroll(function(){var g=$(".newFeatureIntroPopup-holder").width();var e=$(".newFeatureIntroPopup-holder .bvideo-icon2").offset().left;var f=$(".newFeatureIntroPopup-holder").offset().top;var h=$(window).scrollTop();if($(".newFeatureIntroPopup-holder").hasClass("column-three")){$(".newFeatureIntroPopup-wrapper").removeClass("arrow-left").addClass("column-third arrow-right");$(".newFeatureIntroPopup-wrapper").css("top",f)}else{$(".newFeatureIntroPopup-wrapper").css({top:f+"px",left:e+73})}if((h>f-100)&&($("body").hasClass("newFeatureIntroPopup-inactive"))){if($("#grid-view-result").hasClass("grid-view-result-active")){$("body").removeClass("newFeatureIntroPopup-inactive");$("body").addClass("newFeatureIntroPopup-active");$(".newFeatureIntroPopup-wrapper").append(a);$("html, body").animate({scrollTop:f-100});trackGA("Video","Viewed Video Feature FTUE",""+b);createCookie("newFeatureIntroPopup",true,1)}}});$(".newFeatureIntroPopup-close").click(function(){$("body").removeClass("newFeatureIntroPopup-active");$(".bvideo-icon2-top").remove();trackGA("Video","Dismissed Video Feature FTUE","Clicked Close")});$(".newFeatureIntroPopup-footer .btn").click(function(){$("body").removeClass("newFeatureIntroPopup-active");$(".bvideo-icon2-top").remove();trackGA("Video","Dismissed Video Feature FTUE","Clicked Got It")});$(".newFeatureIntroPopup-overlay").click(function(){$("body").removeClass("newFeatureIntroPopup-active");$(".bvideo-icon2-top").remove();trackGA("Video","Dismissed Video Feature FTUE","Clicked outside popup")})}}}function logViewedProductCarouselEvent(d,c){var b=new Object();var a=$("#customizationId").val();b.id=a;b._eventId="viewed_product_carousel";b.total_available_product_images=c;if(typeof $(".carousel-active-thumbs").val()!="undefined"){b.viewed_product_image=d.closest(".owl-item").index()}else{b.viewed_product_image=d.closest(".item").index()}b.pageType=PAGE_TYPE;processServerEvent(b)}function logBannerClickedEvent(b){var a=new Object();a._eventId="clicked_banner";a.banner_title=b.title;var c=b.baseURI;a.banner_target_page_url=b.href.replace(c,"");a.banner_position=$(b).parent().parent().index();a.pageType=PAGE_TYPE;processServerEvent(a)}function logHoveredOverFilterEvent(b){var a=new Object();a._eventId="hovered_over_filter";a.feature="Filters";a.eventValue=b;processServerEvent(a)}$(document).ready(function(){if($(".hto-button").find("span").hasClass("btn-disabled")){$(".hto-button").addClass("hidden");$(".details-button").addClass("full-width");$(".tah-add-option-wrap").removeClass("hidden")}$("#tahLpCity").bind("change",function(a){if($("#tahLpCity").val()=="Other"){$(".tah-lp-other-city").show()}else{$(".tah-lp-other-city").hide()}});$("#tahLpForm").bind("submit",function(a){a.preventDefault()});$("#tahLpForm").submit(function(a){a.preventDefault();submitTryAtHomeLPAddCustomer();return false});$("#tahLpForm_2").submit(function(a){a.preventDefault();submitTryAtHomeLPBookAppointment();return false});$("#tahLpForm_2").bind("submit",function(a){a.preventDefault()});tahLpFillLoggedInCustomerDetails();$(".tah-skip").click(function(){$.fancybox.close()})});function tahLpFillLoggedInCustomerDetails(){$.ajax({type:"GET",url:GLOBAL_CTX+"/homeTryOn/getCustomerDetails",async:true,cache:false,dataType:"json",success:function(a){if(a.isLoggedIn){if(a.name){$("#tahLpName").val(a.name)}if(a.email){$("#tahLpEmail").val(a.email)}if(a.phone){$("#tahLpPhone").val(a.phone)}formFieldAutoFilled()}}})}function tahLpFillCity(c){for(var b in c){var a=document.createElement("option");a.value=b;a.innerHTML=c[b];$("#tahLpCity").append(a)}}function tahLpFillAddress(b){if(b.address){$("#tahLpAddress").val(b.address);$("#tahLpPin").val(b.pincode);var a=true;$("#tahLpCity > option").each(function(){if(b.city.toLowerCase().trim()==this.value.toLowerCase()){$("#tahLpCity option[value="+this.value+"]").prop("selected",true);a=false}});if(a==true){$("#tahLpCity option[value=Other]").prop("selected",true);$(".tah-lp-other-city").show();$("#tahLpOtherCity").attr("value",b.city)}if(b.date){$("#tahLpDate option[value='"+b.date+"']").prop("selected",true);$("#tahLpTime option[value='"+b.time+"']").prop("selected",true)}}}function submitTryAtHomeLPAddCustomer(){var e=$("#tahLpName").val();var d=$("#tahLpPhone").val();var a=$("#tahLpEmail").val();var f=$("#tahLpReferer").val();var c=$("#tahLpDesignId").val();var b="desktop";if(d!=""&&a!=""&&!$(".fl-wrap").hasClass("error")){submitTryAtHomeLPAddCustomerBase(e,d,a,f,c,b)}}function submitTryAtHomeLPAddCustomerBase(f,e,b,g,d,c){var a=formatContactForCL(e);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/addCustomer",async:false,cache:false,dataType:"json",data:"name="+encodeURIComponent(f)+"&designId="+encodeURIComponent(d)+"&phone="+encodeURIComponent(e)+"&email="+encodeURIComponent(b)+"&referer="+encodeURIComponent(g)+"&device="+encodeURIComponent(c),success:function(h){if(!h.hasError){$("#tahLpPhone").val(h.phone);$("#tahLpCustomerId").val(h.hto);$("#homeTryOnProductButton").html("APPOINTMENT&nbsp;BOOKED");$("#homeTryOnProduct .hto-block.right").addClass("rpd");$(".f-step1").hide();$(".f-step2").fadeIn();$("body").removeClass("white-bg");formFieldAutoFilled();$("h2.title.first").slideUp();tahLpFillCity(h.htoCities);tahLpFillAddress(h);trackGA("TAH","Form 1","LP Form Submitted");clevertap.event.push("Event Performed",{"Event Name":"Provided Mobile Email",Feature:"Try At Home","Event Value":"Landing"});clevertap.profile.push({Site:{Email:b,Phone:a}});return true}else{$("#tahLpForm").each(function(){this.reset()});return true}}})}function submitTryAtHomeLPBookAppointment(){var h=$("#tahLpName").val();var j=$("#tahLpAddress").val();var f=$("#tahLpPin").val();var c=$(".pick-date.active").data("date");var b=$(".pick-time.active").data("time");var d=$("#referer_pd").val();var e=$("#tahLpCity").val();var a=$("#tahLpPhone").val();var g=$("#tahLpEmail").val();if(e=="Other"){e=$("#tahLpOtherCity").val()}if(j!=""&&f!=""&&h!=""&&e!=""&&!$(".fl-wrap").hasClass("error")){submitTryAtHomeLPBookAppointmentBase(j,f,c,b,d,e,a,h,g)}}function submitTryAtHomeLPBookAppointmentBase(k,h,e,c,f,g,a,b,j){var d=$("#tahLpForm_2 .hto-time-block li.active").text(),l=tahDateFormat(e,d);$.ajax({type:"POST",url:GLOBAL_CTX+"/homeTryOn/bookAppointment",async:false,cache:false,dataType:"json",data:"id="+encodeURIComponent($("#tahLpCustomerId").val())+"&pincode="+encodeURIComponent(h)+"&address="+encodeURIComponent(k)+"&city="+encodeURIComponent(g)+"&referrer="+encodeURIComponent(f)+"&appointmentDate="+encodeURIComponent(e)+"&appointmentTime="+encodeURIComponent(c)+"&name="+b+"&phone="+encodeURIComponent(a),success:function(n){if(!n.hasError){changeTahIconState(n.isAppointmentBooked,n.htoAppointmentDesignsCount);$(".f-step2").hide();$(".f-step3").fadeIn();clevertap.event.push("Booked Try At Home",{"Day of week":l.dayStringShort,"Next day booking":l.isNextDay?"Yes":"No","Time Slot":d,Date:l.fullDate,Source:"Landing"});$(".product-category-list li").each(function(){var o=$(this).find("img").data("original");$(this).find("img").attr("src",o)});var m="Thank You! See you on ";m+=l.formattedDay+" "+l.month+", <span>"+d+"</span>";$(".tah-success-msg").html(m);$(".tah-a-l").attr("href",GLOBAL_CTX+"/hto/view");trackGA("TAH","Form 2","LP Appointment Booked");hasTahAppointment="true";return true}else{return true}}})}function videoPlayOnScroll(){$(".static-video").each(function(){if($(window).scrollTop()>100){var a=$(this).data("url"),b="<source src='"+a+"'></source>";$(this).html(b);$(this).get(0).play()}})}function fancyboxFixedPopup(){jQuery.extend(jQuery.fancybox.defaults,{autoCenter:true,fixed:true})}v2.Field.prototype.successClass="success";v2.Field.prototype.instant=true;v2.Field.prototype.displayErrors=1;v2.Field.prototype.positionErrorsAbove=false;v2.Fieldset.prototype.positionErrorsAbove=false;v2.Form.prototype.scrollToFirstWhenFail=true;v2.Validator.reg("pincode",function(b,a,c){return/^([123456789]{1})([0-9]{5})$/.test(a)});v2.Validator.reg("zipcode",function(b,a,c){return/^[0-9a-zA-Z]+$/.test(a)});v2.Validator.reg("pan-number",function(b,a,c){return/^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$/.test(a)});$(document).ready(function(){if($("body").hasClass("new-checkout-flow")){$(".pi-inner").hover(function(){$(".bs-tt").removeClass("active");$(this).find(".bs-tt").addClass("active")},function(){$(this).find(".bs-tt").removeClass("active")});$(".view-gift-message").click(function(a){a.stopPropagation();$(this).parents(".gift-message").find(".bs-tt").addClass("active")});$(".cart_place_order").click(function(){$(".submit-cart-save-gift-msg").trigger("click")});$("body").click(function(){$(".checkout .bs-tt, .gift-message .bs-tt").removeClass("active")});$(".edd-view").click(function(a){a.stopPropagation();$(this).parents(".edd-wrapper").find(".bs-tt").addClass("active");$(".view-summary-details").find(".bs-tt").removeClass("active")});$(".view-summary-details").click(function(a){a.stopPropagation();$(this).find(".bs-tt").addClass("active");$(".edd-wrapper").find(".bs-tt").removeClass("active")});$(".gift-message .bs-tt").click(function(a){if(a.target.dataset.action!=="edit"){a.stopPropagation()}});if($("body").hasClass("new-checkout-flow")){$("#payment-details .form-submit-wrapper .btn, #payment-details .form-submit-wrapper .btn-primary").removeClass("btn-primary").addClass("btn btn-new btn-block")}$(".delivery-page-proceed").click(function(){$(".submit-checkout-save-address").trigger("click");trackGA("BsUI","Provided Delivery Details","Anonymous")});$(".showLoginBox").click(function(){$("#voucher-wrapper").css("display","none")});$("#shipping-address #email").on("blur",function(){var a=$(this).val();var b=$(this);setTimeout(function(){if($(b).parents(".fl-wrap").hasClass("error")){}else{trackGA("BsUI","Updated Email on Delivery Details Page",a)}},1000)});$("#shipping-address #contactNumber").on("blur",function(){var a=$(this).val();var b=$(this);setTimeout(function(){if($(b).parents(".fl-wrap").hasClass("error")){}else{trackGA("BsUI","Updated Mobile on Delivery Details Page",a)}},1000)});$("#save_gift_message").on("click",function(){var b=$("#gift-msg-form #giftFrom").val(),c=$("#gift-msg-form #giftTo").val(),a=$("#gift-msg-form #giftMsg").val();if(b!=""&&c!=""&&a!=""&&!$("#gift-msg-form .fl-wrap").hasClass("error")){$("#giftFrom").val(b);$("#giftTo").val(c);$("#giftMsg").val(a);$("#gift_message_added_from").text(b);$("#gift_message_added_to").text(c);$("#gift_message_added_message").text(a);if($("ul").hasClass("messages")){return false}else{UpdateGiftMsg($("#cartIdValue").val(),a,c,b);$.fancybox.close()}$(".gift-message .add-gift").addClass("hidden");$(".gift-message .gift-message-added").removeClass("hidden")}else{$(".gift-message-save").trigger("click")}})}$(window).scroll(function(){var f=$(window).scrollTop(),e=$("#shopping-bag").hasClass("row"),b=$("body").hasClass("new-checkout-flow"),d=$("body"),c=$("div").hasClass("education-page");if(e&&b){var a=84+20;if($(".bag-item").length>1){if(f>a){d.addClass("sticky-cart")}else{d.removeClass("sticky-cart")}}}});$(".education-page .navigation h2").on("click",function(){$(this).parent().addClass("active").siblings().removeClass("active");$(this).parent().find(".nav-child-items").slideDown();$(this).parent().siblings().find(".nav-child-items").slideUp()});$(".education-page .bread-crumbs li:last-child").on("click",function(a){a.preventDefault()});$(".proceed-to-addr").on("click",function(){var c=v2.Form.forms["address-form"].validate();var b=$("#email").val();var a=$("#contactNumber").val();var e=$(".delivery-page-proceed");var d={Site:{Email:b,Phone:formatContactForCL(a)}};if(c){clevertap.profile.push(d);e.removeClass("btn-disabled");e.prop("disabled",false);$(".address-details-block").slideDown("slow");$(this).parent().remove()}});$(".bh-block .prcs-d").on("click",function(){var a=document.querySelector(".bh-block .cart-no").textContent;trackGA("BlueStone Header","Clicked on Browsing History Icon",a)});if(!isCheckoutFlow){fetchBrowsingHistoryData()}});function fetchBrowsingHistoryData(){var a=0;$.ajax({type:"GET",url:GLOBAL_CTX+"/recently-viewed/visitor-data/",cache:false,dataType:"json",success:function(d){var b="";var c=d.browsingHistory.total;if(c>2){$(".bh-block").addClass("show-tooltip")}if(c>0){b=getRecentlyViewedItems(d.browsingHistory.browsingHistory);$("#recently-viewed-placeholder").html(b);$(".bh-block .cart-no").html(c).show();a=c.toString()}}})}function getRecentlyViewedItems(c){var b=0;var a="";for(b;b<4;b++){if(c[b]){a+='<div class="rv-product"><a href="'+GLOBAL_CTX+"/"+c[b].designItem.productPageUrl+'"><img src="'+c[b].designItem.imageUrl+'" width="95" height="95" class="lazyOwl"/></a></div>'}}return a}$(document).ready(function(){if(PAGE_TYPE=="browse"){var d=true;if(window.location.hash&&window.location.hash.indexOf("#s")!==-1){var e=location.hash,E=e.split("_"),b=parseInt(E[1]),v=parseInt(E[2]),k=parseInt(v)-1,y=parseInt(v)+1,j="?",F=up1,s=up2,g=$(".seo-content-bottom").height()+2500,l=999,r=true,n="",m="",c=v,h=$("#product_list_ui li:first-child").innerHeight(),t=$("#list-view li:first-child").innerHeight(),q=false,u=false,f=false,p=totalDesigns,D=0,B=false,G=false;if(s.indexOf("?")>-1){j="&"}var C=document.querySelector("ul.product-grid");var A=document.querySelector("li.markt-unit"),x=document.querySelector(".related-searches");if(A!==null&&C!==null){C.removeChild(A)}if(x!==null&&C!==null){C.removeChild(x)}for(var z=0;z<24;z++){m+="<li class='items col-xs-"+((d)?4:3)+"'><span class='tmp-inner'><span class='pd-i'></span></li>"}for(var z=2;z<=v;z++){if(!d){if(z==3){var o=(h*7)}else{var o=(h*6)}}else{var o=(h*8)}n+="<ul class='product-grid tmp-ul' style='height: "+o+"px;' id='product_list_ui' data-id='page"+z+"'>"+m+"</ul>"}$("#mainContent").find("#product_list_ui").parent().append(n);setTimeout(function(){window.scrollTo(0,b)},500);$(document).unbind("scroll");$(window).load(function(){url=a(F,v,s,j);w(url,function(H,I){$("#mainContent").find("#product_list_ui[data-id=page"+v+"]").replaceWith("<ul class='product-grid' id='product_list_ui' data-id='page"+v+"'>"+H+"</ul>");$("#mainContent").find("#list-view[data-id=page"+v+"]").replaceWith("<ul class='product-grid' id='list-view' data-id='page"+v+"'>"+I+"</ul>");$("#mainContent").find("#countRangeTop").html($("#tempHiddenPage").find("#countRange").html());$("#mainContent").find("#nextPageLink").data("href",$("#tempHiddenPage").find("#nextPageLink").data("href"));y=v+1;$(".lazy-bg").lazyload({effect:"fadeIn"}).removeClass("lazy-bg");D=p-(v*24);if(D>0){$(".product-count").html(D)}else{$("#showMoreResult").hide();f=true}$("#grid-view-result .bpvideo").each(function(J,K){loadVideoUrl(this);playVideo(this)})});if(!infiniteScroll&&D>0){f=false;url=a(F,y,s,j);w(url,function(H,I){$("#tempHiddenPage").html("<ul id='product_list_ui'>"+H+"</ul>");$("#mainContent").find("#countRangeTop").html($("#tempHiddenPage").find("#countRange").html());$("#mainContent").find("#nextPageLink").data("href",$("#tempHiddenPage").find("#nextPageLink").data("href"));y=v+2});f=true}$(window).scroll(function(){$(".tmp-ul").each(function(){if($(this).is(":in-viewport")){var J=$(this).data("id"),J=parseInt(J.split("page")[1]);if(J>1){f=false;var I=a(F,J,s,j);w(I,function(K,L){$("#mainContent #product_list_ui[data-id='page"+J+"']").replaceWith("<ul class='product-grid' id='product_list_ui' data-id='page"+J+"'>"+K+"</ul>");$("#mainContent #list-view[data-id='page"+J+"']").replaceWith("<ul class='product-grid' id='list-view' data-id='page"+J+"'>"+L+"</ul>");c=J;$(".lazy-bg").lazyload({effect:"fadeIn"}).removeClass("lazy-bg");return})}}});if($(window).scrollTop()>b&&!G){G=true}var H=$(window).scrollTop()>=($(document).height()-$(window).height()-g);q=$("#mainContent").find("#nextPageLink").data("href").toLowerCase().indexOf("void")==-1;if(H&&q&&D>0&&G){url=a(F,y,s,j);w(url,function(I,J){if(infiniteScroll){$("#mainContent").find("#product_list_ui").parent().append("<ul class='product-grid' id='product_list_ui' data-id='page"+y+"'>"+I+"</ul>");$("#mainContent").find("#list-view").parent().append("<ul class='product-grid' id='list-view' data-id='page"+y+"'>"+J+"</ul>")}$("#mainContent").find("#countRangeTop").html($("#tempHiddenPage").find("#countRange").html());$("#mainContent").find("#nextPageLink").data("href",$("#tempHiddenPage").find("#nextPageLink").data("href"));q=$("#mainContent").find("#nextPageLink").data("href").toLowerCase().indexOf("void")==-1;c=y;trackGA("BsUI","Page Viewed",c+"");y+=1;return})}if(!u&&!q){$("div#loadmoreajaxloader").hide();trackGA("BsUI","Page Viewed","Page Scroll Ended");u=true}})})}if("scrollRestoration" in history){history.scrollRestoration="manual"}$("body").on("click","#product_list_ui li .pr-i .p-image img, #product_list_ui li .pr-i .p-image video, #product_list_ui li .details-button a, #product_list_ui li .p-wrap a.link-overlay",function(N){N.preventDefault();B=true;if("scrollRestoration" in history){history.scrollRestoration="manual"}var I=$(this).parents("li").find("a").attr("href"),L=$(this).parents("li").data("page"),H=0,J=parseInt($(this).parents("li").offset().top),K=$(this).parents("li").data("position");J-=$(".sticky-filter-wrapper").height();if(location.hash.indexOf("#s")===-1){if(K%3==0){J-=$(this).parents("li").innerHeight()}}var M=$("li.markt-unit");if(M&&K>5){J-=M.innerHeight()}var O=$(".related-searches");if(O&&K>14){J-=O.innerHeight()}J=Math.round(J);window.location.hash="s_"+J+"_"+L;location.href=I});$(window).bind("hashchange",function(){if(!B&&B!==undefined){var I=location.hash,H=I.split("_")[0];if(H==="#s"){location.reload()}if(I==""){location.reload()}}});function a(K,L,J,H){var I="";I+=location.pathname;if(location.search!==""){I+=location.search+"&"}else{I+="?"}I+="p="+L+"&scroll=true";return I}function w(H,I){if(y<l&&r&&!f){r=false;$("div#loadmoreajaxloader").fadeIn();if(!infiniteScroll&&D>0){$("#showMoreResult").hide();$(".showMoreResultLoader").show()}$.ajax({url:H,dataType:"text",async:false,success:function(N,M,S){if(S.status==200&&!infiniteScroll&&D>0){$(".showMoreResultLoader").hide();$("#showMoreResult").show()}if(N){$("#tempHiddenPage").html(N);if(!infiniteScroll){f=true}var K=$("#tempHiddenPage").find("#product_list_ui").html();var L=$("#tempHiddenPage").find("#list-view").html();if(I){I(K,L)}$("#mainContent").find("#newBrowsePage").html($("#tempHiddenPage").find("#newBrowsePage").html());var Q=$("<html />").html(N);productImpressionAndLogEventLogger(Q,window.location.href);var R=$(".product-count").html();var O=24;(R>O)?finalCount=R-24:finalCount=0;if($("body").hasClass("load-more-designs")){trackGA("BsUI","Clicked Load more designs",'"'+c+'"',finalCount)}D=p-(v*24);r=true;if(infiniteScroll){$(".lazy-bg").lazyload({effect:"fadeIn"}).removeClass("lazy-bg")}hoverInit();$("div#loadmoreajaxloader").hide();var T;$("#grid-view-result .product-grid  .pr-i").hover(function(){var V=$(this);var U=$("input:hidden",this).val();if(!T){T=window.setTimeout(function(){T=null;productHoveredAndLogEventLogger(window.location.href,U,V)},2000)}},function(){if(T){window.clearTimeout(T);T=null}else{$("#SeeAllEvents").slideUp("slow")}})}switch_tabs($(".defaulttab"));var J;function P(){J=setTimeout(function(){$(".jtooltip-trigger").parent().find(".jtooltip").removeClass("active")},400)}$(".jtooltip-trigger").mouseover(function(U){U.stopPropagation();$(".jtooltip").removeClass("active");$(this).parent().find(".jtooltip").addClass("active");clearTimeout(J)}).mouseout(P);$(".jtooltip").mouseover(function(){clearTimeout(J)}).mouseout(P)}})}}}});$(document).ready(function(){fixedHeader();fixedWhiteHeader();$(window).scroll(function(){fixedHeader();fixedWhiteHeader()});$(".header-top .with-car div, .header-top .dynamic-ticker div.t-offer, .multi-item-carousel .inner, .oops-product .item").click(function(){window.location=$("a",this).attr("href")});$(".header-top .close-ticker").click(function(i){i.stopPropagation();$(this).parents(".header-top").slideUp(500);$(this).parents("body").removeClass("with-ticker");$(".header").animate({"padding-top":0},500);$("header").animate({height:88},500);$.cookie("ticker",1,{expires:1});trackGA("BsUI","HeaderTickerClosed","HeaderTickerClosedDesktop")});hoverInit();$(".banner-carousel").owlCarousel({items:1,autoPlay:true,autoPlayTimeout:5000,autoPlayHoverPause:true,slideSpeed:800,loop:true,lazyLoad:true,responsive:false,responsiveBaseWidth:".banner-carousel",pagination:true,navigation:true});$(".banner-inner").owlCarousel({items:1,autoPlay:true,autoPlayTimeout:4000,autoPlayHoverPause:true,slideSpeed:800,loop:true,pagination:false,navigation:true});$(".testimonial").owlCarousel({items:2,responsive:false,slideSpeed:800,loop:true,dots:false,responsive:false,lazyLoad:true,margin:10,pagination:false,navigation:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});$(".testimonial-single, #bcc #featured").owlCarousel({items:1,slideSpeed:800,loop:true,dots:false,nav:true,lazyLoad:true,pagination:false,navigation:true,responsive:false,navigationText:["<i class='icon-ion-android-arrow-dropleft'></i>","<i class='icon-ion-android-arrow-dropright'></i>"]});$(".owl-single-item").owlCarousel({items:1,slideSpeed:800,loop:true,dots:false,nav:true,pagination:false,navigation:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});$(".owl-single-item-2").owlCarousel({items:1,slideSpeed:800,nav:false,autoPlay:true,pagination:true,responsive:false});$(".single-fade-carousel").owlCarousel({items:1,autoPlay:false,autoPlayTimeout:5000,autoPlayHoverPause:true,transitionStyle:"fade",slideSpeed:800,loop:true,lazyLoad:true,mouseDrag:false,responsive:false,responsiveBaseWidth:".ziba-carousel",pagination:false,navigation:true,navigationText:["<i class='icon-ion-ios-arrow-right left-arrow'></i>","<i class='icon-ion-ios-arrow-right'></i>"]});$(".single-swipe-carousel").owlCarousel({items:1,autoPlay:false,autoPlayTimeout:5000,autoPlayHoverPause:true,slideSpeed:800,loop:true,lazyLoad:true,mouseDrag:false,responsive:false,pagination:true,navigation:true,navigationText:["<i class='icon-ion-ios-arrow-right left-arrow'></i>","<i class='icon-ion-ios-arrow-right'></i>"]});$(".sui-carousel").owlCarousel({items:3,slideSpeed:800,loop:true,dots:false,pagination:false,navigation:true,navigationText:["<i class='icon-ion-android-arrow-dropleft'></i>","<i class='icon-ion-android-arrow-dropright'></i>"]});var k=$(".multi-item-carousel .owl-carousel");k.owlCarousel({items:3,scrollPerPage:true,margin:10,slideSpeed:1200,paginationSpeed:1200,lazyLoad:true,loop:false,dots:false,responsive:false,responsiveBaseWidth:".multi-item-carousel",pagination:false,navigation:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});var k=$(".sui-carousel");k.owlCarousel({items:4,slideSpeed:600,lazyLoad:false,loop:false,dots:false,slideBy:1,pagination:false,navigation:true,navigationText:["<i class='icon-ion-chevron-left'></i>","<i class='icon-ion-chevron-right'></i>"]});var k=$(".carousel-active-thumbs");k.owlCarousel({items:5,lazyLoad:false,loop:false,dots:false,slideSpeed:1200,paginationSpeed:1200,slideBy:1,nav:true,pagination:false,navigation:true,navigationText:["<i class='icon-ion-arrow-left-b'></i>","<i class='icon-ion-arrow-right-b'></i>"]});$("body").on("click",".formError",function(){$(this).remove()});$(".link").click(function(){window.location=$(this).find("a").attr("href")});$(".link-n").click(function(i){i.stopPropagation();i.preventDefault();window.open($(this).find("a").attr("href"))});$(".accordion ul li .title").click(function(){var i=$(this).parent().find("input").attr("id");if($(".formError")){$("."+i+"formError").remove()}$(this).parent("li").children(".content").slideToggle("medium, easeInOutCirc");$(this).parent("li").toggleClass("open");var l=$(this).parent("li");l.find("span").removeAttr("class");if(l.hasClass("open")){l.find(".title span").addClass("icon-ion-ios-minus-empty")}else{l.find(".title span").addClass("icon-ion-ios-plus-empty")}});$(".career-form").click(function(){$("body,html").animate({scrollTop:$(".work-with-us").offset().top},1500,"easeInOutQuad")});$(window).scroll(function(){if($(window).scrollTop()>485){$(".aboutus-wrapper").addClass("fixed")}else{$(".aboutus-wrapper").removeClass("fixed")}$(".aboutus-wrapper h1").each(function(){if(isScrolledIntoView(this)){$(".aboutus-wrapper .sub-nav li").siblings().removeClass("active");var i=$(this).data("step");$(".aboutus-wrapper .sub-nav li").eq(i).addClass("active")}});$(".product-grid .pd-tags").each(function(){if($(this).hasClass("effect")){if($(this).is(":in-viewport")){$(this).delay(500).queue(function(){$(this).addClass("slide-up").clearQueue()})}}})});$(".aboutus-wrapper .sub-nav li").click(function(){$(this).scrollPage()});$.fn.scrollPage=function(){var i=this.data("id");$("body,html").animate({scrollTop:i},650,"easeInOutQuad");return false};if(window.location.hash){$(".sub-nav li").removeClass("active");$('.sub-nav li[data-id="4950"]').addClass("active");if($("#main > div").hasClass(".aboutus-wrapper")){setTimeout(function(){$("html, body").animate({scrollTop:$("#mgmt").offset().top},1000,"easeInOutQuad")},1000)}}var d=[["who",510],["design",852],["advantage",1357],["milestone",2288],["investors",3814],["management",4927]];if(pg_about_param){for(var f=0;f<d.length;f++){if(pg_about_param==d[f][0]){$("body,html").animate({scrollTop:d[f][1]},650,"easeInOutQuad");return false}}}headerHoverItemInt();function e(){var i={};i._eventId="viewMoreFilters";i.existingFilters=getFilterparams.filterUniqueCategory.join(", ");i.existingFilterTags=getFilterparams.filterUniqueTags.join(", ");i.pageType=getCurrentPageType();processServerEvent(i)}$("#solitaire-options li").click(function(){$(this).addClass("selected");$(this).siblings().removeClass("selected")});$(document).delegate(".v-m-f-toggle, .top-filter-overlay","click",function(i){$("#top-filter-hover").fadeToggle(0);e();$(this).closest(".filters").toggleClass("p-f-open");$(this).closest(".new-filters").toggleClass("p-f-open");$("#top-filter-hover").css({top:"0"});$(".sticky-filter-wrapper.active #top-filter-hover").css({top:"50%"});$(".b-new-filter #livechat-compact-container").css({display:"none"});$("#top-filter-hover .v-m-f-toggle span").text("Less Filters");$("#top-filter-hover .v-m-f-toggle i").addClass("icon-ion-chevron-up").removeClass("icon-ion-android-close")});$(document).delegate(".open-filters","click",function(i){var l=$(window).scrollTop();$("#top-filter-hover").css({top:l,display:"block"});$(".filters").addClass("p-f-open");$(".new-filters").addClass("p-f-open");$("#top-filter-hover .v-m-f-toggle span").text("Close Filters");$("#top-filter-hover .v-m-f-toggle i").removeClass("icon-ion-chevron-up").addClass("icon-ion-android-close")});$(document).delegate("p-f-open","click",function(i){$(this).close()});$(".free-gift.voucher label").click(function(){$("#voucher-wrapper").show();$(".free-gift.voucher label span.checkbox span").removeClass("icon-ion-ios-circle-outline").addClass("icon-ion-ios-checkmark");$(".free-gift.gift label span.checkbox span").addClass("icon-ion-ios-circle-outline").removeClass("icon-ion-ios-checkmark");$(".formError").remove();$("#voucher-message").hide()});$("#has-voucher label").click(function(){if($(this).find("#have-discount").is(":not(:checked)")){$("#voucher-wrapper").hide();$("#has-voucher label span.checkbox span").addClass("icon-ion-ios-circle-outline").removeClass("icon-ion-ios-checkmark")}else{$("#voucher-wrapper").show();$("#has-voucher label span.checkbox span").addClass("icon-ion-ios-checkmark").removeClass("icon-ion-ios-circle-outline");trackGA("Checkout","Expanded Voucher Code Field");$("#newOffer-input").attr("checked",false);$("#use-newOffer label span.checkbox span").addClass("icon-ion-ios-circle-outline").removeClass("icon-ion-ios-checkmark");$("#newOffer-wrapper").hide()}$(".formError").remove();$("#voucher-message").hide()});$("#use-newOffer label").click(function(){if($(this).find("#newOffer-input").is(":not(:checked)")){$("#newOffer-wrapper").hide();$("#use-newOffer label span.checkbox span").addClass("icon-ion-ios-circle-outline").removeClass("icon-ion-ios-checkmark")}else{$("#newOffer-wrapper").show();$("#use-newOffer label span.checkbox span").addClass("icon-ion-ios-checkmark").removeClass("icon-ion-ios-circle-outline");$("#has-voucher label span.checkbox span").addClass("icon-ion-ios-circle-outline").removeClass("icon-ion-ios-checkmark");$("#have-discount").attr("checked",false);$("#voucher-wrapper").hide()}});$("#freegift").click(function(){var i=$(this).find("input[type=radio]");if(i.is(":not(:checked)")){$(this).find(".freegift-loading").removeClass("hideit")}});$(".apply-now").click(function(){var i=$(this).closest(".list-item").find("#job-title").html();$("#positionName").val(i)});$(".offer-container#voucher-code").on("click","label.voucher-applied",function(i){i.stopPropagation();return false});$(".offer-container#jp-miles").on("click","label.jpm-applied",function(i){i.stopPropagation();return false});$(".offer-container#voucher-code").on("click","label",function(){var l=$(".offer-container#jp-miles label");if(!l.hasClass("jpm-applied")&&!$(this).hasClass("voucher-applied")){$(".offer-container#jp-miles").removeClass("show-content");l.find("input[type=checkbox]").prop("checked",false);$(".offer-container#jp-miles label").find("i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}$(".formError").remove();var i=$(this).find("input[type=checkbox]");if(i.is(":checked")){$(this).parents(".offer-container").addClass("show-content");$(this).find("i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark")}else{$(this).parents(".offer-container").removeClass("show-content");$(this).find("i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}});$(".offer-container#jp-miles").on("click","label",function(){var l=$(".offer-container#voucher-code label");if(!l.hasClass("voucher-applied")&&!$(this).hasClass("jpm-applied")){$(".offer-container#voucher-code").removeClass("show-content");l.find("input[type=checkbox]").prop("checked",false);$(".offer-container#voucher-code label").find("i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}$(".formError").remove();var i=$(this).find("input[type=checkbox]");if(i.is(":checked")){$(this).parents(".offer-container").addClass("show-content");$(this).find("i").switchClass("icon-ion-ios-circle-outline","icon-ion-ios-checkmark")}else{$(this).parents(".offer-container").removeClass("show-content");$(this).find("i").switchClass("icon-ion-ios-checkmark","icon-ion-ios-circle-outline")}});$(".spc-wrapper #show-email-1").on("click",function(){$("#updateUserData").find("input, textarea, select").val("");$(this).parents("form").find(".login-email").slideUp();$("#passwordForm #enter-password-block").slideUp();$(this).parents("section").find("#updateUserData").slideUp();$(this).parents("form").find("#change-email").slideDown()});$(".spc-wrapper #show-email-2").on("click",function(){$("#updateUserData").find("input, textarea, select").val("");$(this).parents("section").find("#updateUserData").slideUp();$(this).parents(".your-details").find("#change-email").slideDown();$(this).parents(".your-details").find("#userLoginForm").slideDown();$(this).parents(".your-details").find(".login-email").addClass("hide")});$("#enter-password-block .show-pwd").on("click",function(){if($(this).hasClass("hide-pwd")){$("#enter-password-block #password").attr("type","password");$(this).removeClass("hide-pwd")}else{$("#enter-password-block #password").attr("type","text");$(this).addClass("hide-pwd")}});$(".payment-option-wrapper .payment-option-title ul li").click(function(){$(this).addClass("selected").siblings().removeClass("selected");$(".payment-option-wrapper .payment-option-form > div").eq($(this).index()).addClass("selected").siblings().removeClass("selected");$(".formError").remove()});$(".payment-option-form form label").click(function(){var i=$(this).find("input[type=radio]");if(i.is(":checked")){$(this).parents(".payment-option-form").find("label").removeClass("active");$(this).addClass("active")}$(this).parents(".payment-option-form").find("label input[type=radio]").prop("checked",false);$(this).find("input[type=radio]").prop("checked",true)});$(".spc-wrapper").on("click","section.completed .heading",function(l){var i=$(this).parents("section");i.siblings().find(" .spc-content-inner > .content").slideUp();i.find(".spc-content-inner > .content").slideDown();i.find("form#updateUserData").slideDown();$(".formError").remove();i.removeClass("completed").addClass("active-tab");i.siblings().removeClass("active-tab");i.next().removeClass("completed")});$(".spc-wrapper section.focused").on("click",".heading",function(i){i.stopImmediatePropagation()});$(".tooltip-p i, .tooltip-p span.icon").mouseover(function(){$(this).parents(".tooltip-p").addClass("active")}).mouseout(function(){$(this).parents(".tooltip-p").removeClass("active")});$(".shopping-bag-popup").click(function(i){i.stopPropagation()});$("body").on("click",function(){$("#quick_cart .shopping-bag-popup").slideUp()});$(".search-form").click(function(){$("#search_query_top_elastic_search").jautocomplete({minLength:2,source:[{valueKey:"title",url:GLOBAL_CTX+"/search/suggest?search_text=%QUERY%",type:"remote",getValue:function(i){return i.title},ajax:{dataType:"json"}}]}).on("selected.xdsoft",function(l,i){$("#searchbox_elastic_search").submit()});$("#search_query_top_elastic_search").focus()});$("#searchbox").submit(function(p){var i=$("input#search_query_top").val();var o=$(".xdsoft_autocomplete_dropdown > div").first().text().trim();if(o==""){return true}var q=o.split(" ");q.sort();var l=i.split(" ");l.sort();var n=true;if(l.length!=q.length){n=false}else{for(f=0;f<l.length;f++){if(l[f].toLowerCase()!=q[f].toLowerCase()){n=false;break}}}if(n){var m=$(".xdsoft_autocomplete_dropdown > div").first().find("a").attr("href");p.preventDefault();window.open(m,"_self")}else{return true}});$(".slide-thumbs .item img").click(function(){var i=$(".slide-thumbs .item img").size();$(".slide-thumbs .item").removeClass("active");$(this).parents(".item").addClass("active");logViewedProductCarouselEvent($(this),i)});if(PAGE_TYPE=="product"&&$(".image-placeholder").hasClass("has-video")){var h=$("#p-video");var j=0;if($("body").hasClass("p-auto-play")){var b=true;videoTimeUpdate(h.get(0),Date.now(),b)}$(".slide-thumbs .item img").click(function(){j=j+1;if(j==1){bStartTime=Date.now()}$(".slide-thumbs .item").removeClass("active");$(this).parents(".item").addClass("active");$(".image-placeholder #wrap, .image-placeholder a.cloud-zoom").removeClass("hidden");$(".video-wrap").addClass("hidden");h.get(0).pause();if($(this).parents(".item").hasClass("video-thumb")){$(".image-placeholder #wrap").addClass("hidden");$(".video-wrap").removeClass("hidden");h.get(0).play();var i=$(this).parent().data("id");processClientEvent(i);trackGA("BsUI","Product_Page_Click","Video_Clicked_Desktop");if(j==1){videoTimeUpdate(h.get(0),bStartTime)}}})}$(".block-element i.close").click(function(){$(this).parent().slideUp()});var a=0;$(window).scroll(function(){var o=$(window).scrollTop();var l=$(".sticky-filter-wrapper").height();var n=$("header").height()+$("#breadcrumb").height()+$(".browse-title").height()+30;var i=400;if($(".block-element.dark-blue").is(":visible")){i=i+$(".block-element.dark-blue").height()}if(o>i){$(".sticky-filter-wrapper").addClass("active");$(".sticky-filter-wrapper .sticky-filter-inner").addClass("container");$(".b-new-filter .refine-search-page").css("paddingTop",l);$(".b-new-filter #top-filter-hover").css("top","0");if(!$("#top-filter-hover").is(":visible")){var m=$(window).scrollTop();if(m<a){$("body").addClass("scrollTop")}else{$("body").removeClass("scrollTop")}a=m}}else{$("body").removeClass("scrollTop");$(".sticky-filter-wrapper").removeClass("active");$(".sticky-filter-wrapper .sticky-filter-inner").removeClass("container");$(".b-new-filter .refine-search-page").removeAttr("style")}});$(".sticky-filter-wrapper .form-item span.prcs-dlh, .sticky-filter-wrapper .form-item a").click(function(){var l=$(this).data("tagcategory");var i=$(this).data("displayname");if($(this).closest(".sticky-filter-wrapper").hasClass("active")){trackGA("Browse-Page-Filters-Sticky",l,i)}else{trackGA("Browse-Page-Filters",l,i)}});var c;$(".sticky-filter-wrapper .form-item span.prcs-dlh, .sticky-filter-wrapper .form-item a").hover(function(){var i=$(this).data("tagcategory");c=setTimeout(function(){trackGA("Browse-Page-Filters","Hovered Over Filter",i)},500)},function(){clearTimeout(c)});$("select.ve-fix").on("change",function(){var i="."+$(this).attr("id")+"formError";if($(this).val()!==" "){if($(i)){$(i).remove()}}});var g=0;$(".page-home .floating-nav span").click(function(){var o=$(this).parents(".month-block").data("month"),l=$(this).index()+1,n=$(".section-by-month[data-month='"+o+"']"),m=$(n.selector+" .section-content .row:nth-child("+l+")"),i=$("body"),p=$("html, body");scroll_position=$(m.selector).offset().top;scroll_position-=61;if(l==1){scroll_position-=52}if(g>=scroll_position){scroll_position-=113}if(!$(this).hasClass("selected")){p.animate({scrollTop:scroll_position},500,"swing",function(){})}g=scroll_position})});function fixedHeader(){if($("body").hasClass("with-ticker")){if($(window).scrollTop()>74){$("body").addClass("fixed-header")}else{$("body").removeClass("fixed-header")}}else{if($(window).scrollTop()>42){$("body").addClass("fixed-header")}else{$("body").removeClass("fixed-header")}}}function fixedWhiteHeader(){if($(window).scrollTop()>=88){$("body.with-white-header").addClass("fixed-white-header")}else{if(PAGE_TYPE!="browse"){if($(window).scrollTop()<1){$("body.with-white-header").removeClass("fixed-white-header")}}else{$("body.with-white-header").removeClass("fixed-white-header")}}}var pageScrolled=0;if(PAGE_TYPE!="browse"){$(window).scroll(function(){var b=$(window).scrollTop();if(b<pageScrolled){$("body").addClass("wh-scrollTop");$("body").removeClass("wh-scrollDown")}else{if(b>143){$("body").addClass("wh-scrollDown");$("body").removeClass("wh-scrollTop")}else{$("body").removeClass("wh-scrollTop");$("body").removeClass("wh-scrollDown")}}if($("body").hasClass("tah-landing-page")){$("body").removeClass("wh-scrollTop");if(b<143){$("body.with-white-header").removeClass("fixed-white-header")}}pageScrolled=b;$(".section-by-month .row .items").each(function(){if(isScrolledIntoView(this)){var e=$(this).parents(".section-by-month").data("month");var c=$(this).parent().data("index");var d=$(this).parent().index()+1;$(".floating-nav span").removeClass("selected");$(".floating-nav .month-block").removeClass("active");$(".floating-nav .month-block[data-month='"+e+"'] .nav-content span:nth-child("+d+")").addClass("selected");$(".floating-nav .month-block[data-month='"+e+"']").addClass("active")}});var a=$(".page-home .hp-top-v1").height()-$(".floating-nav").height();if(b>a){$(".floating-nav").addClass("fadeout")}else{$(".floating-nav").removeClass("fadeout")}})}$(document).keyup(function(a){if(a.keyCode==27){$(".search-instance-wrapper").removeClass("show-instance")}});function headerHoverItemInt(){$(".top-level-dd").hover(function(){var a=$(this).data("timer");if(a){clearTimeout(a)}$(this).addClass("top-level-dd-hover");$(this).find(".top-level-dd-inner i").removeClass("icon-ion-android-arrow-dropdown").addClass("icon-ion-android-arrow-dropup")},function(){var a=$(this);a.data("timer",setTimeout(function(){a.removeClass("top-level-dd-hover");a.find(".top-level-dd-inner i").removeClass("icon-ion-android-arrow-dropup").addClass("icon-ion-android-arrow-dropdown")},500))});$(".ctry-list-small li").click(function(){$(this).siblings().removeClass("active");radio=$(this).find("input[type=radio]");if(radio.is(":checked")){$(this).addClass("active")}})}function hoverInit(){$(".grid-view ul.product-grid li .p-image, .grid-view ul.product-grid li .pr-d, .grid-view .pr-i .wishlist, .list-view .pr-i .wishlist, .grid-view ul.product-grid .pgi .p-image, .grid-view ul.product-grid .pr-d, .product-grid .pgi .p-image, .product-grid .pgi .pr-d, .list-view ul.product-grid li .p-image, list-view ul.product-grid li .pr-d, .grid-view .pr-i .bvideo-icon img, .list-view .pr-i .bvideo-icon img, .bvideo-icon2, .browse-page-var2 .grid-view ul.product-grid li .inner, .browse-page-var2 .pr-i .p-wrap").hoverIntent({sensitivity:200,interval:0,over:a,timeout:0,out:b});function a(){$(this).parents("li, .pgi").find(".p-image img").addClass("hu").addClass("hi");$(this).parents("li, .pgi").addClass("with-detail").delay(500).find(".pr-d, .pr-d-var2").css({display:"block"});if(PAGE_TYPE=="browse"){var c=$(this).parents("li").data("pid").toString()}}function b(){$(this).parents("li, .pgi").find(".p-image img").load(function(){$(this).stop(true,true).removeClass("hu").removeClass("hi")});$(this).parents("li, .pgi").find(".p-image img").stop(true,true).removeClass("hu").removeClass("hi");$(this).parents("li, .pgi").removeClass("with-detail").find(".pr-d, .pr-d-var2").css({display:"none"})}}function videoTimeUpdate(f,g,d){var a=1;var e=0,c=0;var b=false;f.addEventListener("timeupdate",function(){if(e==0){e=1;c=1}var i=f.duration;var h=(f.currentTime/i)*100;if(d){if(f.paused){logVideoPlayedPausedByUserEvent("Pause","Manual");b=false}else{if(!b){b=true;logVideoPlayedPausedByUserEvent("Play","Automatic")}}}else{if(f.paused){logVideoPlayedPausedByUserEvent("Pause","Manual");b=false}else{if(!b){b=true;logVideoPlayedPausedByUserEvent("Play","Manual")}}}})}function showHideFilter(){$("#top-filter .block").hoverIntent({sensitivity:200,interval:25,over:showFilter,timeout:25,out:hideFilter})}$(document).ready(function(){function a(){$(this).addClass("active").find(".content").slideDown("fast")}function b(){$(this).removeClass("active").find(".content").slideUp("medium")}});function isScrolledIntoView(d){var b=$(d);var g=$(window);var f=g.scrollTop();var e=f+g.height()/3;var a=b.offset().top;var c=a+b.height();return((c<=e)&&(a>=f))};var footer_links=[["about",GLOBAL_CTX+"/about.html",false],["about-management",GLOBAL_CTX+"/about.html#mgmt",false],["career",GLOBAL_CTX+"/career",false],["certifications",GLOBAL_CTX+"/certifications.html",false],["press-room",GLOBAL_CTX+"/press-room.html",false],["testimonials",GLOBAL_CTX+"/testimonials.html",false],["shipping-return",GLOBAL_CTX+"/shipping-return.html",false],["lifetime-exchange",GLOBAL_CTX+"/shipping-return.html#lifetime-exchange",false],["privacy-policy",GLOBAL_CTX+"/privacy.html",false],["terms-conditions",GLOBAL_CTX+"/tnc.html",false],["contact-us",GLOBAL_CTX+"/contact.html",false],["faq",GLOBAL_CTX+"/faq.html",false],["all-about-jewellery",GLOBAL_CTX+"/all-information-about-jewellery-cat-3.html",false],["articles-on-jewellery",GLOBAL_CTX+"/how-to-articles-on-jewelry-cat-18.html",false],["care-tips-and-advice",GLOBAL_CTX+"/jewellery-care-tips-and-advice-cat-19.html",false],["jewellery-guides",GLOBAL_CTX+"/jewellery-guides-cat-17.html",false],["shopping-assistant",GLOBAL_CTX+"/shopping-assistant.html?ref=ShoppingAssistant",false,["_trackEvent","BsUI","shopping-assistant","clicked"]],["wedding-bespoke",GLOBAL_CTX+"/wedding.html",false],["ndd",GLOBAL_CTX+"/jewellery/next+day+delivery.html",false],["play-store","https://play.google.com/store/apps/details?id=com.bluestone.android&referrer=website&utm_source%3Dwebsite_footer%26utm_medium%3Dwebsite%26utm_campaign%3Dwebsite",true],["app-store","https://itunes.apple.com/in/app/bluestone-jewellery-online/id1107631430?mt=8",true],["fb","http://www.facebook.com/bluestonejewels",true],["tw","http://twitter.com/bluestone_com",true],["yt","http://www.youtube.com/user/Bluestonedotcom",true],["pin","http://in.pinterest.com/bluestonedotcom/",true],["ins","http://instagram.com/bluestone_com/",true],["cg","mailto:corporate.gifting@bluestone.com",true],["cs","mailto:cs@bluestone.com",true],["sis",GLOBAL_CTX+"/shop-in-shop.html",false],["why-buy-from-us",GLOBAL_CTX+"/whybuyfromus.html",false]];var header_links=[["tah-link",GLOBAL_CTX+"/try-at-home.html",false],["hto-view",GLOBAL_CTX+"/hto/view",false],["hto-view-land",GLOBAL_CTX+"/try-at-home.html",false,["_trackEvent","UITest-HomeTryIcon","home-try-on-icon-header-top",""]],["wishlist-view",GLOBAL_CTX+"/wishlist/view",false],["signout",GLOBAL_CTX+"/signout",false],["gift-card",GLOBAL_CTX+"/giftcard.html",false,["_trackEvent","UITest-E-GiftCard","e-gift-card-icon-nav-pane",""]],["order",GLOBAL_CTX+"/order"],["collections",GLOBAL_CTX+"/collections.html",false,["_trackEvent","BsUI","MainMenu","Collections"]],["ndd",GLOBAL_CTX+"/jewellery/next+day+delivery.html",false,["_trackEvent","BsUI","MainMenu","Next_day_delivery"]],["valentine-browse",GLOBAL_CTX+"/jewellery/valentine+day+delivery.html",false,["_trackEvent","BsUI","MainMenu","Valentine_day_delivery"]],["offers",GLOBAL_CTX+"/offers.html",false,["_trackEvent","BsUI","MainMenu","Offers"]],["history-link",GLOBAL_CTX+"/recently-viewed",false]];var testimonials_block_links=[["tb01","http://www.mouthshut.com/review/Bluestone-com-review-uttrumrsou",true],["tb02","http://www.mouthshut.com/review/Bluestone-com-review-ptlqpnstpt",true],["tb03","https://www.facebook.com/manisha.lalwani86?fref=nf",true],["tb04","https://www.facebook.com/binod.seo?fref=nf",true],["tb05","https://www.facebook.com/ruchika.s.dang",true],["tb06","https://www.facebook.com/100002146737941",true],["tb07","https://www.facebook.com/meenaxi.george",true],["tb08","http://www.mouthshut.com/pravin2650/timeline",true]];var bs_promise_links=[["30-day-return",GLOBAL_CTX+"/shipping-return.html#30-day-return",true],["lifetime-exchange",GLOBAL_CTX+"/shipping-return.html#lifetime-exchange",true],["certifications",GLOBAL_CTX+"/certifications.html",true],["refund",GLOBAL_CTX+"/shipping-return.html#refund",true],["free-shipping",GLOBAL_CTX+"/shipping-return.html#free-shipping",true],["free-returns",GLOBAL_CTX+"/shipping-return.html#free-returns",true]];var bs_certification_links=[["bis","http://www.bis.org.in/",true],["pgi","http://www.platinumguild.com/",true],["sgl","http://solitaire-labs.com/",true],["igi","http://igionline.com/",true]];var gifts_links=[["gifts",GLOBAL_CTX+"/gifts.html",false,["_trackEvent","BsUI","MainMenu","Gifts"]],["gift-card",GLOBAL_CTX+"/giftcard.html",false,["_trackEvent","BsUI","MainMenu","Gifts_GiftCard"]],["gfhr",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-gifts+for+her.html",false,["_trackEvent","BsUI","MainMenu","Gifts_ForHer"]],["gfhm",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-gifts+for+him.html",false,["_trackEvent","BsUI","MainMenu","Gifts_ForHim"]],["valentine",GLOBAL_CTX+"/valentine.html",false,["_trackEvent","BsUI","MainMenu","Gifts_Valentine"]],["gfb",GLOBAL_CTX+"/jewellery/gift-for+birthday.html",false,["_trackEvent","BsUI","MainMenu","Gifts_Birthday"]],["gfa",GLOBAL_CTX+"/jewellery/gift-for+anniversary.html",false,["_trackEvent","BsUI","MainMenu","Gifts_Anniversary"]],["gfw",GLOBAL_CTX+"/jewellery/gift-for+wedding.html",false,["_trackEvent","BsUI","MainMenu","Gifts_Wedding"]],["gf10k",GLOBAL_CTX+"/jewellery/gift-below+rs+10000.html",false,["_trackEvent","BsUI","MainMenu","Gifts_Under10k"]],["gf10-20",GLOBAL_CTX+"/jewellery/gift-rs+10000+to+rs+20000.html",false,["_trackEvent","BsUI","MainMenu","Gifts_10k20k"]],["gf20-30",GLOBAL_CTX+"/jewellery/gift-rs+20000+to+rs+30000.html",false,["_trackEvent","BsUI","MainMenu","Gifts_20k30k"]],["gf30",GLOBAL_CTX+"/jewellery/above+30000-gift.html",false,["_trackEvent","BsUI","MainMenu","Gifts_above30k"]]];var home_page_w=[["certifications",GLOBAL_CTX+"/certifications.html",true,["_trackEvent","BsUI","HP_Cerification_Icon_Clicked","HP_Cerification_Icon"]],["30-day-return",GLOBAL_CTX+"/shipping-return.html#30-day-return",true,["_trackEvent","BsUI","HP_30Day_Return_Icon_Clicked","HP_30Day_Return_Icon"]],["lifetime-exchange",GLOBAL_CTX+"/shipping-return.html#lifetime-exchange",true,["_trackEvent","BsUI","HP_Lifetime_Exchange_Icon_Clicked","HP_Lifetime_Exchange_Icon"]],["hto-view-land-hp-band",GLOBAL_CTX+"/try-at-home.html",true,["_trackEvent","BsUI","HP_HTO_Icon_Clicked","HP_HTO_Icon"]]];var menu_links=[["rings-all",GLOBAL_CTX+"/jewellery/rings.html",false],["rings-engagement",GLOBAL_CTX+"/jewellery/engagement-rings.html",false],["rings-diamond",GLOBAL_CTX+"/jewellery/diamond-rings.html",false],["rings-couple-band",GLOBAL_CTX+"/jewellery/couple+band-rings.html",false],["rings-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-rings.html",false],["rings-officewear",GLOBAL_CTX+"/jewellery/officewear-rings.html",false],["rings-gemstone",GLOBAL_CTX+"/jewellery/gemstone-rings.html",false],["rings-cocktail",GLOBAL_CTX+"/jewellery/cocktail-rings.html",false],["rings-preset-solitaires",GLOBAL_CTX+"/jewellery/preset+solitaire+rings.html",false],["rings-multi-finger",GLOBAL_CTX+"/jewellery/multi+finger+rings.html",false],["rings-religious",GLOBAL_CTX+"/jewellery/religious-rings.html",false],["rings-platinum",GLOBAL_CTX+"/jewellery/platinum-rings.html",false],["rings-men",GLOBAL_CTX+"/jewellery/rings-men.html",false],["rings-navaratna",GLOBAL_CTX+"/jewellery/navaratna-rings.html",false],["rings-gift",GLOBAL_CTX+"/jewellery/filter/gift-rings.html",false],["rings-pearl",GLOBAL_CTX+"/jewellery/pearl-rings.html",false],["rings-view-all",GLOBAL_CTX+"/jewellery/rings.html",false],["rings-below15k",GLOBAL_CTX+"/jewellery/filter/below+15000-rings.html",false],["rings-15k20k",GLOBAL_CTX+"/jewellery/filter/above+15000-rings-rs+10000+to+rs+20000.html",false],["rings-20k30k",GLOBAL_CTX+"/jewellery/filter/rings-rs+20000+to+rs+30000.html",false],["rings-30k50k",GLOBAL_CTX+"/jewellery/filter/below+50000-above+30000-rings.html",false],["rings-above50k",GLOBAL_CTX+"/jewellery/filter/rs+50000+and+above-rings.html",false],["rings-offers",GLOBAL_CTX+"/jewellery/filter/offers-rings.html",false],["rings-diamond",GLOBAL_CTX+"/jewellery/diamond-rings.html",false],["rings-gold",GLOBAL_CTX+"/jewellery/gold-rings.html",false],["rings-gold-white",GLOBAL_CTX+"/jewellery/white+gold-rings.html",false],["rings-gold-rose",GLOBAL_CTX+"/jewellery/rose+gold-rings.html",false],["rings-platinum",GLOBAL_CTX+"/jewellery/platinum-rings.html",false],["rings-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-rings.html",false],["rings-open-look",GLOBAL_CTX+"/jewellery/filter/open+look+rings.html",false],["earrings-all",GLOBAL_CTX+"/jewellery/earrings.html",false],["earrings-studs",GLOBAL_CTX+"/jewellery/studs-earrings.html",false],["earrings-danglers",GLOBAL_CTX+"/jewellery/danglers-earrings.html",false],["earrings-drops",GLOBAL_CTX+"/jewellery/drops-earrings.html",false],["earrings-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-earrings.html",false],["earrings-sui-dhaga",GLOBAL_CTX+"/jewellery/sui+dhaga-earrings.html",false],["earrings-diamond",GLOBAL_CTX+"/jewellery/diamond-earrings.html",false],["earrings-jhumka",GLOBAL_CTX+"/jewellery/jhumka-earrings.html",false],["earrings-pearl",GLOBAL_CTX+"/jewellery/pearl-earrings.html",false],["earrings-chandbali",GLOBAL_CTX+"/jewellery/chand+bali.html",false],["earrings-gemstone",GLOBAL_CTX+"/jewellery/gemstone-earrings.html",false],["earrings-front-back",GLOBAL_CTX+"/jewellery/front+back.html",false],["earrings-hoops",GLOBAL_CTX+"/jewellery/hoops-earrings.html",false],["earrings-kids",GLOBAL_CTX+"/jewellery/earrings-kids.html",false],["earrings-earcuff",GLOBAL_CTX+"/jewellery/earcuff-earrings.html",false],["earrings-men",GLOBAL_CTX+"/jewellery/earrings-men.html",false],["earrings-navaratna",GLOBAL_CTX+"/jewellery/filter/navaratna-earrings.html",false],["earrings-gift",GLOBAL_CTX+"/jewellery/filter/gift-earrings.html",false],["earrings-mixnmatch",GLOBAL_CTX+"/jewellery/filter/mix+and+match-earrings.html",false],["earrings-view-all",GLOBAL_CTX+"/jewellery/earrings.html",false],["earrings-below10k",GLOBAL_CTX+"/jewellery/filter/earrings-below+rs+10000.html",false],["earrings-15k20k",GLOBAL_CTX+"/jewellery/filter/below+15000-earrings-rs+10000+to+rs+20000.html",false],["earrings-20k30k",GLOBAL_CTX+"/jewellery/filter/earrings-rs+20000+to+rs+30000.html",false],["earrings-30k50k",GLOBAL_CTX+"/jewellery/filter/below+50000-above+30000.html",false],["earrings-above50k",GLOBAL_CTX+"/jewellery/filter/rs+50000+and+above-earrings.html",false],["earrings-offers",GLOBAL_CTX+"/jewellery/filter/offers-earrings.html",false],["earrings-diamond",GLOBAL_CTX+"/jewellery/diamond-earrings.html",false],["earrings-gold",GLOBAL_CTX+"/jewellery/gold-earrings.html",false],["earrings-gold-white",GLOBAL_CTX+"/jewellery/white+gold-earrings.html",false],["earrings-gold-rose",GLOBAL_CTX+"/jewellery/rose+gold-earrings.html",false],["earrings-gemstone",GLOBAL_CTX+"/jewellery/gemstone-earrings.html",false],["earrings-preset-solitaire",GLOBAL_CTX+"/jewellery/filter/preset+solitaire+earrings.html",false],["earrings-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-earrings.html",false],["earrings-ziba",GLOBAL_CTX+"/ziba-collection.html",false],["pendants-all",GLOBAL_CTX+"/jewellery/pendants.html",false],["pendants-alphabet",GLOBAL_CTX+"/jewellery/alphabet-pendants.html",false],["pendants-mangalsutra",GLOBAL_CTX+"/jewellery/mangalsutra.html",false],["pendants-religious",GLOBAL_CTX+"/jewellery/religious-pendants.html",false],["pendants-diamond",GLOBAL_CTX+"/jewellery/diamond-pendants.html",false],["pendants-fashion",GLOBAL_CTX+"/jewellery/fashion-pendants.html",false],["pendants-pearl",GLOBAL_CTX+"/jewellery/pearl-pendants.html",false],["pendants-hearts",GLOBAL_CTX+"/jewellery/hearts-pendants.html",false],["pendants-gemstone",GLOBAL_CTX+"/jewellery/gemstone-pendants.html",false],["pendants-locket",GLOBAL_CTX+"/jewellery/locket-pendants.html",false],["pendants-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-pendants.html",false],["pendants-officewear",GLOBAL_CTX+"/jewellery/officewear-pendants.html?preferredProducts=818,3177,2979,1896,2083,1688",false],["pendants-men",GLOBAL_CTX+"/jewellery/pendants-men.html",false],["pendants-zodiac",GLOBAL_CTX+"/jewellery/zodiac-pendants.html",false],["pendants-kids",GLOBAL_CTX+"/jewellery/pendants-kids.html",false],["pendants-navaratna",GLOBAL_CTX+"/jewellery/navaratna-pendants.html",false],["pendants-gift",GLOBAL_CTX+"/jewellery/filter/gift-pendants.html",false],["pendants-all",GLOBAL_CTX+"/jewellery/pendants.html",false],["pendants-below10k",GLOBAL_CTX+"/jewellery/filter/pendants-below+rs+10000.html",false],["pendants-10k15k",GLOBAL_CTX+"/jewellery/filter/below+15000-pendants-rs+10000+to+rs+20000.html",false],["pendants-15k20k",GLOBAL_CTX+"/jewellery/filter/above+15000-pendants-rs+10000+to+rs+20000.html",false],["pendants-20k30k",GLOBAL_CTX+"/jewellery/filter/below+25000-pendants-rs+20000+to+rs+30000.html",false],["pendants-above25k",GLOBAL_CTX+"/jewellery/filter/above+25000-pendants.html",false],["pendants-offers",GLOBAL_CTX+"/jewellery/filter/offers-pendants.html",false],["pendants-diamond",GLOBAL_CTX+"/jewellery/diamond-pendants.html",false],["pendants-gold",GLOBAL_CTX+"/jewellery/gold-pendants.html",false],["pendants-gold-white",GLOBAL_CTX+"/jewellery/white+gold-pendants.html",false],["pendants-gold-rose",GLOBAL_CTX+"/jewellery/rose+gold-pendants.html",false],["pendants-gemstone",GLOBAL_CTX+"/jewellery/gemstone-pendants.html",false],["pendants-preset-solitaire",GLOBAL_CTX+"/jewellery/filter/preset+solitaire+pendants.html",false],["pendants-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-pendants.html",false],["pendants-floral",GLOBAL_CTX+"/floral.html",false],["bangles-all",GLOBAL_CTX+"/jewellery/bangles.html",false],["bangles-everyday",GLOBAL_CTX+"/jewellery/everyday-bangles.html",false],["bangles-dailywear",GLOBAL_CTX+"/jewellery/filter/essentially+light+collection-bangles.html",false],["bangles-diamond",GLOBAL_CTX+"/jewellery/diamond-bangles.html",false],["bangles-wedding",GLOBAL_CTX+"/jewellery/wedding-bangles.html",false],["bangles-kada",GLOBAL_CTX+"/jewellery/kada-men.html",false],["bangles-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-bangles.html",false],["bangles-officewear",GLOBAL_CTX+"/jewellery/officewear-Bangles.html",false],["bangles-men",GLOBAL_CTX+"/jewellery/bangles-men.html",false],["bangles-eternity",GLOBAL_CTX+"/jewellery/eternity-bangles.html",false],["bangles-kids",GLOBAL_CTX+"/jewellery/bangles-kids.html",false],["bangles-faishon",GLOBAL_CTX+"/jewellery/fashion-bangles.html",false],["bangles-gift",GLOBAL_CTX+"/jewellery/filter/gift-bangles.html",false],["bangles-all",GLOBAL_CTX+"/jewellery/bangles.html",false],["bangles-below30k",GLOBAL_CTX+"/jewellery/filter/bangles-below+30000.html",false],["bangles-30k50k",GLOBAL_CTX+"/jewellery/filter/below+50000-above+30000-bangles.html",false],["bangles-above50k",GLOBAL_CTX+"/jewellery/filter/rs+50000+and+above-bangles.html",false],["bangles-offers",GLOBAL_CTX+"/jewellery/filter/offers-bangles.html",false],["bangles-diamond",GLOBAL_CTX+"/jewellery/diamond-bangles.html",false],["bangles-gold",GLOBAL_CTX+"/jewellery/gold-bangles.html",false],["bangles-gold-white",GLOBAL_CTX+"/jewellery/white+gold-bangles.html",false],["bangles-gold-rose",GLOBAL_CTX+"/jewellery/filter/rose+gold-bangles.html",false],["bangles-gemstone",GLOBAL_CTX+"/jewellery/gemstone-bangles.html",false],["bangles-ruby",GLOBAL_CTX+"/jewellery/ruby-bangles.html",false],["bangles-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-bangles.html",false],["bangles-teen",GLOBAL_CTX+"/jewellery/filter/teen+bangles.html",false],["bangles-preset",GLOBAL_CTX+"/jewellery/filter/preset+solitaires.html",false],["solitaires-build-ring",GLOBAL_CTX+"/build-your-own-diamond-ring",false],["solitaires-preset-rings",GLOBAL_CTX+"/jewellery/preset+solitaire+rings.html",false],["solitaires-build-pendant",GLOBAL_CTX+"/build-your-own-diamond-pendant",false],["solitaires-preset-pendant",GLOBAL_CTX+"/jewellery/filter/preset+solitaire+pendants.html",false],["solitaires-build-earrings",GLOBAL_CTX+"/build-your-own-diamond-earring",false],["solitaires-preset-earrings",GLOBAL_CTX+"/jewellery/filter/preset+solitaire+earrings.html",false],["solitaires-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-solitaire.html",false],["solitaires-education",GLOBAL_CTX+"/jewellery-education-cat-2.html",false],["solitaires-education2",GLOBAL_CTX+"/jewellery-care-tips-and-advice-cat-19.html",false],["solitaires-certifications",GLOBAL_CTX+"/certifications.html",false],["all-jewellery",GLOBAL_CTX+"/jewellery.html",false],["all-jewellery-bracelets",GLOBAL_CTX+"/jewellery/bracelets.html",false],["all-jewellery-bracelets-diamond",GLOBAL_CTX+"/jewellery/diamond-bracelets.html",false],["all-jewellery-bracelets-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-bracelets.html",false],["all-jewellery-bracelets-men",GLOBAL_CTX+"/jewellery/bracelets-men.html",false],["all-jewellery-diamond",GLOBAL_CTX+"/jewellery/diamond.html",false],["all-jewellery-diamond-rings",GLOBAL_CTX+"/jewellery/diamond-rings.html",false],["all-jewellery-diamond-earrings",GLOBAL_CTX+"/jewellery/diamond-earrings.html",false],["all-jewellery-diamond-pendants",GLOBAL_CTX+"/jewellery/diamond-pendants.html",false],["all-jewellery-diamond-bangles",GLOBAL_CTX+"/jewellery/diamond-bangles.html",false],["all-jewellery-diamond-bracelets",GLOBAL_CTX+"/jewellery/diamond-bracelets.html",false],["all-jewellery-diamond-necklaces",GLOBAL_CTX+"/jewellery/diamond-necklaces.html",false],["all-jewellery-diamond-mangalsutra",GLOBAL_CTX+"/jewellery/diamond-mangalsutra.html",false],["all-jewellery-diamond-nosepins",GLOBAL_CTX+"/jewellery/diamond-nose+pins.html",false],["all-jewellery-nosepins",GLOBAL_CTX+"/jewellery/nose+pins.html",false],["all-jewellery-nosepins-noserings",GLOBAL_CTX+"/jewellery/filter/nose+ring-nose+pins.html",false],["all-jewellery-nosepins-plain-gold",GLOBAL_CTX+"/jewellery/filter/plain+gold-nose+pins.html",false],["all-jewellery-nosepins-diamond",GLOBAL_CTX+"/jewellery/diamond-nose+pins.html",false],["all-jewellery-gemstone-nose-pins",GLOBAL_CTX+"/jewellery/gemstone-nose+pins.html",false],["all-jewellery-gold",GLOBAL_CTX+"/jewellery/gold.html",false],["all-jewellery-gold-rings",GLOBAL_CTX+"/jewellery/gold-rings.html",false],["all-jewellery-gold-earrings",GLOBAL_CTX+"/jewellery/gold-earrings.html",false],["all-jewellery-gold-pendants",GLOBAL_CTX+"/jewellery/gold-pendants.html",false],["all-jewellery-gold-bangles",GLOBAL_CTX+"/jewellery/gold-bangles.html",false],["all-jewellery-gold-bracelets",GLOBAL_CTX+"/jewellery/gold-bracelets.html",false],["all-jewellery-gold-necklaces",GLOBAL_CTX+"/jewellery/gold-necklaces.html",false],["all-jewellery-gold-mangalsutra",GLOBAL_CTX+"/jewellery/gold-mangalsutra.html",false],["all-jewellery-gold-nosepins",GLOBAL_CTX+"/jewellery/gold-nose+pins.html",false],["all-jewellery-necklaces",GLOBAL_CTX+"/jewellery/necklaces.html",false],["all-jewellery-necklaces-wedding",GLOBAL_CTX+"/jewellery/wedding-necklaces.html",false],["all-jewellery-necklaces-diamond",GLOBAL_CTX+"/jewellery/diamond-necklaces.html",false],["all-jewellery-necklaces-pearl",GLOBAL_CTX+"/jewellery/pearl-necklaces.html",false],["all-jewellery-necklaces-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-necklaces.html",false],["all-jewellery-gemstone",GLOBAL_CTX+"/jewellery/gemstone.html",false],["all-jewellery-gemstone-rings",GLOBAL_CTX+"/jewellery/gemstone-rings.html",false],["all-jewellery-gemstone-earrings",GLOBAL_CTX+"/jewellery/gemstone-earrings.html",false],["all-jewellery-gemstone-pendants",GLOBAL_CTX+"/jewellery/gemstone-pendants.html",false],["all-jewellery-gemstone-bangles",GLOBAL_CTX+"/jewellery/gemstone-bangles.html",false],["all-jewellery-gemstone-bracelets",GLOBAL_CTX+"/jewellery/gemstone-bracelets.html",false],["all-jewellery-gemstone-necklaces",GLOBAL_CTX+"/jewellery/gemstone-necklaces.html",false],["all-jewellery-gemstone-mangalsutra",GLOBAL_CTX+"/jewellery/gemstone-mangalsutra.html",false],["all-jewellery-gemstone-nosepins",GLOBAL_CTX+"/jewellery/gemstone-nose+pins.html",false],["all-jewellery-mangalsutra",GLOBAL_CTX+"/jewellery/mangalsutra.html",false],["all-jewellery-mangalsutra-diamond",GLOBAL_CTX+"/jewellery/diamond-mangalsutra.html",false],["all-jewellery-mangalsutra-plain-gold",GLOBAL_CTX+"/jewellery/plain+gold-mangalsutra.html",false],["all-jewellery-mangalsutra-everyday",GLOBAL_CTX+"/jewellery/everyday-mangalsutra.html",false],["all-jewellery-platinum",GLOBAL_CTX+"/jewellery/platinum.html",false],["all-jewellery-platinum-women",GLOBAL_CTX+"/jewellery/filter/platinum-women.html",false],["all-jewellery-platinum-men",GLOBAL_CTX+"/jewellery/filter/platinum-men.html",false],["all-jewellery-platinum-diamond",GLOBAL_CTX+"/jewellery/filter/platinum-diamond.html",false],["all-jewellery-goldcoins",GLOBAL_CTX+"/jewellery/goldcoins.html",false],["all-jewellery-goldcoins-plain-gold",GLOBAL_CTX+"/jewellery/plaingoldcoins.html",false],["all-jewellery-goldcoins-lakshmi",GLOBAL_CTX+"/jewellery/lakshmigoldcoins.html",false],["all-jewellery-chains",GLOBAL_CTX+"/jewellery/chains.html",false],["all-jewellery-chains-mangalsutra",GLOBAL_CTX+"/jewellery/filter/mangalsutra+chains.html",false],["all-jewellery-men",GLOBAL_CTX+"/jewellery/men.html",false],["all-jewellery-men-rings",GLOBAL_CTX+"/jewellery/rings-men.html",false],["all-jewellery-men-bangles",GLOBAL_CTX+"/jewellery/bangles-men.html",false],["all-jewellery-men-bracelets",GLOBAL_CTX+"/jewellery/bracelets-men.html",false],["all-jewellery-men-earrings",GLOBAL_CTX+"/jewellery/earrings-men.html",false],["all-jewellery-kids",GLOBAL_CTX+"/jewellery/kids.html",false],["all-jewellery-kids-earrings",GLOBAL_CTX+"/jewellery/earrings-kids.html",false],["all-jewellery-kids-pendants",GLOBAL_CTX+"/jewellery/pendants-kids.html",false],["gifts-all",GLOBAL_CTX+"/gifts.html",false],["gifts-rakhi",GLOBAL_CTX+"/jewellery/filter/raksha+bandhan.html",false],["gifts-anniversary",GLOBAL_CTX+"/jewellery/filter/gift-for+anniversary.html",false],["gifts-birthday",GLOBAL_CTX+"/jewellery/filter/gift-for+birthday.html",false],["gifts-engagement",GLOBAL_CTX+"/jewellery/gift-for+engagement.html",false],["gifts-wedding",GLOBAL_CTX+"/jewellery/filter/for+wedding-gift.html",false],["gifts-her",GLOBAL_CTX+"/jewellery/filter/gifts+for+her.html",false],["gifts-below50k",GLOBAL_CTX+"/jewellery/filter/gift-below+5000.html",false],["gifts-5k10k",GLOBAL_CTX+"/jewellery/filter/above+5000-gift-below+rs+10000.html",false],["gifts-10k20k",GLOBAL_CTX+"/jewellery/filter/gift-rs+10000+to+rs+20000.html",false],["gifts-20k30k",GLOBAL_CTX+"/jewellery/filter/gift-rs+20000+to+rs+30000.html",false],["gifts-above30k",GLOBAL_CTX+"/jewellery/filter/above+30000-gift.html",false],["gifts-offers",GLOBAL_CTX+"/jewellery/filter/offers-gift.html",false],["gifts-her",GLOBAL_CTX+"/jewellery/filter/gifts+for+her.html",false],["gifts-him",GLOBAL_CTX+"/jewellery/filter/gifts+for+him.html",false],["gifts-mother",GLOBAL_CTX+"/jewellery/filter/gift-for+mother.html",false],["gifts-father",GLOBAL_CTX+"/jewellery/filter/gift-for+father.html",false],["gifts-sister",GLOBAL_CTX+"/jewellery/filter/gift-for+sister.html",false],["gifts-brother",GLOBAL_CTX+"/jewellery/filter/gift-for+brother.html",false],["gifts-ndd",GLOBAL_CTX+"/jewellery/filter/next+day+delivery-gift.html",false],["gifts-browse-all",GLOBAL_CTX+"/jewellery/filter/gift.html",false],["gifts-giftcard",GLOBAL_CTX+"/giftcard.html",false],["next-day-delivery",GLOBAL_CTX+"/jewellery/next+day+delivery.html",false],["goldcoins-2gms",GLOBAL_CTX+"/gold+coins/2-gram-24-kt-gold-coin~5921.html",false],["goldcoins-5gms",GLOBAL_CTX+"/gold+coins/5-gram-24-kt-gold-coin~5922.html",false],["goldcoins-10gms",GLOBAL_CTX+"/gold+coins/10-gram-24-kt-gold-coin~5923.html",false],["goldcoins-20gms",GLOBAL_CTX+"/gold+coins/20-gram-24-kt-gold-coin~5924.html",false],["goldcoins-50gms",GLOBAL_CTX+"/gold+coins/50-gram-24-kt-gold-coin~5925.html",false],["goldcoins-all",GLOBAL_CTX+"/jewellery/goldcoins.html",false],["goldcoins-plain-gold",GLOBAL_CTX+"/jewellery/plaingoldcoins.html",false],["goldcoins-lakshmi",GLOBAL_CTX+"/jewellery/lakshmigoldcoins.html",false],["offers",GLOBAL_CTX+"/jewellery/offers.html",false],["rakhi",GLOBAL_CTX+"/jewellery/filter/raksha+bandhan.html",false],["gift-for-sister",GLOBAL_CTX+"/jewellery/gift-for+sister.html",false],["offers-100mc",GLOBAL_CTX+"/jewellery/filter/100+percent+making+charge+off.html",false],["offers-100mc-20off",GLOBAL_CTX+"/jewellery/filter/100+percent+making+charge+off-upto+20+percent+off.html",false],["offers-20off",GLOBAL_CTX+"/jewellery/filter/upto+20+percent+off.html",false],["tah",GLOBAL_CTX+"/try-at-home.html",false],["collections",GLOBAL_CTX+"/collections.html",false],];function process(b,e,g){var a,c,f=false;if(e=="f"){a=footer_links}else{if(e=="h"){a=header_links}else{if(e=="t"){a=testimonials_block_links}else{if(e=="bsp"){a=bs_promise_links}else{if(e=="bsc"){a=bs_certification_links}else{if(e=="g"){a=gifts_links}else{if(e=="hpw"){a=home_page_w}else{if(e=="m"){a=menu_links}else{console.log("wrong array / array not defined.")}}}}}}}}var c="";for(var d=0;d<a.length;d++){if(a[d][0]==b){if(a[d][3]){_gaq.push(a[d][3])}if(g!=undefined&&g!=false||a[d][2]==true){f=true}c=a[d][1];if(hasTahAppointment==="true"&&c.indexOf("try-at-home")>-1){c=GLOBAL_CTX+"/hto/view"}if(f){window.open(c);f=false}else{location.href=c}break}}}var specialKeys={8:"backspace",9:"tab",13:"return",16:"shift",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"};var target;$(document).bind("keydown",isKeyDown);$(document).bind("keyup",isKeyUp);function isKeyUp(){target=false}function isKeyDown(b){for(spk in specialKeys){if(b.keyCode!=spk){var a=b.ctrlKey||b.metaKey;if(a){target=true;break}}}}$(document).ready(function(){$("body").on("click",".prcs-d",function(){var d,b,a,c;d=$(this).data("p");b=d.split(",");if(b[0]){a=b[0]}if(b[1]){c=b[1]}process(a,c,target)});$("body").on("click",".prcs-dl",function(){var a=$(this).data("p");get_data=a.split(",");if(get_data[1]){get_ga=get_data[1].split("-");trackGA(get_ga[0],get_ga[1],get_ga[2])}if(get_data[0]){if(target){window.opener=this;window.open(get_data[0])}else{location.href=get_data[0]}}});$("body").on("click",".prcs-dlh",function(){var b=$(this).data("p");var a="";get_data=b.split(",");if(get_data[1]){get_ga=get_data[1].split("-");trackGA(get_ga[0],get_ga[1],get_ga[2])}if(get_data[0]){a=get_data[0].replace(/@/g,"/").replace("!!",".html");if(target){window.opener=this;window.open(GLOBAL_CTX+"/"+a)}else{location.href=GLOBAL_CTX+"/"+a}}})});(function(x){var A=37,F=39,B=38,E=40,n=9,d=17,v=16,C=46,a=13,k=27,c=8,u=65,o=67,h=86,D=90,q=89,r={},p=false,m=false,H,s={},K={"ẚ":"a","Á":"a","á":"a","À":"a","à":"a","Ă":"a","ă":"a","Ắ":"a","ắ":"a","Ằ":"a","ằ":"a","Ẵ":"a","ẵ":"a","Ẳ":"a","Ẫ":"a","ẫ":"a","Ẩ":"a","ẩ":"a","Ǎ":"a","ǎ":"a","Å":"a","å":"a","Ǻ":"a","ǻ":"a","Ä":"a","ä":"a","Ǟ":"a","ǟ":"a","Ã":"a","ã":"a","Ȧ":"a","ȧ":"a","Ǡ":"a","ǡ":"a","Ą":"a","ą":"a","Ā":"a","ā":"a","Ả":"a","ả":"a","Ȁ":"a","ȁ":"a","Ȃ":"a","ȃ":"a","Ạ":"a","ạ":"a","Ặ":"a","ặ":"a","Ậ":"a","ậ":"a","Ḁ":"a","ḁ":"a","Ⱥ":"a","ⱥ":"a","Ǽ":"a","ǽ":"a","Ǣ":"a","ǣ":"a","Ḃ":"b","ḃ":"b","Ḅ":"b","ḅ":"b","Ḇ":"b","ḇ":"b","Ƀ":"b","ƀ":"b","ᵬ":"b","Ɓ":"b","ɓ":"b","Ƃ":"b","ƃ":"b","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Č":"c","č":"c","Ċ":"c","ċ":"c","Ç":"c","ç":"c","Ḉ":"c","ḉ":"c","Ȼ":"c","ȼ":"c","Ƈ":"c","ƈ":"c","ɕ":"c","Ď":"d","ď":"d","Ḋ":"d","ḋ":"d","Ḑ":"d","ḑ":"d","Ḍ":"d","ḍ":"d","Ḓ":"d","ḓ":"d","Ḏ":"d","ḏ":"d","Đ":"d","đ":"d","ᵭ":"d","Ɖ":"d","ɖ":"d","Ɗ":"d","ɗ":"d","Ƌ":"d","ƌ":"d","ȡ":"d","ð":"d","É":"e","Ə":"e","Ǝ":"e","ǝ":"e","é":"e","È":"e","è":"e","Ĕ":"e","ĕ":"e","Ê":"e","ê":"e","Ế":"e","ế":"e","Ề":"e","ề":"e","Ễ":"e","ễ":"e","Ể":"e","ể":"e","Ě":"e","ě":"e","Ë":"e","ë":"e","Ẽ":"e","ẽ":"e","Ė":"e","ė":"e","Ȩ":"e","ȩ":"e","Ḝ":"e","ḝ":"e","Ę":"e","ę":"e","Ē":"e","ē":"e","Ḗ":"e","ḗ":"e","Ḕ":"e","ḕ":"e","Ẻ":"e","ẻ":"e","Ȅ":"e","ȅ":"e","Ȇ":"e","ȇ":"e","Ẹ":"e","ẹ":"e","Ệ":"e","ệ":"e","Ḙ":"e","ḙ":"e","Ḛ":"e","ḛ":"e","Ɇ":"e","ɇ":"e","ɚ":"e","ɝ":"e","Ḟ":"f","ḟ":"f","ᵮ":"f","Ƒ":"f","ƒ":"f","Ǵ":"g","ǵ":"g","Ğ":"g","ğ":"g","Ĝ":"g","ĝ":"g","Ǧ":"g","ǧ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ḡ":"g","ḡ":"g","Ǥ":"g","ǥ":"g","Ɠ":"g","ɠ":"g","Ĥ":"h","ĥ":"h","Ȟ":"h","ȟ":"h","Ḧ":"h","ḧ":"h","Ḣ":"h","ḣ":"h","Ḩ":"h","ḩ":"h","Ḥ":"h","ḥ":"h","Ḫ":"h","ḫ":"h",H:"h","̱":"h","ẖ":"h","Ħ":"h","ħ":"h","Ⱨ":"h","ⱨ":"h","Í":"i","í":"i","Ì":"i","ì":"i","Ĭ":"i","ĭ":"i","Î":"i","î":"i","Ǐ":"i","ǐ":"i","Ï":"i","ï":"i","Ḯ":"i","ḯ":"i","Ĩ":"i","ĩ":"i","İ":"i",i:"i","Į":"i","į":"i","Ī":"i","ī":"i","Ỉ":"i","ỉ":"i","Ȉ":"i","ȉ":"i","Ȋ":"i","ȋ":"i","Ị":"i","ị":"i","Ḭ":"i","ḭ":"i",I:"i","ı":"i","Ɨ":"i","ɨ":"i","Ĵ":"j","ĵ":"j",J:"j","̌":"j","ǰ":"j","ȷ":"j","Ɉ":"j","ɉ":"j","ʝ":"j","ɟ":"j","ʄ":"j","Ḱ":"k","ḱ":"k","Ǩ":"k","ǩ":"k","Ķ":"k","ķ":"k","Ḳ":"k","ḳ":"k","Ḵ":"k","ḵ":"k","Ƙ":"k","ƙ":"k","Ⱪ":"k","ⱪ":"k","Ĺ":"a","ĺ":"l","Ľ":"l","ľ":"l","Ļ":"l","ļ":"l","Ḷ":"l","ḷ":"l","Ḹ":"l","ḹ":"l","Ḽ":"l","ḽ":"l","Ḻ":"l","ḻ":"l","Ł":"l","ł":"l","̣":"l","Ŀ":"l","ŀ":"l","Ƚ":"l","ƚ":"l","Ⱡ":"l","ⱡ":"l","Ɫ":"l","ɫ":"l","ɬ":"l","ɭ":"l","ȴ":"l","Ḿ":"m","ḿ":"m","Ṁ":"m","ṁ":"m","Ṃ":"m","ṃ":"m","ɱ":"m","Ń":"n","ń":"n","Ǹ":"n","ǹ":"n","Ň":"n","ň":"n","Ñ":"n","ñ":"n","Ṅ":"n","ṅ":"n","Ņ":"n","ņ":"n","Ṇ":"n","ṇ":"n","Ṋ":"n","ṋ":"n","Ṉ":"n","ṉ":"n","Ɲ":"n","ɲ":"n","Ƞ":"n","ƞ":"n","ɳ":"n","ȵ":"n",N:"n","̈":"n",n:"n","Ó":"o","ó":"o","Ò":"o","ò":"o","Ŏ":"o","ŏ":"o","Ô":"o","ô":"o","Ố":"o","ố":"o","Ồ":"o","ồ":"o","Ỗ":"o","ỗ":"o","Ổ":"o","ổ":"o","Ǒ":"o","ǒ":"o","Ö":"o","ö":"o","Ȫ":"o","ȫ":"o","Ő":"o","ő":"o","Õ":"o","õ":"o","Ṍ":"o","ṍ":"o","Ṏ":"o","ṏ":"o","Ȭ":"o","ȭ":"o","Ȯ":"o","ȯ":"o","Ȱ":"o","ȱ":"o","Ø":"o","ø":"o","Ǿ":"o","ǿ":"o","Ǫ":"o","ǫ":"o","Ǭ":"o","ǭ":"o","Ō":"o","ō":"o","Ṓ":"o","ṓ":"o","Ṑ":"o","ṑ":"o","Ỏ":"o","ỏ":"o","Ȍ":"o","ȍ":"o","Ȏ":"o","ȏ":"o","Ơ":"o","ơ":"o","Ớ":"o","ớ":"o","Ờ":"o","ờ":"o","Ỡ":"o","ỡ":"o","Ở":"o","ở":"o","Ợ":"o","ợ":"o","Ọ":"o","ọ":"o","Ộ":"o","ộ":"o","Ɵ":"o","ɵ":"o","Ṕ":"p","ṕ":"p","Ṗ":"p","ṗ":"p","Ᵽ":"p","Ƥ":"p","ƥ":"p",P:"p","̃":"p",p:"p","ʠ":"q","Ɋ":"q","ɋ":"q","Ŕ":"r","ŕ":"r","Ř":"r","ř":"r","Ṙ":"r","ṙ":"r","Ŗ":"r","ŗ":"r","Ȑ":"r","ȑ":"r","Ȓ":"r","ȓ":"r","Ṛ":"r","ṛ":"r","Ṝ":"r","ṝ":"r","Ṟ":"r","ṟ":"r","Ɍ":"r","ɍ":"r","ᵲ":"r","ɼ":"r","Ɽ":"r","ɽ":"r","ɾ":"r","ᵳ":"r","ß":"s","Ś":"s","ś":"s","Ṥ":"s","ṥ":"s","Ŝ":"s","ŝ":"s","Š":"s","š":"s","Ṧ":"s","ṧ":"s","Ṡ":"s","ṡ":"s","ẛ":"s","Ş":"s","ş":"s","Ṣ":"s","ṣ":"s","Ṩ":"s","ṩ":"s","Ș":"s","ș":"s","ʂ":"s",S:"s","̩":"s",s:"s","Þ":"t","þ":"t","Ť":"t","ť":"t",T:"t","ẗ":"t","Ṫ":"t","ṫ":"t","Ţ":"t","ţ":"t","Ṭ":"t","ṭ":"t","Ț":"t","ț":"t","Ṱ":"t","ṱ":"t","Ṯ":"t","ṯ":"t","Ŧ":"t","ŧ":"t","Ⱦ":"t","ⱦ":"t","ᵵ":"t","ƫ":"t","Ƭ":"t","ƭ":"t","Ʈ":"t","ʈ":"t","ȶ":"t","Ú":"u","ú":"u","Ù":"u","ù":"u","Ŭ":"u","ŭ":"u","Û":"u","û":"u","Ǔ":"u","ǔ":"u","Ů":"u","ů":"u","Ü":"u","ü":"u","Ǘ":"u","ǘ":"u","Ǜ":"u","ǜ":"u","Ǚ":"u","ǚ":"u","Ǖ":"u","ǖ":"u","Ű":"u","ű":"u","Ũ":"u","ũ":"u","Ṹ":"u","ṹ":"u","Ų":"u","ų":"u","Ū":"u","ū":"u","Ṻ":"u","ṻ":"u","Ủ":"u","ủ":"u","Ȕ":"u","ȕ":"u","Ȗ":"u","ȗ":"u","Ư":"u","ư":"u","Ứ":"u","ứ":"u","Ừ":"u","ừ":"u","Ữ":"u","ữ":"u","Ử":"u","ử":"u","Ự":"u","ự":"u","Ụ":"u","ụ":"u","Ṳ":"u","ṳ":"u","Ṷ":"u","ṷ":"u","Ṵ":"u","ṵ":"u","Ʉ":"u","ʉ":"u","Ṽ":"v","ṽ":"v","Ṿ":"v","ṿ":"v","Ʋ":"v","ʋ":"v","Ẃ":"w","ẃ":"w","Ẁ":"w","ẁ":"w","Ŵ":"w","ŵ":"w",W:"w","̊":"w","ẘ":"w","Ẅ":"w","ẅ":"w","Ẇ":"w","ẇ":"w","Ẉ":"w","ẉ":"w","Ẍ":"x","ẍ":"x","Ẋ":"x","ẋ":"x","Ý":"y","ý":"y","Ỳ":"y","ỳ":"y","Ŷ":"y","ŷ":"y",Y:"y","ẙ":"y","Ÿ":"y","ÿ":"y","Ỹ":"y","ỹ":"y","Ẏ":"y","ẏ":"y","Ȳ":"y","ȳ":"y","Ỷ":"y","ỷ":"y","Ỵ":"y","ỵ":"y","ʏ":"y","Ɏ":"y","ɏ":"y","Ƴ":"y","ƴ":"y","Ź":"z","ź":"z","Ẑ":"z","ẑ":"z","Ž":"z","ž":"z","Ż":"z","ż":"z","Ẓ":"z","ẓ":"z","Ẕ":"z","ẕ":"z","Ƶ":"z","ƶ":"z","Ȥ":"z","ȥ":"z","ʐ":"z","ʑ":"z","Ⱬ":"z","ⱬ":"z","Ǯ":"z","ǯ":"z","ƺ":"z","２":"2","６":"6","Ｂ":"B","Ｆ":"F","Ｊ":"J","Ｎ":"N","Ｒ":"R","Ｖ":"V","Ｚ":"Z","ｂ":"b","ｆ":"f","ｊ":"j","ｎ":"n","ｒ":"r","ｖ":"v","ｚ":"z","１":"1","５":"5","９":"9","Ａ":"A","Ｅ":"E","Ｉ":"I","Ｍ":"M","Ｑ":"Q","Ｕ":"U","Ｙ":"Y","ａ":"a","ｅ":"e","ｉ":"i","ｍ":"m","ｑ":"q","ｕ":"u","ｙ":"y","０":"0","４":"4","８":"8","Ｄ":"D","Ｈ":"H","Ｌ":"L","Ｐ":"P","Ｔ":"T","Ｘ":"X","ｄ":"d","ｈ":"h","ｌ":"l","ｐ":"p","ｔ":"t","ｘ":"x","３":"3","７":"7","Ｃ":"C","Ｇ":"G","Ｋ":"K","Ｏ":"O","Ｓ":"S","Ｗ":"W","ｃ":"c","ｇ":"g","ｋ":"k","ｏ":"o","ｓ":"s","ｗ":"w","ẳ":"a","Â":"a","â":"a","Ấ":"a","ấ":"a","Ầ":"a","ầ":"a"};if(window.getComputedStyle===undefined){window.getComputedStyle=(function(){function R(U,V,X,W){var Z=V[X],T=parseFloat(Z),Y=Z.split(/\d/)[0],S;W=W!==null?W:/%|em/.test(Y)&&U.parentElement?R(U.parentElement,U.parentElement.currentStyle,"fontSize",null):16;S=X==="fontSize"?W:/width/i.test(X)?U.clientWidth:U.clientHeight;return(Y==="em")?T*W:(Y==="in")?T*96:(Y==="pt")?T*96/72:(Y==="%")?T/100*S:T}function P(V,X){var Y=X==="border"?"Width":"",U=X+"Top"+Y,W=X+"Right"+Y,S=X+"Bottom"+Y,T=X+"Left"+Y;V[X]=(V[U]===V[W]===V[S]===V[T]?[V[U]]:V[U]===V[S]&&V[T]===V[W]?[V[U],V[W]]:V[T]===V[W]?[V[U],V[W],V[S]]:[V[U],V[W],V[S],V[T]]).join(" ")}function O(T){var S=T.currentStyle,U=this,W,V=R(T,S,"fontSize",null);for(W in S){if(Object.prototype.hasOwnProperty.call(S,W)){if(/width|height|margin.|padding.|border.+W/.test(W)&&U[W]!=="auto"){U[W]=R(T,S,W,V)+"px"}else{U[W]=S[W]}}}P(U,"margin");P(U,"padding");P(U,"border");U.fontSize=V+"px";return U}O.prototype={constructor:O,getPropertyPriority:function(){},getPropertyValue:function(S){return this[S]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}};function Q(S){return new O(S)}return Q}(this))}x(document).on("keydown.xdsoftctrl",function(O){if(O.keyCode===d){p=true}if(O.keyCode===v){p=true}}).on("keyup.xdsoftctrl",function(O){if(O.keyCode===d){p=false}if(O.keyCode===v){p=false}});function I(Q){if(!Q){return""}var O="",P;for(P=0;P<Q.length;P+=1){O+=K[Q.charAt(P)]||Q.charAt(P)}return O}function g(O){return O.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function M(P){if(!P){return}if(P.selectionStart){return P.selectionStart}if(document.selection){P.focus();var Q=document.selection.createRange(),O=document.selection.createRange().text.length;Q.moveStart("character",-P.value.length);return Q.text.length-O}}function t(P,Q){if(P.setSelectionRange){P.focus();P.setSelectionRange(Q,Q)}else{if(P.createTextRange){var O=P.createTextRange();O.collapse(true);O.moveEnd("character",Q);O.moveStart("character",Q);O.select()}}}function L(O){return O!==undefined}function N(R,P,Q,O){if(L(R)&&!x.isArray(R)){return x.isFunction(R)?R.apply(this,P):O}if(L(Q)){return N.call(this,Q,P)}return O}function y(S,R,P,O){var Q;return N.call(this,(L(this.source[R])&&Object.prototype.hasOwnProperty.call(this.source[R],S))?this.source[R][S]:Q,P,function(){return N.call(this,L(this[S][R])?this[S][R]:(L(this[S][0])?this[S][0]:(Object.prototype.hasOwnProperty.call(this,S)?this[S]:Q)),P,r[S][R]||r[S][0]||r[S],O)},O)}function J(P,O){if(!L(O)){O=0}if(x.isArray(this.source)&&L(this.source[O])&&L(this.source[O][P])){return this.source[O][P]}if(L(this[P])){if(x.isArray(this[P])){if(L(this[P][O])){return this[P][O]}if(L(this[P][0])){return this[P][0]}return null}return this[P]}return null}function i(Q,R,O,P){x.ajax(x.extend(true,{url:Q,type:"GET",async:true,cache:false,dataType:"json"},R.ajax)).done(function(S){O&&O.apply(this,x.makeArray(arguments))}).fail(function(S,T){if(P){console.log("Request failed: "+T)}})}function f(R,Q){var O=false,P;for(P=0;P<R.length;P+=1){if(O=y.call(this,"findRight",P,[R[P],Q,P])){return{right:O,source:P}}}return false}function w(Q,P){var O;j.call(this,Q,P);for(O=0;O<Q.length;O+=1){Q[O]=y.call(this,"filter",O,[Q[O],P,O],Q[O])}}function e(S,O,T){var Q=this,R;if(x.isFunction(Q.source)){Q.source.apply(Q,[S,function(U){O=[U];N.call(Q,T,[S])},O,0])}else{for(R=0;R<Q.source.length;R+=1){if(x.isArray(Q.source[R])){O[R]=Q.source[R]}else{if(x.isFunction(Q.source[R])){(function(U){Q.source[U].apply(Q,[S,function(V){if(!O[U]){O[U]=[]}if(V&&x.isArray(V)){switch(Q.appendMethod){case"replace":O[U]=V;break;default:O[U]=O[U].concat(V)}}N.call(Q,T,[S])},O,U])}(R))}else{switch(Q.source[R].type){case"remote":if(L(Q.source[R].url)){if(!L(Q.source[R].minLength)||S.length>=Q.source[R].minLength){var P=y.call(Q,"replace",R,[Q.source[R].url,S],"");if(!O[R]){O[R]=[]}(function(U){i(P,Q.source[U],function(V){O[U]=V;N.call(Q,T,[S])},Q.debug)}(R))}}break;default:if(L(Q.source[R]["data"])){O[R]=Q.source[R]["data"]}else{O[R]=Q.source[R]}}}}}}N.call(Q,T,[S])}function j(Q,P){for(var O=0;O<Q.length;O++){Q[O]=y.call(this,"preparse",O,[Q[O],P],Q[O])}}function l(T,S){var R,Q,P,O=[];for(R=0;R<T.length;R+=1){for(Q=0;Q<T[R].length;Q+=1){if(O.length>=this.limit){break}P=x(y.call(this,"render",R,[T[R][Q],R,Q,S],""));P.data("source",R);P.data("pid",Q);P.data("item",T[R][Q]);O.push(P)}}return O}function b(O,P){if(L(O.data("source"))&&L(O.data("pid"))&&L(P[O.data("source")])&&L(P[O.data("source")][O.data("pid")])){return P[O.data("source")][O.data("pid")]}return false}function z(O,Q){var P=b(O,Q);if(P){return y.call(this,"getValue",O.data("source"),[P,O.data("source")])}else{if(L(O.data("value"))){return decodeURIComponent(O.data("value"))}else{return O.html()}}}r={minLength:0,valueKey:"value",titleKey:"title",highlight:true,showHint:true,dropdownWidth:"100%",dropdownStyle:{},itemStyle:{},hintStyle:false,style:false,debug:true,openOnFocus:false,closeOnBlur:true,autoselect:false,accents:true,replaceAccentsForRemote:true,limit:20,visibleLimit:20,visibleHeight:0,defaultHeightItem:30,timeoutUpdate:10,get:function(P,O){return J.call(this,P,O)},replace:[function(O,P){if(this.replaceAccentsForRemote){P=I(P)}return O.replace("%QUERY%",encodeURIComponent(P))}],equal:function(P,O){return O.toLowerCase()==P.substr(0,O.length).toLowerCase()},findRight:[function(O,T,S){var Q=[],R="",P;if(O){for(P=0;P<O.length;P+=1){R=y.call(this,"getValue",S,[O[P],S]);if(y.call(this,"equal",S,[R,T,S],false)){return O[P]}}}return false}],valid:[function(P,O){if(this.accents){P=I(P);O=I(O)}return P.toLowerCase().indexOf(O.toLowerCase())!=-1}],filter:[function(O,T,S){var Q=[],R="",P;if(O){for(P=0;P<O.length;P+=1){R=L(O[P][this.get("valueKey",S)])?O[P][this.get("valueKey",S)]:O[P].toString();if(y.call(this,"valid",S,[R,T])){Q.push(O[P])}}}return Q}],preparse:function(O){return O},getValue:[function(O,P){return L(O[this.get("valueKey",P)])?O[this.get("valueKey",P)]:O.toString()}],getTitle:[function(O,P){return L(O[this.get("titleKey",P)])?O[this.get("titleKey",P)]:O.toString()}],render:[function(ab,O,S,V){var Y=y.call(this,"getValue",O,[ab,O],r.getValue[0].call(this,ab,O)),X=y.call(this,"getTitle",O,[ab,O],r.getTitle[0].call(this,ab,O)),ac="",Z="",aa="",T="",P="",U,R,Q,W=0;if(this.highlight){if(!this.accents){X=X.replace(new RegExp("("+g(V)+")","i"),"<b>$1</b>")}else{aa=I(X).toLowerCase().replace(/[<>]+/g,""),Z=I(V).toLowerCase().replace(/[<>]+/g,"");T=aa.replace(new RegExp(g(Z),"g"),"<"+Z+">");for(Q=0;Q<T.length;Q+=1){U=X.charAt(W);R=T.charAt(Q);if(R==="<"){P+="<b>"}else{if(R===">"){P+="</b>"}else{W+=1;P+=U}}}X=P}}return'<div><a href="'+GLOBAL_CTX+ab.result_link+"?search_category=suggestion-click&search_query="+Y+"&search_type=auto-suggestion&cleverTapId="+clevertap.getCleverTapID()+'&_eventId=searched_for_product" '+(Y==V?'class="active"':"")+' data-value="'+encodeURIComponent(Y)+'">'+X+"</a></div>"}],appendMethod:"concat",source:[]};function G(T,Q){if(x(T).hasClass("xdsoft_input")){return}var ad=x('<div class="xdsoft_autocomplete"></div>'),P=x('<div class="xdsoft_autocomplete_dropdown"></div>'),ac=x('<input readonly class="xdsoft_autocomplete_hint"/>'),O=x(T),ae=0,W=[],Z=false,ab="",V="",aa="",S=null,R=0;O.data("autocomplete_options",Q);P.on("mousedown","a",function(ag){location.href=GLOBAL_CTX+x(this).attr("href")}).on("updatescroll.xdsoft",function(){var ag=P.find(".active");if(!ag.length){return}var ak=ag.position().top,ai=ag.outerHeight(true),aj=P.scrollTop(),ah=P.height();if(ak<0){P.scrollTop(aj-Math.abs(ak))}else{if(ak+ai>ah){P.scrollTop(aj+ak+ai-ah)}}});ad.css({display:O.css("display"),width:O.css("width")});if(Q.style){ad.css(Q.style)}O.addClass("xdsoft_input").attr("autocomplete","off");P.on("mousemove","div",function(){if(x(this).hasClass("active")){return true}P.find("div").removeClass("active");x(this).addClass("active")}).on("mousedown touchstart","div",function(){P.find("div").removeClass("active");x(this).addClass("active");O.trigger("pick.xdsoft")});function Y(){if(O.val()!=V){V=O.val()}else{return}if(V.length<Q.minLength){O.trigger("close.xdsoft");return}e.call(Q,V,W,function(ah){if(ah!=V){return}var ag;w.call(Q,W,ah);O.trigger("updateContent.xdsoft");if(Q.showHint&&V.length&&V.length<=O.prop("size")&&(ag=f.call(Q,W,V))){var ai=y.call(Q,"getTitle",ag.source,[ag.right,ag.source]);ai=ah+ai.substr(ah.length);ac.val(ai)}else{ac.val("")}});return}function X(aj){var ah=aj.keyCode,ag;switch(ah){case u:case o:case h:case D:case q:if(aj.shiftKey||aj.ctrlKey){return true}break;case v:case d:return true;break;case F:case A:if(p||m||aj.shiftKey||aj.ctrlKey){return true}ab=O.val();R=M(O[0]);if(ah===F&&R===ab.length){if(ag=f.call(Q,W,ab)){O.trigger("pick.xdsoft",[y.call(Q,"getValue",ag.source,[ag.right,ag.source])])}else{O.trigger("pick.xdsoft")}aj.preventDefault();return false}return true;case n:return true;case k:O.val(V).trigger("close.xdsoft");aj.preventDefault();return false;case E:case B:if(!Z){O.trigger("open.xdsoft");O.trigger("updateContent.xdsoft");aj.preventDefault();return false}S=P.find("div.active");var ai=ah==E?"next":"prev",ak=true;if(S.length){S.removeClass("active");if(S[ai]().length){S[ai]().addClass("active")}else{O.val(V);ak=false}}else{P.children().eq(ah==E?0:-1).addClass("active")}if(ak){O.trigger("timepick.xdsoft")}P.trigger("updatescroll.xdsoft");aj.preventDefault();return false}return}O.data("xdsoft_autocomplete",W).after(ad).on("pick.xdsoft",function(ah,ag){O.trigger("timepick.xdsoft",ag);aa=V=O.val();O.trigger("close.xdsoft");S=P.find("div.active").eq(0);if(!S.length){S=P.children().first()}O.trigger("selected.xdsoft",[b(S,W)])}).on("timepick.xdsoft",function(ah,ag){S=P.find("div.active");if(!S.length){S=P.children().first()}if(S.length){if(!L(ag)){O.val(z.call(Q,S,W))}else{O.val(ag)}O.trigger("autocompleted.xdsoft",[b(S,W)]);ac.val("");t(O[0],O.val().length)}}).on("keydown.xdsoft input.xdsoft cut.xdsoft paste.xdsoft",function(ah){var ag=X(ah);if(ag===false||ag===true){return ag}setTimeout(function(){Y()},1);Y()}).on("change.xdsoft",function(ag){V=O.val()});V=O.val();e.call(Q,O.val(),W,function(ag){w.call(Q,W,ag)});if(Q.openOnFocus){O.on("focusin.xdsoft",function(){O.trigger("open.xdsoft");O.trigger("updateContent.xdsoft")})}if(Q.closeOnBlur){O.on("focusout.xdsoft",function(){O.trigger("close.xdsoft")})}ad.append(O).append(P);var U=false,af=0;O.on("updateHelperPosition.xdsoft",function(){clearTimeout(af);af=setTimeout(function(){ad.css({display:O.css("display"),width:O.css("width")});P.css(x.extend(true,{left:O.position().left,top:O.position().top+parseInt(O.css("marginTop"))+parseInt(O[0].offsetHeight),marginLeft:O.css("marginLeft"),marginRight:O.css("marginRight"),width:Q.dropdownWidth=="100%"?O[0].offsetWidth:Q.dropdownWidth},Q.dropdownStyle));if(Q.showHint){var ag=getComputedStyle(O[0],"");ac[0].style.cssText=ag.cssText;ac.css({"box-sizing":ag.boxSizing,borderStyle:"solid",borderCollapse:ag.borderCollapse,borderLeftWidth:ag.borderLeftWidth,borderRightWidth:ag.borderRightWidth,borderTopWidth:ag.borderTopWidth,borderBottomWidth:ag.borderBottomWidth,paddingBottom:ag.paddingBottom,marginBottom:ag.marginBottom,paddingTop:ag.paddingTop,marginTop:ag.marginTop,paddingLeft:ag.paddingLeft,marginLeft:ag.marginLeft,paddingRight:ag.paddingRight,marginRight:ag.marginRight,maxHeight:ag.maxHeight,minHeight:ag.minHeight,maxWidth:ag.maxWidth,minWidth:ag.minWidth,width:ag.width,letterSpacing:ag.letterSpacing,lineHeight:ag.lineHeight,outlineWidth:ag.outlineWidth,fontFamily:ag.fontFamily,fontVariant:ag.fontVariant,fontStyle:O.css("fontStyle"),fontSize:O.css("fontSize"),fontWeight:O.css("fontWeight"),flex:ag.flex,justifyContent:ag.justifyContent,borderRadius:ag.borderRadius,"-webkit-box-shadow":"none","box-shadow":"none"});O.css("font-size",O.css("fontSize"));ac.innerHeight(O.innerHeight());ac.css(x.extend(true,{position:"absolute",zIndex:"1",borderColor:"transparent",outlineColor:"transparent",left:O.position().left,top:O.position().top,background:O.css("background")},Q.hintStyle));if(U!==false){ac.css("background",U)}else{U=O.css("background")}try{O[0].style.setProperty("background","transparent","important")}catch(ah){O.css("background","transparent")}ad.append(ac)}},Q.timeoutUpdate||1)});if(O.is(":visible")){O.trigger("updateHelperPosition.xdsoft")}else{H=setInterval(function(){if(O.is(":visible")){O.trigger("updateHelperPosition.xdsoft");clearInterval(H)}},100)}x(window).on("resize",function(){ad.css({width:"auto"});O.trigger("updateHelperPosition.xdsoft")});O.on("close.xdsoft",function(){if(!Z){return}P.hide();ac.val("");if(!Q.autoselect){O.val(V)}Z=false}).on("updateContent.xdsoft",function(){var ag=l.call(Q,W,O.val()),ah=10;if(ag.length){O.trigger("open.xdsoft")}else{O.trigger("close.xdsoft");return}x(ag).each(function(){this.css(x.extend(true,{paddingLeft:O.css("paddingLeft"),paddingRight:O.css("paddingRight")},Q.itemStyle))});P.html(ag);if(Q.visibleHeight){ah=Q.visibleHeight}else{ah=Q.visibleLimit*((ag[0]?ag[0].outerHeight(true):0)||Q.defaultHeightItem)+5}P.css("maxHeight",ah+"px")}).on("open.xdsoft",function(){if(Z){return}P.show();Z=true}).on("destroy.xdsoft",function(){O.removeClass("xdsoft");ad.after(O);ad.remove();clearTimeout(ae);O.data("xdsoft_autocomplete",null);O.off(".xdsoft")})}s={destroy:function(){return this.trigger("destroy.xdsoft")},update:function(){return this.trigger("updateHelperPosition.xdsoft")},options:function(O){if(this.data("autocomplete_options")&&x.isPlainObject(O)){this.data("autocomplete_options",x.extend(true,this.data("autocomplete_options"),O))}return this},setSource:function(O,S){if(this.data("autocomplete_options")&&(x.isPlainObject(O)||x.isFunction(O)||x.isArray(O))){var P=this.data("autocomplete_options"),R=this.data("xdsoft_autocomplete"),Q=P.source;if(S!==undefined&&!isNaN(S)){if(x.isPlainObject(O)||x.isArray(O)){Q[S]=x.extend(true,x.isArray(O)?[]:{},O)}else{Q[S]=O}}else{if(x.isFunction(O)){this.data("autocomplete_options").source=O}else{x.extend(true,Q,O)}}e.call(P,this.val(),R,function(T){w.call(P,R,T)})}return this},getSource:function(P){if(this.data("autocomplete_options")){var O=this.data("autocomplete_options").source;if(P!==undefined&&!isNaN(P)&&O[P]){return O[P]}else{return O}}return null}};x.fn.jautocomplete=function(O,P,Q){if(x.type(O)==="string"&&s[O]){return s[O].call(this,P,Q)}return this.each(function(){var R=x.extend(true,{},r,O);G(this,R)})}}(jQuery));